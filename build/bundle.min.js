!function(){"use strict";function t(t,e){return t[e.offset++]}function e(t,e){return t[e.offset++]|t[e.offset++]<<8}function n(t,e){return t[e.offset++]|t[e.offset++]<<8|t[e.offset++]<<16|t[e.offset++]<<24}function r(t,e){return n(t,e)>>>0}const i=new Int32Array(2),o=new Float32Array(i.buffer),s=new Float64Array(i.buffer);function a(n,i){const o=n[i.offset++];let s;o<192?s=31&o:217===o?s=t(n,i):218===o?s=e(n,i):219===o&&(s=r(n,i));const a=function(t,e,n){for(var r="",i=0,o=e,s=e+n;o<s;o++){var a=t[o];0!=(128&a)?192!=(224&a)?224!=(240&a)?240!=(248&a)?console.error("Invalid byte "+a.toString(16)):(i=(7&a)<<18|(63&t[++o])<<12|(63&t[++o])<<6|(63&t[++o])<<0)>=65536?(i-=65536,r+=String.fromCharCode(55296+(i>>>10),56320+(1023&i))):r+=String.fromCharCode(i):r+=String.fromCharCode((15&a)<<12|(63&t[++o])<<6|(63&t[++o])<<0):r+=String.fromCharCode((31&a)<<6|63&t[++o]):r+=String.fromCharCode(a)}return r}(n,i.offset,s);return i.offset+=s,a}function u(a,u){const c=a[u.offset++];return c<128?c:202===c?function(t,e){return i[0]=n(t,e),o[0]}(a,u):203===c?function(t,e){return i[0]=n(t,e),i[1]=n(t,e),s[0]}(a,u):204===c?t(a,u):205===c?e(a,u):206===c?r(a,u):207===c?function(t,e){const n=r(t,e);return r(t,e)*Math.pow(2,32)+n}(a,u):208===c?function(e,n){return t(e,n)<<24>>24}(a,u):209===c?function(t,n){return e(t,n)<<16>>16}(a,u):210===c?n(a,u):211===c?function(t,e){const i=r(t,e);return n(t,e)*Math.pow(2,32)+i}(a,u):c>223?-1*(255-c+1):void 0}const c=13;function l(t,e){if(this._offset=e,t instanceof ArrayBuffer)this._buffer=t,this._view=new DataView(this._buffer);else{if(!ArrayBuffer.isView(t))throw new Error("Invalid argument");this._buffer=t.buffer,this._view=new DataView(this._buffer,t.byteOffset,t.byteLength)}}function h(t,e,n){for(var r=0,i=0,o=n.length;i<o;i++)(r=n.charCodeAt(i))<128?t.setUint8(e++,r):r<2048?(t.setUint8(e++,192|r>>6),t.setUint8(e++,128|63&r)):r<55296||r>=57344?(t.setUint8(e++,224|r>>12),t.setUint8(e++,128|r>>6&63),t.setUint8(e++,128|63&r)):(i++,r=65536+((1023&r)<<10|1023&n.charCodeAt(i)),t.setUint8(e++,240|r>>18),t.setUint8(e++,128|r>>12&63),t.setUint8(e++,128|r>>6&63),t.setUint8(e++,128|63&r))}function f(t,e,n){var r=typeof n,i=0,o=0,s=0,a=0,u=0,c=0;if("string"===r){if(u=function(t){for(var e=0,n=0,r=0,i=t.length;r<i;r++)(e=t.charCodeAt(r))<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}(n),u<32)t.push(160|u),c=1;else if(u<256)t.push(217,u),c=2;else if(u<65536)t.push(218,u>>8,u),c=3;else{if(!(u<4294967296))throw new Error("String too long");t.push(219,u>>24,u>>16,u>>8,u),c=5}return e.push({_str:n,_length:u,_offset:t.length}),c+u}if("number"===r)return Math.floor(n)===n&&isFinite(n)?n>=0?n<128?(t.push(n),1):n<256?(t.push(204,n),2):n<65536?(t.push(205,n>>8,n),3):n<4294967296?(t.push(206,n>>24,n>>16,n>>8,n),5):(s=n/Math.pow(2,32)>>0,a=n>>>0,t.push(207,s>>24,s>>16,s>>8,s,a>>24,a>>16,a>>8,a),9):n>=-32?(t.push(n),1):n>=-128?(t.push(208,n),2):n>=-32768?(t.push(209,n>>8,n),3):n>=-2147483648?(t.push(210,n>>24,n>>16,n>>8,n),5):(s=Math.floor(n/Math.pow(2,32)),a=n>>>0,t.push(211,s>>24,s>>16,s>>8,s,a>>24,a>>16,a>>8,a),9):(t.push(203),e.push({_float:n,_length:8,_offset:t.length}),9);if("object"===r){if(null===n)return t.push(192),1;if(Array.isArray(n)){if((u=n.length)<16)t.push(144|u),c=1;else if(u<65536)t.push(220,u>>8,u),c=3;else{if(!(u<4294967296))throw new Error("Array too large");t.push(221,u>>24,u>>16,u>>8,u),c=5}for(i=0;i<u;i++)c+=f(t,e,n[i]);return c}if(n instanceof Date){var l=n.getTime();return s=Math.floor(l/Math.pow(2,32)),a=l>>>0,t.push(215,0,s>>24,s>>16,s>>8,s,a>>24,a>>16,a>>8,a),10}if(n instanceof ArrayBuffer){if((u=n.byteLength)<256)t.push(196,u),c=2;else if(u<65536)t.push(197,u>>8,u),c=3;else{if(!(u<4294967296))throw new Error("Buffer too large");t.push(198,u>>24,u>>16,u>>8,u),c=5}return e.push({_bin:n,_length:u,_offset:t.length}),c+u}if("function"==typeof n.toJSON)return f(t,e,n.toJSON());var h=[],d="",p=Object.keys(n);for(i=0,o=p.length;i<o;i++)"function"!=typeof n[d=p[i]]&&h.push(d);if((u=h.length)<16)t.push(128|u),c=1;else if(u<65536)t.push(222,u>>8,u),c=3;else{if(!(u<4294967296))throw new Error("Object too large");t.push(223,u>>24,u>>16,u>>8,u),c=5}for(i=0;i<u;i++)c+=f(t,e,d=h[i]),c+=f(t,e,n[d]);return c}if("boolean"===r)return t.push(n?195:194),1;if("undefined"===r)return t.push(212,0,0),3;throw new Error("Could not encode")}function d(t){var e=[],n=[],r=f(e,n,t),i=new ArrayBuffer(r),o=new DataView(i),s=0,a=0,u=-1;n.length>0&&(u=n[0]._offset);for(var c,l=0,d=0,p=0,g=e.length;p<g;p++)if(o.setUint8(a+p,e[p]),p+1===u){if(l=(c=n[s])._length,d=a+u,c._bin)for(var y=new Uint8Array(c._bin),v=0;v<l;v++)o.setUint8(d+v,y[v]);else c._str?h(o,d,c._str):void 0!==c._float&&o.setFloat64(d,c._float);a+=l,n[++s]&&(u=n[s]._offset)}return i}l.prototype._array=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=this._parse();return e},l.prototype._map=function(t){for(var e={},n=0;n<t;n++)e[this._parse()]=this._parse();return e},l.prototype._str=function(t){var e=function(t,e,n){for(var r="",i=0,o=e,s=e+n;o<s;o++){var a=t.getUint8(o);if(0!=(128&a))if(192!=(224&a))if(224!=(240&a)){if(240!=(248&a))throw new Error("Invalid byte "+a.toString(16));(i=(7&a)<<18|(63&t.getUint8(++o))<<12|(63&t.getUint8(++o))<<6|(63&t.getUint8(++o))<<0)>=65536?(i-=65536,r+=String.fromCharCode(55296+(i>>>10),56320+(1023&i))):r+=String.fromCharCode(i)}else r+=String.fromCharCode((15&a)<<12|(63&t.getUint8(++o))<<6|(63&t.getUint8(++o))<<0);else r+=String.fromCharCode((31&a)<<6|63&t.getUint8(++o));else r+=String.fromCharCode(a)}return r}(this._view,this._offset,t);return this._offset+=t,e},l.prototype._bin=function(t){var e=this._buffer.slice(this._offset,this._offset+t);return this._offset+=t,e},l.prototype._parse=function(){var t,e=this._view.getUint8(this._offset++),n=0,r=0,i=0,o=0;if(e<192)return e<128?e:e<144?this._map(15&e):e<160?this._array(15&e):this._str(31&e);if(e>223)return-1*(255-e+1);switch(e){case 192:return null;case 194:return!1;case 195:return!0;case 196:return n=this._view.getUint8(this._offset),this._offset+=1,this._bin(n);case 197:return n=this._view.getUint16(this._offset),this._offset+=2,this._bin(n);case 198:return n=this._view.getUint32(this._offset),this._offset+=4,this._bin(n);case 199:return n=this._view.getUint8(this._offset),r=this._view.getInt8(this._offset+1),this._offset+=2,[r,this._bin(n)];case 200:return n=this._view.getUint16(this._offset),r=this._view.getInt8(this._offset+2),this._offset+=3,[r,this._bin(n)];case 201:return n=this._view.getUint32(this._offset),r=this._view.getInt8(this._offset+4),this._offset+=5,[r,this._bin(n)];case 202:return t=this._view.getFloat32(this._offset),this._offset+=4,t;case 203:return t=this._view.getFloat64(this._offset),this._offset+=8,t;case 204:return t=this._view.getUint8(this._offset),this._offset+=1,t;case 205:return t=this._view.getUint16(this._offset),this._offset+=2,t;case 206:return t=this._view.getUint32(this._offset),this._offset+=4,t;case 207:return i=this._view.getUint32(this._offset)*Math.pow(2,32),o=this._view.getUint32(this._offset+4),this._offset+=8,i+o;case 208:return t=this._view.getInt8(this._offset),this._offset+=1,t;case 209:return t=this._view.getInt16(this._offset),this._offset+=2,t;case 210:return t=this._view.getInt32(this._offset),this._offset+=4,t;case 211:return i=this._view.getInt32(this._offset)*Math.pow(2,32),o=this._view.getUint32(this._offset+4),this._offset+=8,i+o;case 212:return r=this._view.getInt8(this._offset),this._offset+=1,0===r?void(this._offset+=1):[r,this._bin(1)];case 213:return r=this._view.getInt8(this._offset),this._offset+=1,[r,this._bin(2)];case 214:return r=this._view.getInt8(this._offset),this._offset+=1,[r,this._bin(4)];case 215:return r=this._view.getInt8(this._offset),this._offset+=1,0===r?(i=this._view.getInt32(this._offset)*Math.pow(2,32),o=this._view.getUint32(this._offset+4),this._offset+=8,new Date(i+o)):[r,this._bin(8)];case 216:return r=this._view.getInt8(this._offset),this._offset+=1,[r,this._bin(16)];case 217:return n=this._view.getUint8(this._offset),this._offset+=1,this._str(n);case 218:return n=this._view.getUint16(this._offset),this._offset+=2,this._str(n);case 219:return n=this._view.getUint32(this._offset),this._offset+=4,this._str(n);case 220:return n=this._view.getUint16(this._offset),this._offset+=2,this._array(n);case 221:return n=this._view.getUint32(this._offset),this._offset+=4,this._array(n);case 222:return n=this._view.getUint16(this._offset),this._offset+=2,this._map(n);case 223:return n=this._view.getUint32(this._offset),this._offset+=4,this._map(n)}throw new Error("Could not parse")};var p={decode:function(t){const e=new Uint8Array(t),n=Array.from(e);if(n[0]==c){let e={offset:1};return!function(t,e){const n=t[e.offset];return n<192&&n>160||217===n||218===n||219===n}(n,e)?u(n,e):a(n,e),function(t,e){void 0===e&&(e=0);var n=new l(t,e),r=n._parse();if(n._offset!==t.byteLength)throw new Error(t.byteLength-n._offset+" trailing bytes");return r}(t,e.offset)}return null},encode:function(t,e){let n=[c],r=d(t),i=d(e),o=new Uint8Array(r.byteLength+i.byteLength+n.length);return o.set(n),o.set(new Uint8Array(r),n.length),o.set(new Uint8Array(i),n.length+r.byteLength),o.buffer}};function g(t,e,n){for(var r=0,i=0,o=n.length;i<o;i++)(r=n.charCodeAt(i))<128?t.setUint8(e++,r):(r<2048?t.setUint8(e++,192|r>>6):(r<55296||57344<=r?t.setUint8(e++,224|r>>12):(i++,r=65536+((1023&r)<<10|1023&n.charCodeAt(i)),t.setUint8(e++,240|r>>18),t.setUint8(e++,128|r>>12&63)),t.setUint8(e++,128|r>>6&63)),t.setUint8(e++,128|63&r))}var y={encode:function(t,e,n){let r;return r=Array.isArray(t)?{type:2,data:t,options:{compress:!0},nsp:"/"}:{type:2,data:["blueboat_SEND_MESSAGE",{room:n,key:t,data:e}],options:{compress:!0},nsp:"/"},function(t){var e=[],n=[],r=function t(e,n,r){var i=typeof r,o=0,s=0,a=0,u=0,c=0,l=0;if("string"===i){if((c=function(t){for(var e=0,n=0,r=0,i=t.length;r<i;r++)(e=t.charCodeAt(r))<128?n+=1:e<2048?n+=2:e<55296||57344<=e?n+=3:(r++,n+=4);return n}(r))<32)e.push(160|c),l=1;else if(c<256)e.push(217,c),l=2;else if(c<65536)e.push(218,c>>8,c),l=3;else{if(!(c<4294967296))throw new Error("String too long");e.push(219,c>>24,c>>16,c>>8,c),l=5}return n.push({h:r,u:c,t:e.length}),l+c}if("number"===i)return Math.floor(r)===r&&isFinite(r)?0<=r?r<128?(e.push(r),1):r<256?(e.push(204,r),2):r<65536?(e.push(205,r>>8,r),3):r<4294967296?(e.push(206,r>>24,r>>16,r>>8,r),5):(a=r/Math.pow(2,32)>>0,u=r>>>0,e.push(207,a>>24,a>>16,a>>8,a,u>>24,u>>16,u>>8,u),9):-32<=r?(e.push(r),1):-128<=r?(e.push(208,r),2):-32768<=r?(e.push(209,r>>8,r),3):-2147483648<=r?(e.push(210,r>>24,r>>16,r>>8,r),5):(a=Math.floor(r/Math.pow(2,32)),u=r>>>0,e.push(211,a>>24,a>>16,a>>8,a,u>>24,u>>16,u>>8,u),9):(e.push(203),n.push({o:r,u:8,t:e.length}),9);if("object"===i){if(null===r)return e.push(192),1;if(Array.isArray(r)){if((c=r.length)<16)e.push(144|c),l=1;else if(c<65536)e.push(220,c>>8,c),l=3;else{if(!(c<4294967296))throw new Error("Array too large");e.push(221,c>>24,c>>16,c>>8,c),l=5}for(o=0;o<c;o++)l+=t(e,n,r[o]);return l}if(r instanceof Date){var h=r.getTime();return a=Math.floor(h/Math.pow(2,32)),u=h>>>0,e.push(215,0,a>>24,a>>16,a>>8,a,u>>24,u>>16,u>>8,u),10}if(r instanceof ArrayBuffer){if((c=r.byteLength)<256)e.push(196,c),l=2;else if(c<65536)e.push(197,c>>8,c),l=3;else{if(!(c<4294967296))throw new Error("Buffer too large");e.push(198,c>>24,c>>16,c>>8,c),l=5}return n.push({l:r,u:c,t:e.length}),l+c}if("function"==typeof r.toJSON)return t(e,n,r.toJSON());var f=[],d="",p=Object.keys(r);for(o=0,s=p.length;o<s;o++)"function"!=typeof r[d=p[o]]&&f.push(d);if((c=f.length)<16)e.push(128|c),l=1;else if(c<65536)e.push(222,c>>8,c),l=3;else{if(!(c<4294967296))throw new Error("Object too large");e.push(223,c>>24,c>>16,c>>8,c),l=5}for(o=0;o<c;o++)l+=t(e,n,d=f[o]),l+=t(e,n,r[d]);return l}if("boolean"===i)return e.push(r?195:194),1;if("undefined"===i)return e.push(212,0,0),3;throw new Error("Could not encode")}(e,n,t),i=new ArrayBuffer(r),o=new DataView(i),s=0,a=0,u=-1;0<n.length&&(u=n[0].t);for(var c,l=0,h=0,f=0,d=e.length;f<d;f++)if(o.setUint8(a+f,e[f]),f+1===u){if(l=(c=n[s]).u,h=a+u,c.l)for(var p=new Uint8Array(c.l),y=0;y<l;y++)o.setUint8(h+y,p[y]);else c.h?g(o,h,c.h):void 0!==c.o&&o.setFloat64(h,c.o);a+=l,n[++s]&&(u=n[s].t)}let v=Array.from(new Uint8Array(i));return v.unshift(4),new Uint8Array(v).buffer}(r)},decode:function(t){function e(t){if(this.t=0,t instanceof ArrayBuffer)this.i=t,this.s=new DataView(this.i);else{if(!ArrayBuffer.isView(t))return null;this.i=t.buffer,this.s=new DataView(this.i,t.byteOffset,t.byteLength)}}e.prototype.g=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=this.v();return e},e.prototype.M=function(t){for(var e={},n=0;n<t;n++)e[this.v()]=this.v();return e},e.prototype.h=function(t){var e=function(t,e,n){for(var r="",i=0,o=e,s=e+n;o<s;o++){var a=t.getUint8(o);if(0!=(128&a))if(192!=(224&a))if(224!=(240&a)){if(240!=(248&a))throw new Error("Invalid byte "+a.toString(16));65536<=(i=(7&a)<<18|(63&t.getUint8(++o))<<12|(63&t.getUint8(++o))<<6|(63&t.getUint8(++o))<<0)?(i-=65536,r+=String.fromCharCode(55296+(i>>>10),56320+(1023&i))):r+=String.fromCharCode(i)}else r+=String.fromCharCode((15&a)<<12|(63&t.getUint8(++o))<<6|(63&t.getUint8(++o))<<0);else r+=String.fromCharCode((31&a)<<6|63&t.getUint8(++o));else r+=String.fromCharCode(a)}return r}(this.s,this.t,t);return this.t+=t,e},e.prototype.l=function(t){var e=this.i.slice(this.t,this.t+t);return this.t+=t,e},e.prototype.v=function(){if(!this.s)return null;var t,e=this.s.getUint8(this.t++),n=0,r=0,i=0,o=0;if(e<192)return e<128?e:e<144?this.M(15&e):e<160?this.g(15&e):this.h(31&e);if(223<e)return-1*(255-e+1);switch(e){case 192:return null;case 194:return!1;case 195:return!0;case 196:return n=this.s.getUint8(this.t),this.t+=1,this.l(n);case 197:return n=this.s.getUint16(this.t),this.t+=2,this.l(n);case 198:return n=this.s.getUint32(this.t),this.t+=4,this.l(n);case 199:return n=this.s.getUint8(this.t),r=this.s.getInt8(this.t+1),this.t+=2,[r,this.l(n)];case 200:return n=this.s.getUint16(this.t),r=this.s.getInt8(this.t+2),this.t+=3,[r,this.l(n)];case 201:return n=this.s.getUint32(this.t),r=this.s.getInt8(this.t+4),this.t+=5,[r,this.l(n)];case 202:return t=this.s.getFloat32(this.t),this.t+=4,t;case 203:return t=this.s.getFloat64(this.t),this.t+=8,t;case 204:return t=this.s.getUint8(this.t),this.t+=1,t;case 205:return t=this.s.getUint16(this.t),this.t+=2,t;case 206:return t=this.s.getUint32(this.t),this.t+=4,t;case 207:return i=this.s.getUint32(this.t)*Math.pow(2,32),o=this.s.getUint32(this.t+4),this.t+=8,i+o;case 208:return t=this.s.getInt8(this.t),this.t+=1,t;case 209:return t=this.s.getInt16(this.t),this.t+=2,t;case 210:return t=this.s.getInt32(this.t),this.t+=4,t;case 211:return i=this.s.getInt32(this.t)*Math.pow(2,32),o=this.s.getUint32(this.t+4),this.t+=8,i+o;case 212:return r=this.s.getInt8(this.t),this.t+=1,0===r?void(this.t+=1):[r,this.l(1)];case 213:return r=this.s.getInt8(this.t),this.t+=1,[r,this.l(2)];case 214:return r=this.s.getInt8(this.t),this.t+=1,[r,this.l(4)];case 215:return r=this.s.getInt8(this.t),this.t+=1,0===r?(i=this.s.getInt32(this.t)*Math.pow(2,32),o=this.s.getUint32(this.t+4),this.t+=8,new Date(i+o)):[r,this.l(8)];case 216:return r=this.s.getInt8(this.t),this.t+=1,[r,this.l(16)];case 217:return n=this.s.getUint8(this.t),this.t+=1,this.h(n);case 218:return n=this.s.getUint16(this.t),this.t+=2,this.h(n);case 219:return n=this.s.getUint32(this.t),this.t+=4,this.h(n);case 220:return n=this.s.getUint16(this.t),this.t+=2,this.g(n);case 221:return n=this.s.getUint32(this.t),this.t+=4,this.g(n);case 222:return n=this.s.getUint16(this.t),this.t+=2,this.M(n);case 223:return n=this.s.getUint32(this.t),this.t+=4,this.M(n)}throw new Error("Could not parse")};const n=function(t){var n=new e(t=t.slice(1)),r=n.v();return n.t===t.byteLength?r:null}(t);return n?.data?.[1]}};class v extends EventTarget{constructor(t){super(),this.socket=null,this.hasFired=!1,this.transportType="unknown",this.blueboatRoomId=null,this.cheat=t}getSocket(){let t=this;if(Object.isFrozen(WebSocket)){let e=setInterval((()=>{var n,r,i,o,s;let a=null===(s=null===(o=null===(i=null===(r=null===(n=null===window||void 0===window?void 0:window.stores)||void 0===n?void 0:n.network)||void 0===r?void 0:r.room)||void 0===i?void 0:i.connection)||void 0===o?void 0:o.transport)||void 0===s?void 0:s.ws;a&&(t.registerSocket(a),clearInterval(e))}),100)}else WebSocket.prototype._send=WebSocket.prototype.send,WebSocket.prototype.send=function(e){if(this.url.startsWith("ws://localhost"))return this._send(e);if(t.registerSocket(this),t.socket&&(t.socket._send(e),"blueboat"==t.transportType)){let n=y.decode(e);n.roomId&&(t.blueboatRoomId=n.roomId),n.room&&(t.blueboatRoomId=n.room),t.blueboatRoomId||t.cheat.log("Room ID: ",t.blueboatRoomId)}}}registerSocket(t){if(this.hasFired)return;this.socket=t,this.hasFired=!0,this.dispatchEvent(new CustomEvent("socket",{detail:t})),"Phaser"in unsafeWindow?this.transportType="colyseus":this.transportType="blueboat";let e=this;t.addEventListener("message",(t=>{let n;if(n="colyseus"==this.transportType?p.decode(t.data):y.decode(t.data),n&&(e.dispatchEvent(new CustomEvent("recieveMessage",{detail:n})),"object"==typeof n&&"changes"in n)){let t=function(t){let e=[];for(let n of t.changes){let r={},i=n[1].map((e=>t.values[e]));for(let t=0;t<i.length;t++)r[i[t]]=n[2][t];e.push({id:n[0],data:r})}return e}(n);e.dispatchEvent(new CustomEvent("recieveChanges",{detail:t}))}}))}sendData(t,e){if(!this.socket)return;if(!this.blueboatRoomId&&"blueboat"==this.transportType)return this.cheat.log("Room ID not found, can't send data");let n;n="colyseus"==this.transportType?p.encode(t,e):y.encode(t,e,this.blueboatRoomId),this.socket.send(n)}}class m{constructor(){this.keys=new Set,this.binds=[],this.addListeners()}addListeners(){window.addEventListener("keydown",(t=>{this.keys.add(t.key.toLowerCase()),this.checkBinds(t)})),window.addEventListener("keyup",(t=>{this.keys.delete(t.key.toLowerCase())})),window.addEventListener("blur",(()=>{this.keys.clear()}))}checkBinds(t){var e;if(!t.repeat)for(let n of this.binds)n.keys.has(t.key.toLowerCase())&&0!=n.keys.size&&(n.exclusive&&n.keys.size!=this.keys.size||Array.from(n.keys).every((t=>this.keys.has(t)))&&(null===(e=n.callback)||void 0===e||e.call(n)))}registerBind(t){this.binds.includes(t)||this.binds.push(t)}removeBind(t){this.binds.includes(t)&&this.binds.splice(this.binds.indexOf(t),1)}clearBinds(){this.binds=[]}}class b extends EventTarget{constructor(t,e){super(),this.group=null,this.options=null,this.element=null,this.type="element",this.group=t,this.options=e}remove(){var t;null===(t=this.element)||void 0===t||t.remove(),this.group.elements.splice(this.group.elements.indexOf(this),1)}}class w extends b{constructor(t,e){super(t,e),this.type="text",this.element=document.createElement("div"),this.element.classList.add("text"),this.element.innerText=this.options.text}set text(t){this.element.innerText=t}get text(){return this.element.innerText}}class _ extends b{constructor(t,e){super(t,e),this.type="groupOpener",this.element=document.createElement("button"),this.element.classList.add("group_opener"),this.element.innerText=this.options.text,this.element.addEventListener("click",(()=>{var t;let e=null!==(t=this.options.direction)&&void 0!==t?t:"right",n="right"==e?"left":"right";this.group.slide("out",e);let r=this.group.menu.getAnyGroup(this.options.openGroup);r&&r.slide("in",n)}))}set text(t){this.element.innerText=t}get text(){return this.element.innerText}}class E extends b{constructor(t,e){var n,r;super(t,e),this.opacitySlider=null,this.colorPicker=null,this.preview=null,this.type="colorpicker";let i=document.createElement("div");i.innerHTML=`\n            <div class="text">${this.options.text}</div>\n            <div class="colorpicker_wrapper">\n                <div class="colorpicker_opacity_wrapper">\n                    <div class="text">Opacity</div>\n                    <input type="range" min="0" max="255" value="255" class="colorpicker_opacity">\n                </div>\n                <input type="color" value="#ffffff" class="colorpicker_color">\n                <div class="colorpicker_preview"></div>\n            </div>\n        `,i.classList.add("colorpicker"),this.opacitySlider=i.querySelector(".colorpicker_opacity"),this.colorPicker=i.querySelector(".colorpicker_color"),this.preview=i.querySelector(".colorpicker_preview"),this.options.bindVar?this.color=window.cheat.hud.syncedVars.get("cssVars").get(this.options.bindVar):this.options.color&&(this.color=this.options.color),this.opacitySlider.addEventListener("mousedown",(t=>{t.stopPropagation()})),null===(n=this.opacitySlider)||void 0===n||n.addEventListener("input",(()=>{this.updatePreview()})),null===(r=this.colorPicker)||void 0===r||r.addEventListener("input",(()=>{this.updatePreview()})),this.element=i,this.updatePreview()}updatePreview(){let t=this.colorPicker.value,e=parseInt(this.opacitySlider.value);this.preview.style.backgroundColor=t,this.preview.style.opacity=""+e/255,this.options.bindVar&&window.cheat.hud.updateCssVar(this.options.bindVar,this.color),this.dispatchEvent(new CustomEvent("change",{detail:this.color}))}set color(t){let[e,n]=function(t){let[e,n,r,i]=t.slice(5,-1).split(",").map((t=>parseFloat(t.trim())));return[`#${e.toString(16).padStart(2,"0")}${n.toString(16).padStart(2,"0")}${r.toString(16).padStart(2,"0")}`,i]}(t);this.colorPicker.value=e,this.opacitySlider.value=""+255*n,this.updatePreview()}get color(){let t=this.colorPicker.value,e=parseInt(this.opacitySlider.value);var n,r;return n=t,r=e/255,`rgba(${parseInt(n.slice(1,3),16)}, ${parseInt(n.slice(3,5),16)}, ${parseInt(n.slice(5,7),16)}, ${r})`}}class k{constructor(t){var e;this.capturing=!1,this.keys=new Set,this.actionState="start",this.type="keybindEditor",this.options=t,this.keybindOpener=(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 40"><rect width="40" height="26" x="4" y="10" rx="2.038" ry="2.234" style="fill:#000;fill-opacity:1;fill-rule:evenodd;stroke:#fff;stroke-width:8;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-miterlimit:4;stroke-dasharray:none"/><rect width="40" height="26" x="4" y="10" rx="2.038" ry="2.234" style="fill:#000;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"/><path d="M14 30h19M7 30h5M35 30h6M7 16h4M13 16h4M19 16h4M25 16h4M31 16h4M34 23h4M28 23h4M22 23h4M16 23h4M37 16h4M10 23h4" style="fill:none;fill-opacity:.75;fill-rule:evenodd;stroke:#fff;stroke-width:4;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"/></svg>',"image/svg+xml").firstChild,this.keybindOpener.classList.add("keybind_opener"),this.keybindEditor=document.createElement("dialog"),this.keybindEditor.classList.add("keybind_editor_wrapper"),this.keybindEditor.innerHTML=`\n\t\t\t<div class="keybind_editor">\n\t\t\t\t<div class="close">x</div>\n\t\t\t\t<h1 class="keybind_title">${t.title}</h1>\n\t\t\t\t<div class="keybind_controls">\n\t\t\t\t\t<div class="keybind_display"></div>\n\t\t\t\t\t<div class="keybind_exclusive">\n\t\t\t\t\t\t<div class="text">Exclusive?</div>\n\t\t\t\t\t\t<input type="checkbox" class="exclusive" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="action">Start Capture</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;let n=null!==(e=t.exclusive)&&void 0!==e&&e,r=window.cheat.hud.syncedVars.get("keybinds").get(t.id);r?(this.keys=new Set(r.keys),n=r.exclusive):t.keys&&(this.keys=t.keys),n&&this.keybindEditor.querySelector(".exclusive").setAttribute("checked","true"),this.bind={keys:this.keys,exclusive:n,callback:t.callback},window.cheat.keybindManager.registerBind(this.bind),this.updateAction(),this.updateDisplay(),this.addEventListeners()}addEventListeners(){let t=this.keybindEditor.querySelector(".action"),e=this.keybindEditor.querySelector(".close"),n=this.keybindEditor.querySelector(".keybind_display"),r=this.keybindEditor.querySelector(".exclusive");this.keybindOpener.addEventListener("click",(()=>{this.keybindEditor.showModal()})),this.keybindEditor.addEventListener("mousedown",(e=>{e.stopPropagation(),this.capturing&&e.target!=t&&this.endCapture()})),n.addEventListener("mousedown",(t=>{t.stopPropagation(),this.beginCapture()})),e.addEventListener("click",(()=>{this.keybindEditor.close()})),t.addEventListener("click",(()=>{"Start Capture"==this.actionState?this.beginCapture():"End Capture"==this.actionState?this.endCapture():"Reset"==this.actionState&&(this.keys.clear(),this.updateDisplay(),this.updateAction())})),r.addEventListener("change",(()=>{this.bind.exclusive=r.checked,this.syncBind()}))}beginCapture(){this.capturing=!0,this.keys.clear(),this.keybindEditor.querySelector(".keybind_display").innerHTML="Press any key...",document.addEventListener("keydown",this.keybindCapture.bind(this)),this.updateAction()}keybindCapture(t){this.capturing&&(t.preventDefault(),"Escape"!==t.key&&"Enter"!==t.key?(this.keys.add(t.key.toLowerCase()),this.updateDisplay()):this.endCapture())}endCapture(){this.capturing=!1,document.removeEventListener("keydown",this.keybindCapture.bind(this)),this.updateAction(),this.syncBind()}updateDisplay(){let t=this.keybindEditor.querySelector(".keybind_display"),e=Array.from(this.keys);e=e.map((t=>" "===t?"space":t)),t.innerHTML=e.join(" + ")}updateAction(){let t=this.keybindEditor.querySelector(".action");this.capturing?this.actionState="End Capture":0==this.keys.size?this.actionState="Start Capture":this.actionState="Reset",t.innerHTML=this.actionState}attachTo(t){t.appendChild(this.keybindOpener),t.appendChild(this.keybindEditor)}syncBind(){this.options.id&&window.cheat.hud.updateKeybind(this.options.id,{keys:Array.from(this.keys),exclusive:this.bind.exclusive})}}class S extends b{constructor(t,e){var n,r;super(t,e),this.type="button";let i=document.createElement("div");if(i.classList.add("button_wrapper"),i.innerHTML=`\n            <button class="button">${this.options.text}</button>\n        `,this.element=i,this.button=i.querySelector("button"),this.button.addEventListener("click",(()=>{var t;this.dispatchEvent(new CustomEvent("click")),this.options.runFunction&&(null===(t=window.cheat.funcs.get(this.options.runFunction))||void 0===t||t.call(this))})),this.options.keybind){new k({title:null!==(n=e.title)&&void 0!==n?n:`Set keybind for ${this.button.innerText}`,keys:null!==(r=e.defaultKeybind)&&void 0!==r?r:new Set,exclusive:!1,callback:()=>{this.dispatchEvent(new CustomEvent("click"))}}).attachTo(i)}}set text(t){this.button.innerText=t}get text(){return this.button.innerText}}class A extends b{constructor(t,e){var n;super(t,e),this.input=null,this.type="textInput";let r=document.createElement("div");r.innerHTML=`\n            <div class="text">${this.options.text}</div>\n            <input type="text" class="textinput" placeholder="${null!==(n=this.options.placeholder)&&void 0!==n?n:""}">\n        `,r.classList.add("textinput_wrapper"),this.element=r,this.input=r.querySelector("input"),this.input.addEventListener("input",(()=>{this.dispatchEvent(new CustomEvent("input",{detail:this.text}))}))}set text(t){this.input.value=t}get text(){return this.input.value}}class x extends b{constructor(t,e){var n,r,i;super(t,e),this.type="toggle";let o=document.createElement("div");if(o.innerHTML='\n\t\t\t<button class="toggle"></button>\n\t\t',o.classList.add("toggle_wrapper"),e.keybind){let t={title:null!==(n=e.title)&&void 0!==n?n:"Set keybind for toggle",keys:null!==(r=e.defaultKeybind)&&void 0!==r?r:new Set,exclusive:!1,callback:()=>{this.toggle()}};e.keybindId&&(t.id=e.keybindId),new k(t).attachTo(o)}this.enabled=null!==(i=this.options.default)&&void 0!==i&&i,this.element=o,this.button=o.querySelector("button"),this._textEnabled=this.options.textEnabled,this._textDisabled=this.options.textDisabled,this.updateButton(),this.button.addEventListener("keydown",(t=>t.preventDefault())),this.button.addEventListener("click",(()=>{this.toggle()}))}updateButton(){this.button.innerHTML=this.enabled?this._textEnabled:this._textDisabled,this.button.classList.toggle("enabled",this.enabled)}toggle(){console.trace("toggling"),this.enabled=!this.enabled,this.updateButton(),this.options.runFunction&&window.cheat.funcs.get(this.options.runFunction)(this.enabled),this.dispatchEvent(new CustomEvent("change",{detail:this.enabled}))}get value(){var t;return null!==(t=this.enabled)&&void 0!==t&&t}set value(t){this.enabled=t,this.updateButton()}get textEnabled(){return this._textEnabled}set textEnabled(t){this._textEnabled=t,this.updateButton()}get textDisabled(){return this._textDisabled}set textDisabled(t){this._textDisabled=t,this.updateButton()}}class B extends b{constructor(t,e){super(t,e),this.type="dropdown",this.element=document.createElement("div"),this.element.classList.add("dropdown_wrapper"),this.element.innerHTML=`\n\t\t\t<div class="text">${e.text}</div>\n\t\t\t<select class="dropdown">\n\t\t\t\t${e.options.map((t=>`<option value="${t}" ${t===e.default?"selected":""}>\n\t\t\t\t\t\t${t}\n\t\t\t\t\t</option>`)).join("")}\n\t\t\t</select>\n\t\t`,this.select=this.element.querySelector(".dropdown"),this.select.addEventListener("keydown",(t=>t.preventDefault())),this.select.addEventListener("change",(()=>{e.runFunction&&window.cheat.funcs.get(this.options.runFunction)(this.select.value),this.dispatchEvent(new CustomEvent("change",{detail:this.select.value}))}))}addOption(t){let e=document.createElement("option");e.value=t,e.innerText=t,this.select.appendChild(e)}removeOption(t){let e=this.select.querySelector(`option[value="${t}"]`);e&&this.select.removeChild(e),this.select.value===t&&(this.select.value=this.select.options[0].value)}setOptions(t){this.select.innerHTML="",t.forEach((t=>{this.addOption(t)}))}get value(){return this.select.value}set value(t){this.select.value=t}}class C extends b{constructor(t,e){var n;super(t,e),this.type="slider";let r=document.createElement("div");r.classList.add("slider_wrapper"),r.innerHTML=`\n\t\t\t<div class = "text">${e.text}</div>\n\t\t\t<input type = "range" min = "${e.min}" max = "${e.max}" value = "${null!==(n=e.default)&&void 0!==n?n:0}" class = "slider">\n\t\t`,this.slider=r.querySelector(".slider"),this.element=r,this.slider.addEventListener("mousedown",(t=>{t.stopPropagation()})),this.slider.addEventListener("input",(()=>{this.options.runFunction&&window.cheat.funcs.get(this.options.runFunction)(this.slider.value),this.dispatchEvent(new CustomEvent("change",{detail:this.slider.value}))}))}set value(t){this.slider.value=t.toString()}get value(){return Number(this.slider.value)}}class T{constructor(t,e,n,r=!1){this.name="",this.hideTimeout=null,this.element=null,this.isRoot=!1,this.groups=[],this.parentGroup=null,this.elements=[],this.menu=null,this.menu=t,this.parentGroup=e,this.name=n,this.isRoot=r,this.init()}init(){var t,e;let n=document.createElement("div");n.classList.add("group"),this.isRoot||(n.style.display="none"),this.element=n,null===(e=null===(t=this.menu)||void 0===t?void 0:t.element)||void 0===e||e.appendChild(n),this.isRoot||this.addElement("groupopener",{text:"Back",openGroup:this.parentGroup.name,direction:"right"})}addElement(t,e){var n;let r;switch(t.toLowerCase()){case"text":r=new w(this,e);break;case"groupopener":r=new _(this,e);break;case"colorpicker":r=new E(this,e);break;case"button":r=new S(this,e);break;case"textinput":r=new A(this,e);break;case"toggle":r=new x(this,e);break;case"dropdown":r=new B(this,e);break;case"slider":r=new C(this,e);break;default:console.error(`Unknown element type: ${t}`)}return r?(null===(n=this.element)||void 0===n||n.appendChild(r.element),this.elements.push(r),r):null}slide(t,e){this.hideTimeout&&clearTimeout(this.hideTimeout),this.element.style.animation=`slide_${t}_${e} both 0.5s`,"in"==t?this.element.style.display="flex":"out"==t&&(this.hideTimeout=setTimeout((()=>this.element.style.display="none"),500))}createGroup(t){let e=this.menu.getAnyGroup(t);if(e)return e;let n=new T(this.menu,this,t);return this.groups.push(n),this.menu.groups.push(n),this.addElement("groupopener",{text:t,openGroup:t,direction:"left"}),n}group(t){for(let e=0;e<this.groups.length;e++)if(this.groups[e].name==t)return this.groups[e];return null}remove(){var t,e;null===(t=this.element)||void 0===t||t.remove(),null===(e=this.parentGroup)||void 0===e||e.groups.splice(this.parentGroup.groups.indexOf(this),1),this.menu.groups.splice(this.menu.groups.indexOf(this),1)}clearElements(){for(let t=0;t<this.elements.length;t++){let e=this.elements[t];"groupOpener"!=e.type&&(e.remove(),t--)}}loadFromObject(t){const e=()=>{if(t.groups)for(let e of t.groups){this.createGroup(e.name).loadFromObject(e)}},n=()=>{if(t.elements)for(let e of t.elements)this.addElement(e.type,e.options)};"elementsFirst"==t.order?(n(),e()):(e(),n())}}class I{constructor(t){this.menu=null,this.element=null,this.menu=t,this.init()}init(){var t,e;let n=document.createElement("div");n.classList.add("menu_controls"),n.innerHTML=this.menu.name;let r=document.createElement("div");r.classList.add("menu_minimizer"),this.element=n,this.element.appendChild(r),null===(e=null===(t=this.menu)||void 0===t?void 0:t.element)||void 0===e||e.appendChild(n),this.updateMinimizer(),r.addEventListener("click",(()=>{var t;null===(t=this.menu)||void 0===t||t.minimize(),this.updateMinimizer()}))}updateMinimizer(){var t;if(!this.element)return;let e=this.element.querySelector(".menu_minimizer");e&&(e.innerHTML=(null===(t=this.menu)||void 0===t?void 0:t.minimized)?"+":"-")}}class M{constructor(t,e,n){this.hud=null,this.element=null,this.rootGroup=null,this.name="",this.groups=[],this.minimized=!1,this.transform={top:0,left:0,width:300,height:200,minimized:!1},this.hud=t,this.name=e,n&&(this.transform=n),this.init()}applyTransform(t){var e;this.element&&(t.height<50&&(t.height=50),t.width<50&&(t.width=50),this.element.style.top=`${t.top}px`,this.element.style.left=`${t.left}px`,this.element.style.width=`${t.width}px`,this.element.style.height=`${t.height}px`,this.minimize(null!==(e=t.minimized)&&void 0!==e&&e))}init(){var t;let e=document.createElement("div");e.classList.add("menu"),this.element=e,null===(t=this.hud)||void 0===t||t.element.appendChild(e),this.applyTransform(this.transform),new I(this);let n=new T(this,null,"root",!0);this.rootGroup=n,this.groups.push(n),n.element&&this.element.appendChild(n.element),this.addListeners()}addListeners(){if(!this.element)return;let t=!1,e={x:0,y:0},n=0;this.element.addEventListener("mousedown",(r=>{t=!0,e.x=r.clientX,e.y=r.clientY,n=0})),window.addEventListener("mouseup",(()=>{t=!1})),new ResizeObserver((e=>{0!=e[0].contentRect.width&&0!=e[0].contentRect.height&&(t=!1,this.transform.width=e[0].contentRect.width,this.minimized||(this.transform.height=e[0].contentRect.height),this.syncTransform())})).observe(this.element),window.addEventListener("mousemove",(r=>{if(!t)return;if(n+=Math.abs(r.clientX-e.x)+Math.abs(r.clientY-e.y),n<10)return;let i=r.clientX-e.x,o=r.clientY-e.y;this.element.style.left=`${this.element.offsetLeft+i}px`,this.element.style.top=`${this.element.offsetTop+o}px`,this.transform.top=this.element.offsetTop,this.transform.left=this.element.offsetLeft,this.syncTransform(),this.element.offsetLeft<0&&(this.element.style.left="0px"),this.element.offsetTop<0&&(this.element.style.top="0px"),this.element.offsetLeft+this.element.offsetWidth>window.innerWidth&&(this.element.style.left=window.innerWidth-this.element.offsetWidth+"px"),this.element.offsetTop+this.element.offsetHeight>window.innerHeight&&(this.element.style.top=window.innerHeight-this.element.offsetHeight+"px"),e.x=r.clientX,e.y=r.clientY}))}syncTransform(){this.hud.updateMenuTransform(this.name,this.transform)}createGroup(t){return this.rootGroup.createGroup(t)}group(t){return this.rootGroup.group(t)}addElement(t,e){return this.rootGroup.addElement(t,e)}getAnyGroup(t){for(let e of this.groups)if(e.name==t)return e;return null}remove(){var t;null===(t=this.element)||void 0===t||t.remove(),this.hud.menus.splice(this.hud.menus.indexOf(this),1)}minimize(t=null){this.minimized=null==t?!this.minimized:t,this.element.classList.toggle("minimized",this.minimized),this.transform.minimized=this.minimized,this.syncTransform()}loadFromObject(t){this.rootGroup.loadFromObject(t)}}const R=new Map([["menu-bg-color","rgba(0, 0, 0, 0.5)"],["menu-border-color","rgba(0, 0, 0, 0)"],["text-color","rgba(255, 255, 255, 1)"],["button-bg-color","rgba(0, 0, 0, 0.5)"],["button-border-color","rgba(255, 255, 255, 1)"],["menu-controls-bg-color","rgba(0, 0, 255, 0.5)"],["menu-controls-text-color","rgba(255, 255, 255, 1)"],["textinput-border-color","rgba(255, 255, 255, 1)"],["textinput-bg-color","rgba(0, 0, 0, 0.5)"],["toggle-bg-color","rgba(0, 0, 0, 0.5)"],["toggle-border-color","rgba(255, 255, 255, 1)"],["dropdown-bg-color","rgba(0, 0, 0, 0.5)"],["dropdown-border-color","rgba(255, 255, 255, 1)"],["keybind-editor-bg-color","rgba(0, 0, 0, 0.75)"],["keybind-editor-border-color","rgba(255, 255, 255, 1)"]]),U=new Map([["HUD Customization",{top:10,left:10,width:Math.min(window.innerWidth/4,350),height:window.innerHeight/2,minimized:!1}],["Devtools",{top:window.innerHeight/2+10,left:10,width:Math.min(window.innerWidth/4,350),height:window.innerHeight/2,minimized:!0}],["General Cheats",{top:10,left:window.innerWidth/3+20,width:Math.min(window.innerWidth/4,350),height:window.innerHeight/2,minimized:!1}],["Cheats for gamemodes",{top:10,left:window.innerWidth/3*2+30,width:Math.min(window.innerWidth/4,350),height:window.innerHeight/2,minimized:!1}]]),O=new Map([]),L={menus:[{name:"HUD Customization",groups:[{name:"General",order:"elementsFirst",elements:[{type:"colorpicker",options:{text:"Text Color",bindVar:"text-color"}}],groups:[{name:"Menu Appearance",elements:[{type:"colorpicker",options:{text:"Menu Background Color",bindVar:"menu-bg-color"}},{type:"colorpicker",options:{text:"Menu Border Color",bindVar:"menu-border-color"}}]},{name:"Menu Controls Appearance",elements:[{type:"colorpicker",options:{text:"Menu Controls Background Color",bindVar:"menu-controls-bg-color"}},{type:"colorpicker",options:{text:"Menu Controls Text Color",bindVar:"menu-controls-text-color"}}]},{name:"Keybind Editor Appearance",elements:[{type:"colorpicker",options:{text:"Keybind Editor Background Color",bindVar:"keybind-editor-bg-color"}},{type:"colorpicker",options:{text:"Keybind Editor Border Color",bindVar:"keybind-editor-border-color"}}]}]},{name:"Elements",groups:[{name:"Buttons",elements:[{type:"colorpicker",options:{text:"Button Background Color",bindVar:"button-bg-color"}},{type:"colorpicker",options:{text:"Button Border Color",bindVar:"button-border-color"}}]},{name:"Text Inputs",elements:[{type:"colorpicker",options:{text:"Text Input Background Color",bindVar:"textinput-bg-color"}},{type:"colorpicker",options:{text:"Text Input Border Color",bindVar:"textinput-border-color"}}]},{name:"Toggles",elements:[{type:"colorpicker",options:{text:"Toggle Background Color",bindVar:"toggle-bg-color"}},{type:"colorpicker",options:{text:"Toggle Border Color",bindVar:"toggle-border-color"}}]},{name:"Dropdowns",elements:[{type:"colorpicker",options:{text:"Dropdown Background Color",bindVar:"dropdown-bg-color"}},{type:"colorpicker",options:{text:"Dropdown Border Color",bindVar:"dropdown-border-color"}}]}]}],elements:[{type:"button",options:{text:"Reset settings",runFunction:"resetSettings"}}]}]};class P{constructor(){this.canvas=document.createElement("canvas"),this.canvas.classList.add("gc_overlay_canvas"),this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,window.addEventListener("resize",(()=>{this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight}))}get context(){return this.canvas.getContext("2d")}}class j{constructor(t){this.element=null,this.menus=[],this.cssVarsSheet=null,window.cheat.hud=this,this.syncedVars=new Map,this.cheat=t,this.cheat.funcs.set("resetSettings",this.resetSettings.bind(this)),this.loadSyncedVar("cssVars",R),this.loadSyncedVar("menuTransforms",U),this.loadSyncedVar("keybinds",O),this.updateCssVars(),this.init(),this.loadFromObject(L),this.addToggle()}resetSettings(){confirm("Setting updates will only take place after you reload the page, are you sure you want to reset settings?")&&(GM_deleteValue("cssVars"),GM_deleteValue("menuTransforms"),GM_deleteValue("keybinds"))}addToggle(){this.cheat.keybindManager.registerBind({keys:new Set(["\\"]),exclusive:!1,callback:()=>{this.element&&(this.element.style.display="none"==this.element.style.display?"":"none")}})}createMenu(t){var e;let n=this.menu(t);if(n)return n;let r=null===(e=this.syncedVars.get("menuTransforms"))||void 0===e?void 0:e.get(t),i=new M(this,t,r);return this.menus.push(i),i}menu(t){for(let e=0;e<this.menus.length;e++)if(this.menus[e].name==t)return this.menus[e];return null}loadSyncedVar(t,e){let n=GM_getValue(t,"{}"),r=JSON.parse(n);for(let[t,n]of e)r[t]||(r[t]=n);this.syncedVars.set(t,new Map(Object.entries(r)))}updateCssVar(t,e){var n,r;null===(n=this.syncedVars.get("cssVars"))||void 0===n||n.set(t,e),this.updateCssVars();let i=JSON.stringify(Object.fromEntries(null!==(r=this.syncedVars.get("cssVars"))&&void 0!==r?r:[]));GM_setValue("cssVars",i)}updateMenuTransform(t,e){var n,r;null===(n=this.syncedVars.get("menuTransforms"))||void 0===n||n.set(t,e);let i=JSON.stringify(Object.fromEntries(null!==(r=this.syncedVars.get("menuTransforms"))&&void 0!==r?r:[]));GM_setValue("menuTransforms",i)}updateKeybind(t,e){var n,r;console.log(t,e),null===(n=this.syncedVars.get("keybinds"))||void 0===n||n.set(t,e);let i=JSON.stringify(Object.fromEntries(null!==(r=this.syncedVars.get("keybinds"))&&void 0!==r?r:[]));GM_setValue("keybinds",i)}updateCssVars(){var t;this.cssVarsSheet||(this.cssVarsSheet=new CSSStyleSheet,document.adoptedStyleSheets=[...document.adoptedStyleSheets,this.cssVarsSheet]);let e=":root {\n";for(let[n,r]of null!==(t=this.syncedVars.get("cssVars"))&&void 0!==t?t:[])e+=`\t--${n}: ${r};\n`;e+="}",this.cssVarsSheet.replaceSync(e)}init(){let t=new CSSStyleSheet;t.replaceSync("#gc_hud {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    z-index: 999999999999;\r\n    pointer-events: none;\r\n    color: var(--text-color);\r\n}\r\n\r\n#gc_hud .menu_controls {\r\n    width: 100%;\r\n    height: 20px;\r\n    background-color: var(--menu-controls-bg-color);\r\n    color: var(--menu-controls-text-color);\r\n    border-radius: 5px 5px 0px 0px;\r\n    text-align: center;\r\n    position: relative;\r\n}\r\n\r\n#gc_hud .menu_minimizer {\r\n    margin-left: 20px;\r\n    margin-right: 20px;\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    user-select: none;\r\n}\r\n\r\n#gc_hud .menu {\r\n    pointer-events: auto;\r\n    position: absolute;\r\n    background-color: var(--menu-bg-color);\r\n    display: inline-block;\r\n    border-radius: 5px;\r\n    overflow-x: hidden;\r\n    overflow-y: hidden;\r\n    resize: both;\r\n    width: 300px;\r\n    height: 200px;\r\n    outline: 3px solid var(--menu-border-color);\r\n}\r\n\r\n#gc_hud .menu.minimized {\r\n    height: 20px !important;\r\n    overflow-y: hidden;\r\n    resize: horizontal;\r\n}\r\n\r\n#gc_hud .group {\r\n    margin: 0px;\r\n    padding: 0px;\r\n    width: 100%;\r\n    /* allocate some space at the top and bottom */\r\n    height: calc(100% - 40px); \r\n    position: absolute;\r\n    top: 20px;\r\n    left: 0;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n    overflow-y: auto;\r\n    overflow-x: hidden;\r\n}\r\n\r\n#gc_hud .button, #gc_hud .group_opener {\r\n    background-color: var(--button-bg-color);\r\n    border: 1px solid var(--button-border-color);\r\n}\r\n\r\n#gc_hud .toggle {\r\n    background-color: var(--toggle-bg-color);\r\n    border: 1px solid var(--toggle-border-color);\r\n}\r\n\r\n#gc_hud .button, #gc_hud .toggle, #gc_hud .group_opener {\r\n    border-radius: 5px;\r\n    padding: 5px;\r\n    margin: 5px;\r\n    cursor: pointer;\r\n    width: 90%;\r\n    transition: transform 0.2s ease-in-out;\r\n}\r\n\r\n/* make it bounce smaller when clicked */\r\n#gc_hud .button:active, #gc_hud .toggle:active, #gc_hud .group_opener:active {\r\n    transform: scale(0.93);\r\n}\r\n\r\n#gc_hud .colorpicker {\r\n    width: 100%;\r\n}\r\n\r\n#gc_hud .colorpicker_wrapper {\r\n    width: 100%;\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: space-around;\r\n    align-items: center;\r\n    margin: 5px;\r\n}\r\n\r\n#gc_hud .colorpicker_opacity_wrapper {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-around;\r\n    align-items: center;\r\n}\r\n\r\n#gc_hud .colorpicker_preview {\r\n    width: 50px;\r\n    height: 50px;\r\n    border-radius: 5px;\r\n    opacity: 1;\r\n}\r\n\r\n#gc_hud .text {\r\n    text-align: center;\r\n    width: 100%;\r\n}\r\n\r\n#gc_hud .textinput_wrapper, #gc_hud .dropdown_wrapper, #gc_hud .slider_wrapper {\r\n    width: 100%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-around;\r\n    align-items: center;\r\n}\r\n\r\n#gc_hud .textinput {\r\n    width: 90%;\r\n    border-radius: 5px;\r\n    border: 1px solid var(--textinput-border-color);\r\n    background-color: var(--textinput-bg-color);\r\n    color: var(--text-color);\r\n    padding: 5px;\r\n    margin: 5px;\r\n}\r\n\r\n#gc_hud .dropdown {\r\n    width: 90%;\r\n    border-radius: 5px;\r\n    border: 1px solid var(--dropdown-border-color);\r\n    background-color: var(--dropdown-bg-color);\r\n    color: var(--text-color);\r\n    padding: 5px;\r\n    margin: 5px;\r\n}\r\n\r\n#gc_hud .toggle_wrapper, #gc_hud .button_wrapper {\r\n    width: 90%;\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: space-around;\r\n    align-items: center;\r\n    padding: 0px;\r\n}\r\n\r\n#gc_hud .toggle, #gc_hud .button {\r\n    /* make it take up as much space as possible */\r\n    width: 100%;\r\n    margin-left: 0px;\r\n    margin-right: 0px;\r\n}\r\n\r\n#gc_hud .keybind_opener {\r\n    width: 30px;\r\n    height: 30px;\r\n    font-size: 30px;\r\n    margin-left: 10px;\r\n}\r\n\r\n#gc_hud .keybind_editor_wrapper {\r\n    background-color: var(--keybind-editor-bg-color);\r\n    border: 3px solid var(--keybind-editor-border-color);\r\n    border-radius: 8px;\r\n}\r\n\r\n#gc_hud .keybind_editor {\r\n    width: 50vw;\r\n    height: 50vh;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-around;\r\n    align-items: center;\r\n    color: var(--text-color);\r\n}\r\n\r\n#gc_hud .close {\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    width: 20px;\r\n    height: 20px;\r\n    font-size: 20px;\r\n    cursor: pointer;\r\n    user-select: none;\r\n}\r\n\r\n#gc_hud .keybind_title {\r\n    font-size: 40px;\r\n    text-align: center;\r\n}\r\n\r\n#gc_hud .keybind_controls {\r\n    width: 100%;\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: space-around;\r\n    align-items: center;\r\n}\r\n\r\n#gc_hud .keybind_display {\r\n    border: 3px solid white;\r\n    min-width: 300px;\r\n    border-radius: 5px;\r\n    height: 50px;\r\n    text-align: center;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    cursor: pointer;\r\n}\r\n\r\n#gc_hud .keybind_exclusive {\r\n    display: flex;\r\n}\r\n\r\n#gc_hud .keybind_exclusive .text {\r\n    margin-right: 10px;\r\n}\r\n\r\n#gc_hud .keybind_editor .action {\r\n    cursor: pointer;\r\n}\r\n\r\n#gc_hud .slider {\r\n    width: 90%;\r\n    margin: 5px;\r\n}\r\n\r\n.gc_overlay_canvas {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100vw;\r\n    height: 100vh;\r\n    z-index: 9999;\r\n    pointer-events: none;\r\n}\r\n\r\n@keyframes slide_out_left {\r\n    0% {\r\n        transform: translateX(0);\r\n        opacity: 1;\r\n        pointer-events: all;\r\n    }\r\n\r\n    100% {\r\n        transform: translateX(-100%);\r\n        opacity: 0;\r\n        pointer-events: none;\r\n    }\r\n}\r\n\r\n@keyframes slide_out_right {\r\n    0% {\r\n        transform: translateX(0);\r\n        opacity: 1;\r\n        pointer-events: all;\r\n    }\r\n\r\n    100% {\r\n        transform: translateX(100%);\r\n        opacity: 0;\r\n        pointer-events: none;\r\n    }\r\n}\r\n\r\n@keyframes slide_in_left {\r\n    0% {\r\n        transform: translateX(-100%);\r\n        opacity: 0;\r\n        pointer-events: none;\r\n    }\r\n\r\n    100% {\r\n        transform: translateX(0);\r\n        opacity: 1;\r\n        pointer-events: all;\r\n    }\r\n}\r\n\r\n@keyframes slide_in_right {\r\n    0% {\r\n        transform: translateX(100%);\r\n        opacity: 0;\r\n        pointer-events: none;\r\n    }\r\n\r\n    100% {\r\n        transform: translateX(0);\r\n        opacity: 1;\r\n        pointer-events: all;\r\n    }\r\n}\r\n\r\n@keyframes idle {}"),document.adoptedStyleSheets=[...document.adoptedStyleSheets,t];let e=document.createElement("div");e.id="gc_hud",this.element=e,document.addEventListener("DOMContentLoaded",(()=>{document.body.appendChild(e)})),this.updateCssVars()}loadFromObject(t){for(let e of t.menus){this.createMenu(e.name).loadFromObject(e)}}createOverlayCanvas(){var t;let e=new P;return null===(t=document.body)||void 0===t||t.appendChild(e.canvas),e}}const D={menus:[{name:"Devtools",elements:[{type:"toggle",options:{textEnabled:"Stop logging incoming messages",textDisabled:"Log incoming messages",default:!1,runFunction:"logIncomingMessages"}},{type:"button",options:{text:"Log closest device",runFunction:"logClosestDevice"}}]}]};class N{constructor(){this.name="Gimkit Cheat Devtools",this.hudAddition=D,this.loggingIncomingMessages=!1,this.funcs=new Map([["logIncomingMessages",t=>{this.loggingIncomingMessages=t}],["logClosestDevice",()=>{this.logClosestDevice()}]])}init(t){t.socketHandler.addEventListener("recieveMessage",(e=>{this.loggingIncomingMessages&&t.log("Incoming message",e.detail)}))}logClosestDevice(){var t,e,n,r,i,o,s,a;let u=null===(i=null===(r=null===(n=null===(e=null===(t=null===unsafeWindow||void 0===unsafeWindow?void 0:unsafeWindow.stores)||void 0===t?void 0:t.phaser)||void 0===e?void 0:e.scene)||void 0===n?void 0:n.worldManager)||void 0===r?void 0:r.devices)||void 0===i?void 0:i.devicesInView,c=null===(a=null===(s=null===(o=null===unsafeWindow||void 0===unsafeWindow?void 0:unsafeWindow.stores)||void 0===o?void 0:o.phaser)||void 0===s?void 0:s.mainCharacter)||void 0===a?void 0:a.body,l=null,h=1/0;for(let t of u){if(0==t.interactiveZones.zones.length)continue;let e=Math.sqrt(Math.pow(t.x-c.x,2)+Math.pow(t.y-c.y,2));e<h&&(l=t,h=e)}console.log(l)}}const W={menus:[{name:"General Cheats",elements:[{type:"toggle",options:{textEnabled:"Stop auto answering",textDisabled:"Auto answer",default:!1,runFunction:"setAutoAnswer",keybind:!0,keybindId:"autoAnswer"}}]}]};class F{constructor(){this.name="Autoanswer",this.hudAddition=W,this.autoAnswering=!1,this.funcs=new Map([["setAutoAnswer",t=>{this.autoAnswering=t}]]),this.currentQuestionId="",this.answerDeviceId="",this.questions=[],this.questionIdList=[],this.currentQuestionIndex=0}init(t){t.socketHandler.addEventListener("recieveMessage",(e=>{var n;if("colyseus"!=t.socketHandler.transportType&&"STATE_UPDATE"==(null===(n=e.detail)||void 0===n?void 0:n.key))switch(e.detail.data.type){case"GAME_QUESTIONS":this.questions=e.detail.data.value;break;case"PLAYER_QUESTION_LIST":this.questionIdList=e.detail.data.value.questionList,this.currentQuestionIndex=e.detail.data.value.questionIndex;break;case"PLAYER_QUESTION_LIST_INDEX":this.currentQuestionIndex=e.detail.data.value}})),t.socketHandler.addEventListener("recieveChanges",(t=>{var e,n,r;let i=t.detail;for(let t of i){for(let[e,n]of Object.entries(t.data))"GLOBAL_questions"==e&&(this.questions=JSON.parse(n),this.answerDeviceId=t.id);for(let[i,o]of Object.entries(t.data))i.includes("currentQuestionId")&&i.includes(null===(r=null===(n=null===(e=unsafeWindow.stores)||void 0===e?void 0:e.phaser)||void 0===n?void 0:n.mainCharacter)||void 0===r?void 0:r.id)&&(this.currentQuestionId=o)}})),setInterval((()=>{var e;if(this.autoAnswering)if("colyseus"==t.socketHandler.transportType){if(""==this.currentQuestionId)return;let n=null===(e=this.questions)||void 0===e?void 0:e.find((t=>t._id==this.currentQuestionId));if(!n)return;let r={key:"answered",deviceId:this.answerDeviceId,data:{}};if("text"==n.type)r.data.answer=n.answers[0].text;else{let t=n.answers.find((t=>t.correct))._id;r.data.answer=t}t.socketHandler.sendData("MESSAGE_FOR_DEVICE",r)}else{let e,n=this.questionIdList[this.currentQuestionIndex],r=this.questions.find((t=>t._id==n));if(!r)return;e="mc"==r.type?r.answers.find((t=>t.correct))._id:r.answers[0].text,t.socketHandler.sendData("QUESTION_ANSWERED",{answer:e,questionId:n})}}),1e3)}}let z=["Unchanged","default_browngreen","default_cyan","default_darkblue","default_darkgreen","default_darkpurple","default_gray","default_grayblue","default_graybrown","default_hotpink","default_lightbrown","default_lightgreen","default_lightpink","default_lightpurple","default_lightyellow","default_lime","default_maroon","default_orange","default_pink","default_red","default_yellow","sunny","glassHalfFull","stripeDoubleGreen","sprinklesRed","dayOne","vortexAgent","echoAgent","grayGradient","mustache","clown","redNinja","redDeliciousApple","polkaDotBlueAndYellow","fadedBlueGradient","whiteAndBlueVerticalStripes","volcanoCracks","pinkPaste","yellowCracksPurple","glyphsYellowBrown","camoBlue","glyphsOrangeBlue","purplePaste","mustacheBrown","mustachePink","polkaDotWhiteAndRed","camoTan","camoGreen","stripeDoublePurple","stripeDoubleRed","stripeDoubleYellow","sprinklesChocolate","coolRedBlueGradient","mountainAndSun","redDinoCostume","pencilPack","corn","luchador","fox","burger","galaxy","cellBlue","cellGold","rockyWest","puzzleRedGreen","puzzleOrangeBlue","puzzleGrayWhite","puzzleGreenBlue","puzzleYellowPurple","pumpkin","ghostCostume","mummy","fifthBirthday","pumpkinPie","feast","frostBuddy","festiveOnesieTan","festiveOnesieRed","festiveOnesieGreen","festiveOnesieBlue","hotChocolate","snowglobe","polkaDotFestive","polkaDotFestiveReverse","mustacheSanta","firework","gift","snowman","detective","yinYang","astroHelmet","hamster","pirate","rockstar","circuitGray","circuitBlue","circuitGreen","roses","heart","zebra","constellationBlackWhite","constellationBlackGreen","constellationPurpleYellow","constellationPinkGreen","constellationYellowPink","squiggles","frozenMummy","leprechaun","evilPlantGreen","evilPlantPink","fisher","rainbowWave","sketch","sketchBlue","bananaSplit","eightBit","gamerGreen","gamerPink","gamerPurple","gamerYellow","graduate","graduateBlue","arcticFox","coffee","partyPineapple","sentryRobot","construction","clock","crashTestDummy"],q=["None","origin_token"];z=z.sort(),q=q.sort();const H={menus:[{name:"General Cheats",groups:[{name:"Cosmetic Picker",elements:[{type:"text",options:{text:"Select cosmetics to apply to your character. These changes are only visible to you."}},{type:"dropdown",options:{text:"Selected Skin",options:z,runFunction:"setSkin",default:"Unchanged"}},{type:"dropdown",options:{text:"Selected Trail",options:q,runFunction:"setTrail",default:"None"}}]}]}]};class G{constructor(){this.name="Cosmetic Picker",this.hudAddition=H,this.funcs=new Map([["setSkin",t=>{this.setSkin(t)}],["setTrail",t=>{this.setTrail(t)}]]),this.skinWaiting=!1,this.trailWaiting=!1,this.customSkin="Unchaged"}init(t){var e,n,r,i,o,s,a,u;(null===(n=null===(e=t.hud.menu("General Cheats"))||void 0===e?void 0:e.group("Cosmetic Picker"))||void 0===n?void 0:n.addElement("textinput",{text:"Other skin input"})).addEventListener("input",(t=>{this.customSkin=t.detail})),(null===(i=null===(r=t.hud.menu("General Cheats"))||void 0===r?void 0:r.group("Cosmetic Picker"))||void 0===i?void 0:i.addElement("button",{text:"Apply Other Skin"})).addEventListener("click",(()=>{this.setSkin(this.customSkin)})),(null===(s=null===(o=t.hud.menu("General Cheats"))||void 0===o?void 0:o.group("Cosmetic Picker"))||void 0===s?void 0:s.addElement("textinput",{text:"Other trail input"})).addEventListener("input",(t=>{this.customSkin=t.detail})),(null===(u=null===(a=t.hud.menu("General Cheats"))||void 0===a?void 0:a.group("Cosmetic Picker"))||void 0===u?void 0:u.addElement("button",{text:"Apply Other Trail"})).addEventListener("click",(()=>{this.setTrail(this.customSkin)}))}setSkin(t){var e,n,r,i,o,s;if("Unchanged"==t)return;if(!("stores"in unsafeWindow)){if(this.skinWaiting)return;let e=setInterval((()=>{"stores"in unsafeWindow&&(this.hasSkinApplied(t)&&clearInterval(e),this.setSkin(t))}),100);return void(this.skinWaiting=!0)}let a=unsafeWindow.stores.phaser,u=null===(e=a.mainCharacter)||void 0===e?void 0:e.id;if(!u)return;let c=`character_${t}`;null===(s=null===(o=null===(i=null===(r=null===(n=a.scene)||void 0===n?void 0:n.characterManager)||void 0===r?void 0:r.characters)||void 0===i?void 0:i.get(u))||void 0===o?void 0:o.skin)||void 0===s||s.updateSkin(c)}hasSkinApplied(t){var e,n,r,i,o;let s=unsafeWindow.stores.phaser,a=null===(e=s.mainCharacter)||void 0===e?void 0:e.id;if(!a)return;let u=`character_${t}`;return(null===(o=null===(i=null===(r=null===(n=s.scene)||void 0===n?void 0:n.characterManager)||void 0===r?void 0:r.characters)||void 0===i?void 0:i.get(a))||void 0===o?void 0:o.skin.skinId)==u}setTrail(t){var e,n,r,i,o,s;if(!("stores"in unsafeWindow)){if(this.trailWaiting)return;let e=setInterval((()=>{"stores"in unsafeWindow&&(this.hasSkinApplied(t)&&clearInterval(e),this.setTrail(t))}),100);return void(this.trailWaiting=!0)}let a=unsafeWindow.stores.phaser,u=null===(e=a.mainCharacter)||void 0===e?void 0:e.id;if(!u)return;"None"==t&&(t="");let c=`trail_${t}`;null===(s=null===(o=null===(i=null===(r=null===(n=a.scene)||void 0===n?void 0:n.characterManager)||void 0===r?void 0:r.characters)||void 0===i?void 0:i.get(u))||void 0===o?void 0:o.characterTrail)||void 0===s||s.updateAppearance(c)}}const V={menus:[{name:"General Cheats",groups:[{name:"Player Highlighter",elements:[{type:"toggle",options:{textEnabled:"Stop Highlighting Teammates",textDisabled:"Highlight Teammates",runFunction:"highlightTeammates",keybind:!0,keybindId:"highlightTeammates"}},{type:"toggle",options:{textEnabled:"Stop Highlighting Enemies",textDisabled:"Highlight Enemies",runFunction:"highlightEnemies",keybind:!0,keybindId:"highlightEnemies"}},{type:"slider",options:{text:"Arrow Distance",min:20,max:750,default:200,runFunction:"setArrowDistance"}}]}]}]};class Y{constructor(){this.name="Player Highlighter",this.hudAddition=V,this.funcs=new Map([["highlightTeammates",t=>{this.highlightingTeammates=t}],["highlightEnemies",t=>{this.highlightingEnemies=t}],["setArrowDistance",t=>{this.arrowDistance=t}]]),this.highlightingTeammates=!1,this.highlightingEnemies=!1,this.ctx=null,this.canvas=null,this.arrowDistance=200}init(t){setInterval((()=>{var e,n;(null===(n=null===(e=null===unsafeWindow||void 0===unsafeWindow?void 0:unsafeWindow.stores)||void 0===e?void 0:e.phaser)||void 0===n?void 0:n.scene)&&(null==this.canvas&&(this.canvas=t.hud.createOverlayCanvas(),this.ctx=this.canvas.context),this.render())}),100)}render(){var t,e,n,r,i,o,s,a,u,c,l;null===(t=this.ctx)||void 0===t||t.clearRect(0,0,null!==(n=null===(e=this.canvas)||void 0===e?void 0:e.canvas.width)&&void 0!==n?n:1920,null!==(i=null===(r=this.canvas)||void 0===r?void 0:r.canvas.height)&&void 0!==i?i:1080);let h=unsafeWindow.stores.phaser,f=h.scene.characterManager.characters,d=h.mainCharacter;for(let[t,e]of f){if(t==d.id)continue;let n=e.teamId!=d.teamId;if(n&&!this.highlightingEnemies)continue;if(!n&&!this.highlightingTeammates)continue;this.ctx.strokeStyle=n?"red":"green",this.ctx.lineWidth=5;let r=Math.atan2(e.body.y-d.body.y,e.body.x-d.body.x),i=Math.sqrt(Math.pow(e.body.x-d.body.x,2)+Math.pow(e.body.y-d.body.y,2)),h=Math.min(i,this.arrowDistance),f={x:Math.cos(r)*h+this.canvas.canvas.width/2,y:Math.sin(r)*h+this.canvas.canvas.height/2},p=r-Math.PI/4*3,g=r+Math.PI/4*3;null===(o=this.ctx)||void 0===o||o.beginPath(),null===(s=this.ctx)||void 0===s||s.moveTo(f.x,f.y),null===(a=this.ctx)||void 0===a||a.lineTo(50*Math.cos(p)+f.x,50*Math.sin(p)+f.y),null===(u=this.ctx)||void 0===u||u.moveTo(f.x,f.y),null===(c=this.ctx)||void 0===c||c.lineTo(50*Math.cos(g)+f.x,50*Math.sin(g)+f.y),null===(l=this.ctx)||void 0===l||l.stroke(),this.ctx.fillStyle="black",this.ctx.font="20px Verdana",this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.ctx.fillText(`${e.nametag.name} (${Math.round(i)})`,f.x,f.y)}}}class ${constructor(){this.name="Freecam",this.freecamming=!1,this.freeCamPos={x:0,y:0},this.toggleFreecam=null,this.spectateMenu=null,this.keys=new Set,this.lastPlayers=[]}init(t){let e=t.hud.createMenu("General Cheats").createGroup("Freecam"),n=e.addElement("toggle",{textEnabled:"Stop Freecamming",textDisabled:"Unbind Camera",keybind:!0,keybindId:"toggleFreecam"});n.addEventListener("change",(t=>{this.camHelper?this.enableFreecam(t.detail):n.value=!1}));let r=e.addElement("dropdown",{text:"Spectate Player",options:["None"]});r.addEventListener("change",(t=>{this.spectatePlayer(t.detail)})),this.toggleFreecam=n,this.spectateMenu=r,t.addEventListener("gameLoaded",(()=>{console.log("game loaded amiright"),this.camHelper=unsafeWindow.stores.phaser.scene.cameraHelper,setInterval((()=>{this.update()}),1e3/60)})),window.addEventListener("keydown",(t=>{this.freecamming&&t.key.includes("Arrow")&&(t.stopImmediatePropagation(),this.keys.add(t.key))})),window.addEventListener("keyup",(t=>{this.keys.delete(t.key)}))}enableFreecam(t){console.log(t);let e=unsafeWindow.stores.phaser,n=e.scene.cameras.cameras[0];if(t)this.camHelper.stopFollow(),this.freeCamPos.x=n.midPoint.x,this.freeCamPos.y=n.midPoint.y,n.useBounds=!1;else{let t=e.scene.characterManager.characters.get(e.mainCharacter.id).body;this.camHelper.startFollowingObject({object:t}),n.useBounds=!0}this.freecamming=t}spectatePlayer(t){if(this.enableFreecam(!1),"None"==t)return;this.toggleFreecam.value=!0;let e=unsafeWindow.stores.phaser.scene.characterManager.characters;for(let[n,r]of e)if(r.nametag.name==t){this.camHelper.startFollowingObject({object:r.body});break}}update(){this.updateSpectatablePlayers(),this.freecamming&&(this.keys.has("ArrowUp")&&(this.freeCamPos.y-=20),this.keys.has("ArrowDown")&&(this.freeCamPos.y+=20),this.keys.has("ArrowLeft")&&(this.freeCamPos.x-=20),this.keys.has("ArrowRight")&&(this.freeCamPos.x+=20),this.camHelper.goTo(this.freeCamPos))}updateSpectatablePlayers(){var t;let e=unsafeWindow.stores.phaser,n=e.scene.characterManager.characters,r=["None"];for(let[t,i]of n)t!=e.mainCharacter.id&&r.push(i.nametag.name);let i=!0;if(this.lastPlayers.length!=r.length)i=!1;else for(let t=0;t<this.lastPlayers.length;t++)if(this.lastPlayers[t]!=r[t]){i=!1;break}i||(this.lastPlayers=r,null===(t=this.spectateMenu)||void 0===t||t.setOptions(r))}}var J;!function(t){t.Insurance="insurance",t["Money Per Question"]="moneyPerQuestion",t.Multiplier="multiplier",t["Streak Bonus"]="streakBonus"}(J||(J={}));const X={menus:[{name:"Cheats for gamemodes",groups:[{name:"Classic",elements:[{type:"toggle",options:{textEnabled:"Stop Auto Purchasing",textDisabled:"Start Auto Purchasing",default:!1,runFunction:"setAutoPurchasingClassic",keybind:!0,keybindId:"autoPurchasingClassic"}}]}]}]};class K{constructor(){this.name="Classic Script",this.money=0,this.upgradeLevels={insurance:1,moneyPerQuestion:1,multiplier:1,streakBonus:1},this.hudAddition=X,this.autoPurchasing=!1,this.funcs=new Map([["setAutoPurchasingClassic",t=>{this.autoPurchasing=t,this.autoPurchasing&&this.checkAutoBuy()}]]),this.upgradesToGet=[["Streak Bonus",2,20],["Money Per Question",3,100],["Streak Bonus",3,200],["Multiplier",3,300],["Streak Bonus",4,2e3],["Multiplier",4,2e3],["Money Per Question",5,1e4],["Streak Bonus",5,2e4],["Multiplier",5,12e3],["Money Per Question",6,75e3],["Multiplier",6,85e3],["Streak Bonus",6,2e5],["Streak Bonus",7,2e6],["Streak Bonus",8,2e7],["Multiplier",7,7e5],["Money Per Question",9,1e7],["Multiplier",8,65e5],["Streak Bonus",9,2e8],["Multiplier",9,65e6],["Streak Bonus",10,2e9],["Money Per Question",10,1e8],["Multiplier",10,1e9]]}init(t){this.cheat=t,this.cheat.socketHandler.addEventListener("recieveMessage",(t=>{var e,n;if("blueboat"==this.cheat.socketHandler.transportType){if("UPGRADE_LEVELS"==(null===(e=t.detail.data)||void 0===e?void 0:e.type)){this.upgradeLevels=t.detail.data.value;for(let t=0;t<this.upgradesToGet.length;t++){let e=this.upgradesToGet[t];this.upgradeLevels[J[e[0]]]>=e[1]&&(this.upgradesToGet.splice(t,1),t--)}}"BALANCE"==(null===(n=t.detail.data)||void 0===n?void 0:n.type)&&(this.money=t.detail.data.value,this.checkAutoBuy())}}))}checkAutoBuy(){if(!this.autoPurchasing)return;let t=this.upgradesToGet[0];t&&this.money>=t[2]&&this.purchaseUpgrade(t[0],t[1])}purchaseUpgrade(t,e){this.cheat.log("Purchasing upgrade",t,e),this.cheat.socketHandler.sendData("UPGRADE_PURCHASED",{upgradeName:t,level:e})}}const Q={menus:[{name:"Cheats for gamemodes",groups:[{name:"Super Rich Mode",elements:[{type:"toggle",options:{textEnabled:"Stop Auto Purchasing",textDisabled:"Start Auto Purchasing",default:!1,runFunction:"setAutoPurchasingRichMode",keybind:!0,keybindId:"autoPurchasingRichMode"}}]}]}]};class Z extends K{constructor(){super(...arguments),this.name="Rich Mode Script",this.hudAddition=Q,this.funcs=new Map([["setAutoPurchasingRichMode",t=>{this.autoPurchasing=t,this.autoPurchasing&&this.checkAutoBuy()}]]),this.upgradesToGet=[["Streak Bonus",2,1e4],["Money Per Question",3,5e3],["Streak Bonus",3,1e5],["Multiplier",3,15e4],["Streak Bonus",4,1e6],["Multiplier",4,1e6],["Money Per Question",5,5e6],["Streak Bonus",5,1e7],["Multiplier",5,6e6],["Money Per Question",6,375e5],["Multiplier",6,425e5],["Streak Bonus",6,1e8],["Streak Bonus",7,1e9],["Streak Bonus",8,1e10],["Multiplier",7,35e7],["Money Per Question",9,5e9],["Multiplier",8,325e7],["Streak Bonus",9,1e11],["Multiplier",9,325e8],["Streak Bonus",10,1e12],["Money Per Question",10,5e10],["Multiplier",10,5e11]]}}class tt{constructor(){this.name="Trust No One Script",this.people=[]}init(t){this.cheat=t;let e=t.hud.createMenu("Cheats for gamemodes").createGroup("Trust No One").addElement("text",{text:"Imposters: Waiting... (only works if you don't join mid-game)"});t.socketHandler.addEventListener("recieveMessage",(t=>{if("blueboat"==this.cheat.socketHandler.transportType&&"IMPOSTER_MODE_PEOPLE"==t.detail.key){this.people=t.detail.data;let n=this.people.filter((t=>"imposter"==t.role));e.text=`Imposter(s): ${n.map((t=>t.name)).join(", ")}`}}))}}const et={menus:[{name:"General Cheats",elements:[{type:"toggle",options:{textEnabled:"Stop instant use",textDisabled:"Instant use",default:!0,runFunction:"setInstantUse",keybind:!0,keybindId:"instantUse"}}]}]};class nt{constructor(){this.name="Instantuse",this.hudAddition=et,this.instantUseEnabled=!0,this.funcs=new Map([["setInstantUse",t=>{this.instantUseEnabled=t}]])}init(t){let e=this;t.keybindManager.registerBind({keys:new Set(["enter"]),exclusive:!1,callback(){e.useNearest()}})}useNearest(){var t,e,n,r,i,o,s,a,u,c;let l=null===(i=null===(r=null===(n=null===(e=null===(t=null===unsafeWindow||void 0===unsafeWindow?void 0:unsafeWindow.stores)||void 0===t?void 0:t.phaser)||void 0===e?void 0:e.scene)||void 0===n?void 0:n.worldManager)||void 0===r?void 0:r.devices)||void 0===i?void 0:i.devicesInView,h=null===(a=null===(s=null===(o=null===unsafeWindow||void 0===unsafeWindow?void 0:unsafeWindow.stores)||void 0===o?void 0:o.phaser)||void 0===s?void 0:s.mainCharacter)||void 0===a?void 0:a.body;if(!l||!h)return;let f=null,d=1/0;for(let t of l){if(0==t.interactiveZones.zones.length)continue;let e=Math.sqrt(Math.pow(t.x-h.x,2)+Math.pow(t.y-h.y,2));e<d&&(f=t,d=e)}f&&(null===(c=null===(u=null==f?void 0:f.interactiveZones)||void 0===u?void 0:u.onInteraction)||void 0===c||c.call(u))}}
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */
function rt(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}const it={"Capture The Flag":[{displayName:"Speed Upgrade",selector:{grantedItemName:"Speed Upgrade"},reusable:!1},{displayName:"Efficiency Upgrade",selector:{grantedItemName:"Efficiency Upgrade"},reusable:!1},{displayName:"Energy Per Question Upgrade",selector:{grantedItemName:"Energy Per Question Upgrade"},reusable:!1},{displayName:"InvisaBits",selector:{grantedItemId:"silver-ore"},reusable:!0}],Tag:[{displayName:"Speed Upgrade",selector:{grantedItemName:"Speed Upgrade"},reusable:!1},{displayName:"Efficiency Upgrade",selector:{grantedItemName:"Efficiency Upgrade"},reusable:!1},{displayName:"Energy Per Question Upgrade",selector:{grantedItemName:"Energy Per Question Upgrade"},reusable:!1},{displayName:"Endurance Upgrade",selector:{grantedItemName:"Endurance Upgrade"},reusable:!1}],Snowbrawl:[{displayName:"Med Pack",selector:{grantedItemId:"medpack"},reusable:!0},{displayName:"Shield Can",selector:{grantedItemId:"shield-can"},reusable:!0}],"One Way Out":[{displayName:"Med Pack",selector:{grantedItemId:"medpack"},reusable:!0},{displayName:"Shield Can",selector:{grantedItemId:"shield-can"},reusable:!0}],Farmchain:{Seeds:[{displayName:"Corn Seed",selector:{grantedItemId:"yellow-seed"},reusable:!0},{displayName:"Wheat Seed",selector:{grantedItemId:"tan-seed",grantAction:"Grant Item"},reusable:!0},{displayName:"Potato Seed",selector:{grantedItemId:"brown-seed"},reusable:!0},{displayName:"Grape Seed",selector:{grantedItemId:"purple-seed"},reusable:!0},{displayName:"Raspberry Seed",selector:{grantedItemId:"magenta-seed"},reusable:!0},{displayName:"Watermelon Seed",selector:{grantedItemId:"green-seed"},reusable:!0},{displayName:"Coffee Bean",selector:{grantedItemId:"bronze-seed"},reusable:!0},{displayName:"Orange Seed",selector:{grantedItemId:"orange-seed"},reusable:!0},{displayName:"Gimberry Seed",selector:{grantedItemId:"gold-seed"},reusable:!0},{displayName:"Cash Berry Seed",selector:{grantedItemId:"dark-green-seed"},reusable:!0},{displayName:"Pepper Seed",selector:{grantedItemId:"red-seed"},reusable:!0},{displayName:"Energy Bar Seed",selector:{grantedItemId:"blue-seed"},reusable:!0},{displayName:"Lottery Ticket Seed",selector:{grantedItemId:"teal-seed"},reusable:!0}],"Seed Unlocks":[{displayName:"Wheat Seed Unlock",selector:{grantedItemName:"Wheat Seed Unlock"},reusable:!1},{displayName:"Potato Seed Unlock",selector:{grantedItemName:"Potato Seed Unlock"},reusable:!1},{displayName:"Grape Seed Unlock",selector:{grantedItemName:"Grape Seed Unlock"},reusable:!1},{displayName:"Raspberry Seed Unlock",selector:{grantedItemName:"Raspberry Seed Unlock"},reusable:!1},{displayName:"Watermelon Seed Unlock",selector:{grantedItemName:"Watermelon Seed Unlock"},reusable:!1},{displayName:"Coffee Bean Seed Unlock",selector:{grantedItemName:"Coffee Bean Seed Unlock"},reusable:!1},{displayName:"Orange Seed Unlock",selector:{grantedItemName:"Orange Seed Unlock"},reusable:!1},{displayName:"Gimberry Seed Unlock",selector:{grantedItemName:"Gimberry Seed Unlock"},reusable:!1}]}};class ot{constructor(){this.name="Purchasers"}init(t){t.addEventListener("gameLoaded",(()=>{this.createButtons(t)}))}createButtons(t){var e,n,r,i,o;if(null===(o=null===(i=null===(r=null===(n=null===(e=null===unsafeWindow||void 0===unsafeWindow?void 0:unsafeWindow.stores)||void 0===e?void 0:e.phaser)||void 0===n?void 0:n.scene)||void 0===r?void 0:r.worldManager)||void 0===i?void 0:i.devices)||void 0===o?void 0:o.allDevices)for(let e in it)this.createGamemodeButtons(e,it[e],t.hud.createMenu("Cheats for gamemodes"));else setTimeout((()=>this.createButtons(t)),1e3)}createGamemodeButtons(t,e,n){var r,i,o,s,a,u,c;let l=null===(a=null===(s=null===(o=null===(i=null===(r=null===unsafeWindow||void 0===unsafeWindow?void 0:unsafeWindow.stores)||void 0===r?void 0:r.phaser)||void 0===i?void 0:i.scene)||void 0===o?void 0:o.worldManager)||void 0===s?void 0:s.devices)||void 0===a?void 0:a.allDevices,h=n.createGroup(t);if(Array.isArray(e))for(let t of e){let{selector:e,displayName:n,reusable:r}=t,i=l.filter((t=>{var n;let r=!0;for(let[i,o]of Object.entries(e))if((null===(n=t.options)||void 0===n?void 0:n[i])!=o){r=!1;break}return r}));if(0==i.length)continue;i.sort(((t,e)=>{var n,r;return(null===(n=null==t?void 0:t.options)||void 0===n?void 0:n.amountOfRequiredItem)-(null===(r=null==e?void 0:e.options)||void 0===r?void 0:r.amountOfRequiredItem)}));let o=`Purchase ${n} (${null===(c=null===(u=i[0])||void 0===u?void 0:u.options)||void 0===c?void 0:c.amountOfRequiredItem})`,s=h.addElement("button",{text:o});s.addEventListener("click",(()=>rt(this,void 0,void 0,(function*(){var t,e,a,u,c,h,f;(null===(e=null===(t=i[0])||void 0===t?void 0:t.interactiveZones)||void 0===e?void 0:e.onInteraction)?(null===(c=null===(u=null===(a=i[0])||void 0===a?void 0:a.interactiveZones)||void 0===u?void 0:u.onInteraction)||void 0===c||c.call(u),r||(yield new Promise((t=>setTimeout(t,500))),i[0].state.active||(i.shift(),0!=i.length?(o=`Purchase ${n} (${null===(f=null===(h=i[0])||void 0===h?void 0:h.options)||void 0===f?void 0:f.amountOfRequiredItem})`,s.text=o):s.remove()))):i=i.map((t=>l.find((e=>e.id==t.id))))}))))}else for(let[t,n]of Object.entries(e))this.createGamemodeButtons(t,n,h)}}const st={menus:[{name:"Cheats for gamemodes",groups:[{name:"Farmchain",elements:[{type:"toggle",options:{textEnabled:"Stop auto harvesting",textDisabled:"Start auto harvesting",keybind:!0,keybindId:"autoHarvesting",default:!0,runFunction:"setAutoHarvest"}},{type:"toggle",options:{textEnabled:"Stop auto planting",textDisabled:"Start auto planting",keybind:!0,keybindId:"autoPlanting",default:!1,runFunction:"setAutoPlant"}}]}]}]},at=["yellow-seed","tan-seed","brown-seed","purple-seed","magenta-seed","green-seed","bronze-seed","orange-seed","gold-seed","dark-green-seed","red-seed","blue-seed","teal-seed"];class ut{constructor(){this.name="Farmchain",this.hudAddition=st,this.autoHarvesting=!0,this.autoPlanting=!1,this.funcs=new Map([["setAutoHarvest",t=>{this.autoHarvesting=t}],["setAutoPlant",t=>{this.autoPlanting=t}]])}init(t){t.socketHandler.addEventListener("recieveChanges",(e=>{let n=e.detail;for(let e of n)for(let n in e.data){if(!n.endsWith("status")||"availableForCollection"!=e.data[n])continue;let r={key:"collect",deviceId:e.id,data:void 0};t.socketHandler.sendData("MESSAGE_FOR_DEVICE",r)}})),t.addEventListener("gameLoaded",(()=>{var e,n,r,i,o,s,a;let u=null===(o=null===(i=null===(r=null===(n=null===(e=null===unsafeWindow||void 0===unsafeWindow?void 0:unsafeWindow.stores)||void 0===e?void 0:e.phaser)||void 0===n?void 0:n.scene)||void 0===r?void 0:r.worldManager)||void 0===i?void 0:i.devices)||void 0===o?void 0:o.allDevices,c=u.filter((t=>"plant"==t.options.style)),l={};for(let t of u)at.includes(null===(s=t.options)||void 0===s?void 0:s.ingredient1Item)&&(l[null===(a=t.options)||void 0===a?void 0:a.ingredient1Item]=t);setInterval((()=>{var e,n,r;if(!this.autoPlanting)return;let i,o=null===(r=null===(n=null===(e=null===unsafeWindow||void 0===unsafeWindow?void 0:unsafeWindow.stores)||void 0===e?void 0:e.me)||void 0===n?void 0:n.inventory)||void 0===r?void 0:r.slots;if(!o)return;for(let t of at)if(o.has(t)){i=t;break}if(!i)return;let s=c.findLast((t=>"idle"==t.state.status));t.socketHandler.sendData("MESSAGE_FOR_DEVICE",{key:"craft",deviceId:s.id,data:{recipe:l[i].id}})}),50)}))}}const ct={menus:[{name:"General Cheats",elements:[{type:"toggle",options:{textEnabled:"Show Energy Popup",textDisabled:"Hide Energy Popup",runFunction:"toggleEnergyPopup"}}]}]};class lt{constructor(){this.name="Hide Energy",this.hudAddition=ct,this.enabled=!1,this.funcs=new Map([["toggleEnergyPopup",t=>{this.enabled=t,console.log(this.popupElement,this.enabled),this.popupElement&&(this.enabled?this.popupElement.style.display="none":this.popupElement.style.display="")}]])}init(){let t=new MutationObserver((t=>{for(let e of t)for(let t of e.addedNodes)if(t.nodeType==Node.ELEMENT_NODE&&t.matches(".maxAll.flex.hc")&&t.querySelector("img[src='/assets/map/inventory/resources/energy.png']")){if(this.popupElement=t,!this.enabled)return;this.popupElement.style.display="none"}}));window.addEventListener("load",(()=>{t.observe(document.body,{childList:!0,subtree:!0})}))}}var ht="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function ft(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function dt(t){if(t.__esModule)return t;var e=t.default;if("function"==typeof e){var n=function t(){if(this instanceof t){var n=[null];return n.push.apply(n,arguments),new(Function.bind.apply(e,n))}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach((function(e){var r=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(n,e,r.get?r:{enumerable:!0,get:function(){return t[e]}})})),n}var pt=function(){return!1},gt=function(){return!0};function yt(t){return null!=t&&"object"==typeof t&&!0===t["@@functional/placeholder"]}function vt(t){return function e(n){return 0===arguments.length||yt(n)?e:t.apply(this,arguments)}}function mt(t){return function e(n,r){switch(arguments.length){case 0:return e;case 1:return yt(n)?e:vt((function(e){return t(n,e)}));default:return yt(n)&&yt(r)?e:yt(n)?vt((function(e){return t(e,r)})):yt(r)?vt((function(e){return t(n,e)})):t(n,r)}}}var bt=mt((function(t,e){return Number(t)+Number(e)}));function wt(t,e){var n;e=e||[];var r=(t=t||[]).length,i=e.length,o=[];for(n=0;n<r;)o[o.length]=t[n],n+=1;for(n=0;n<i;)o[o.length]=e[n],n+=1;return o}function _t(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,n){return e.apply(this,arguments)};case 3:return function(t,n,r){return e.apply(this,arguments)};case 4:return function(t,n,r,i){return e.apply(this,arguments)};case 5:return function(t,n,r,i,o){return e.apply(this,arguments)};case 6:return function(t,n,r,i,o,s){return e.apply(this,arguments)};case 7:return function(t,n,r,i,o,s,a){return e.apply(this,arguments)};case 8:return function(t,n,r,i,o,s,a,u){return e.apply(this,arguments)};case 9:return function(t,n,r,i,o,s,a,u,c){return e.apply(this,arguments)};case 10:return function(t,n,r,i,o,s,a,u,c,l){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function Et(t,e,n){return function(){for(var r=[],i=0,o=t,s=0;s<e.length||i<arguments.length;){var a;s<e.length&&(!yt(e[s])||i>=arguments.length)?a=e[s]:(a=arguments[i],i+=1),r[s]=a,yt(a)||(o-=1),s+=1}return o<=0?n.apply(this,r):_t(o,Et(t,r,n))}}var kt=mt((function(t,e){return 1===t?vt(e):_t(t,Et(t,[],e))})),St=kt,At=vt((function(t){return St(t.length,(function(){var e=0,n=arguments[0],r=arguments[arguments.length-1],i=Array.prototype.slice.call(arguments,0);return i[0]=function(){var t=n.apply(this,wt(arguments,[e,r]));return e+=1,t},t.apply(this,i)}))})),xt=At;function Bt(t){return function e(n,r,i){switch(arguments.length){case 0:return e;case 1:return yt(n)?e:mt((function(e,r){return t(n,e,r)}));case 2:return yt(n)&&yt(r)?e:yt(n)?mt((function(e,n){return t(e,r,n)})):yt(r)?mt((function(e,r){return t(n,e,r)})):vt((function(e){return t(n,r,e)}));default:return yt(n)&&yt(r)&&yt(i)?e:yt(n)&&yt(r)?mt((function(e,n){return t(e,n,i)})):yt(n)&&yt(i)?mt((function(e,n){return t(e,r,n)})):yt(r)&&yt(i)?mt((function(e,r){return t(n,e,r)})):yt(n)?vt((function(e){return t(e,r,i)})):yt(r)?vt((function(e){return t(n,e,i)})):yt(i)?vt((function(e){return t(n,r,e)})):t(n,r,i)}}}var Ct=Bt((function(t,e,n){if(t>=n.length||t<-n.length)return n;var r=(t<0?n.length:0)+t,i=wt(n);return i[r]=e(n[r]),i})),Tt=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)};function It(t){return null!=t&&"function"==typeof t["@@transducer/step"]}function Mt(t,e,n){return function(){if(0===arguments.length)return n();var r=Array.prototype.slice.call(arguments,0),i=r.pop();if(!Tt(i)){for(var o=0;o<t.length;){if("function"==typeof i[t[o]])return i[t[o]].apply(i,r);o+=1}if(It(i))return e.apply(null,r)(i)}return n.apply(this,arguments)}}function Rt(t){return t&&t["@@transducer/reduced"]?t:{"@@transducer/value":t,"@@transducer/reduced":!0}}var Ut={init:function(){return this.xf["@@transducer/init"]()},result:function(t){return this.xf["@@transducer/result"](t)}},Ot=function(){function t(t,e){this.xf=e,this.f=t,this.all=!0}return t.prototype["@@transducer/init"]=Ut.init,t.prototype["@@transducer/result"]=function(t){return this.all&&(t=this.xf["@@transducer/step"](t,!0)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.f(e)||(this.all=!1,t=Rt(this.xf["@@transducer/step"](t,!1))),t},t}(),Lt=mt(Mt(["all"],mt((function(t,e){return new Ot(t,e)})),(function(t,e){for(var n=0;n<e.length;){if(!t(e[n]))return!1;n+=1}return!0}))),Pt=mt((function(t,e){return e>t?e:t}));function jt(t,e){for(var n=0,r=e.length,i=Array(r);n<r;)i[n]=t(e[n]),n+=1;return i}function Dt(t){return"[object String]"===Object.prototype.toString.call(t)}var Nt=vt((function(t){return!!Tt(t)||!!t&&("object"==typeof t&&(!Dt(t)&&(1===t.nodeType?!!t.length:0===t.length||t.length>0&&(t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1)))))})),Wt=function(){function t(t){this.f=t}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(t){return t},t.prototype["@@transducer/step"]=function(t,e){return this.f(t,e)},t}();function Ft(t){return new Wt(t)}var zt=mt((function(t,e){return _t(t.length,(function(){return t.apply(e,arguments)}))})),qt=zt;function Ht(t,e,n){for(var r=n.next();!r.done;){if((e=t["@@transducer/step"](e,r.value))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r=n.next()}return t["@@transducer/result"](e)}function Gt(t,e,n,r){return t["@@transducer/result"](n[r](qt(t["@@transducer/step"],t),e))}var Vt="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function Yt(t,e,n){if("function"==typeof t&&(t=Ft(t)),Nt(n))return function(t,e,n){for(var r=0,i=n.length;r<i;){if((e=t["@@transducer/step"](e,n[r]))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r+=1}return t["@@transducer/result"](e)}(t,e,n);if("function"==typeof n["fantasy-land/reduce"])return Gt(t,e,n,"fantasy-land/reduce");if(null!=n[Vt])return Ht(t,e,n[Vt]());if("function"==typeof n.next)return Ht(t,e,n);if("function"==typeof n.reduce)return Gt(t,e,n,"reduce");throw new TypeError("reduce: list must be array or iterable")}var $t=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=Ut.init,t.prototype["@@transducer/result"]=Ut.result,t.prototype["@@transducer/step"]=function(t,e){return this.xf["@@transducer/step"](t,this.f(e))},t}(),Jt=mt((function(t,e){return new $t(t,e)}));function Xt(t,e){return Object.prototype.hasOwnProperty.call(e,t)}var Kt=Object.prototype.toString,Qt=function(){return"[object Arguments]"===Kt.call(arguments)?function(t){return"[object Arguments]"===Kt.call(t)}:function(t){return Xt("callee",t)}}(),Zt=Qt,te=!{toString:null}.propertyIsEnumerable("toString"),ee=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],ne=function(){return arguments.propertyIsEnumerable("length")}(),re=function(t,e){for(var n=0;n<t.length;){if(t[n]===e)return!0;n+=1}return!1},ie="function"!=typeof Object.keys||ne?vt((function(t){if(Object(t)!==t)return[];var e,n,r=[],i=ne&&Zt(t);for(e in t)!Xt(e,t)||i&&"length"===e||(r[r.length]=e);if(te)for(n=ee.length-1;n>=0;)Xt(e=ee[n],t)&&!re(r,e)&&(r[r.length]=e),n-=1;return r})):vt((function(t){return Object(t)!==t?[]:Object.keys(t)})),oe=ie,se=mt(Mt(["fantasy-land/map","map"],Jt,(function(t,e){switch(Object.prototype.toString.call(e)){case"[object Function]":return St(e.length,(function(){return t.call(this,e.apply(this,arguments))}));case"[object Object]":return Yt((function(n,r){return n[r]=t(e[r]),n}),{},oe(e));default:return jt(t,e)}}))),ae=se,ue=Number.isInteger||function(t){return t<<0===t},ce=mt((function(t,e){var n=t<0?e.length+t:t;return Dt(e)?e.charAt(n):e[n]})),le=mt((function(t,e){return t.map((function(t){for(var n,r=e,i=0;i<t.length;){if(null==r)return;n=t[i],r=ue(n)?ce(n,r):r[n],i+=1}return r}))})),he=mt((function(t,e){return le([t],e)[0]})),fe=mt((function(t,e){return he([t],e)})),de=mt((function(t,e){return ae(fe(t),e)})),pe=Bt(Yt),ge=vt((function(t){return St(pe(Pt,0,de("length",t)),(function(){for(var e=0,n=t.length;e<n;){if(!t[e].apply(this,arguments))return!1;e+=1}return!0}))})),ye=ge,ve=vt((function(t){return function(){return t}})),me=mt((function(t,e){return t&&e})),be=function(){function t(t,e){this.xf=e,this.f=t,this.any=!1}return t.prototype["@@transducer/init"]=Ut.init,t.prototype["@@transducer/result"]=function(t){return this.any||(t=this.xf["@@transducer/step"](t,!1)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.f(e)&&(this.any=!0,t=Rt(this.xf["@@transducer/step"](t,!0))),t},t}(),we=mt(Mt(["any"],mt((function(t,e){return new be(t,e)})),(function(t,e){for(var n=0;n<e.length;){if(t(e[n]))return!0;n+=1}return!1}))),_e=vt((function(t){return St(pe(Pt,0,de("length",t)),(function(){for(var e=0,n=t.length;e<n;){if(t[e].apply(this,arguments))return!0;e+=1}return!1}))})),Ee=_e,ke=mt((function(t,e){return"function"==typeof e["fantasy-land/ap"]?e["fantasy-land/ap"](t):"function"==typeof t.ap?t.ap(e):"function"==typeof t?function(n){return t(n)(e(n))}:Yt((function(t,n){return wt(t,ae(n,e))}),[],t)}));function Se(t,e){for(var n=0,r=e.length-(t-1),i=new Array(r>=0?r:0);n<r;)i[n]=Array.prototype.slice.call(e,n,n+t),n+=1;return i}var Ae=function(){function t(t,e){this.xf=e,this.pos=0,this.full=!1,this.acc=new Array(t)}return t.prototype["@@transducer/init"]=Ut.init,t.prototype["@@transducer/result"]=function(t){return this.acc=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.store(e),this.full?this.xf["@@transducer/step"](t,this.getCopy()):t},t.prototype.store=function(t){this.acc[this.pos]=t,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},t.prototype.getCopy=function(){return wt(Array.prototype.slice.call(this.acc,this.pos),Array.prototype.slice.call(this.acc,0,this.pos))},t}(),xe=mt((function(t,e){return new Ae(t,e)})),Be=mt(Mt([],xe,Se)),Ce=mt((function(t,e){return wt(e,[t])})),Te=mt((function(t,e){return t.apply(this,e)})),Ie=vt((function(t){for(var e=oe(t),n=e.length,r=[],i=0;i<n;)r[i]=t[e[i]],i+=1;return r})),Me=Ie;function Re(t,e){return oe(e).reduce((function(n,r){return n[r]=t(e[r]),n}),{})}var Ue=vt((function t(e){return e=Re((function(e){return"function"==typeof e?e:t(e)}),e),St(pe(Pt,0,de("length",Me(e))),(function(){var t=arguments;return Re((function(e){return Te(e,t)}),e)}))})),Oe=Ue,Le=mt((function(t,e){return e(t)})),Pe=Bt((function(t,e,n){var r=t(e),i=t(n);return r<i?-1:r>i?1:0})),je=Bt((function(t,e,n){var r={};for(var i in n)r[i]=n[i];return r[t]=e,r})),De=je,Ne=vt((function(t){return null==t})),We=Bt((function t(e,n,r){if(0===e.length)return n;var i=e[0];if(e.length>1){var o=!Ne(r)&&Xt(i,r)?r[i]:ue(e[1])?[]:{};n=t(Array.prototype.slice.call(e,1),n,o)}if(ue(i)&&Tt(r)){var s=[].concat(r);return s[i]=n,s}return De(i,n,r)})),Fe=We,ze=mt((function(t,e){switch(t){case 0:return function(){return e.call(this)};case 1:return function(t){return e.call(this,t)};case 2:return function(t,n){return e.call(this,t,n)};case 3:return function(t,n,r){return e.call(this,t,n,r)};case 4:return function(t,n,r,i){return e.call(this,t,n,r,i)};case 5:return function(t,n,r,i,o){return e.call(this,t,n,r,i,o)};case 6:return function(t,n,r,i,o,s){return e.call(this,t,n,r,i,o,s)};case 7:return function(t,n,r,i,o,s,a){return e.call(this,t,n,r,i,o,s,a)};case 8:return function(t,n,r,i,o,s,a,u){return e.call(this,t,n,r,i,o,s,a,u)};case 9:return function(t,n,r,i,o,s,a,u,c){return e.call(this,t,n,r,i,o,s,a,u,c)};case 10:return function(t,n,r,i,o,s,a,u,c,l){return e.call(this,t,n,r,i,o,s,a,u,c,l)};default:throw new Error("First argument to nAry must be a non-negative integer no greater than ten")}})),qe=ze,He=vt((function(t){return qe(2,t)}));function Ge(t){var e=Object.prototype.toString.call(t);return"[object Function]"===e||"[object AsyncFunction]"===e||"[object GeneratorFunction]"===e||"[object AsyncGeneratorFunction]"===e}var Ve=mt((function(t,e){var n=St(t,e);return St(t,(function(){return Yt(ke,ae(n,arguments[0]),Array.prototype.slice.call(arguments,1))}))})),Ye=Ve,$e=vt((function(t){return Ye(t.length,t)})),Je=mt((function(t,e){return Ge(t)?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:$e(me)(t,e)})),Xe=Je,Ke=vt((function(t){return St(t.length,t)})),Qe=Ke((function(t){return t.apply(this,Array.prototype.slice.call(arguments,1))})),Ze=Qe;function tn(t){return function e(n){for(var r,i,o,s=[],a=0,u=n.length;a<u;){if(Nt(n[a]))for(o=0,i=(r=t?e(n[a]):n[a]).length;o<i;)s[s.length]=r[o],o+=1;else s[s.length]=n[a];a+=1}return s}}var en=function(t){var e=function(t){return{"@@transducer/init":Ut.init,"@@transducer/result":function(e){return t["@@transducer/result"](e)},"@@transducer/step":function(e,n){var r=t["@@transducer/step"](e,n);return r["@@transducer/reduced"]?{"@@transducer/value":r,"@@transducer/reduced":!0}:r}}}(t);return{"@@transducer/init":Ut.init,"@@transducer/result":function(t){return e["@@transducer/result"](t)},"@@transducer/step":function(t,n){return Nt(n)?Yt(e,t,n):Yt(e,t,[n])}}},nn=mt(Mt(["fantasy-land/chain","chain"],mt((function(t,e){return ae(t,en(e))})),(function(t,e){return"function"==typeof e?function(n){return t(e(n))(n)}:tn(!1)(ae(t,e))}))),rn=Bt((function(t,e,n){if(t>e)throw new Error("min must not be greater than max in clamp(min, max, value)");return n<t?t:n>e?e:n})),on=rn;function sn(t){return new RegExp(t.source,(t.global?"g":"")+(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.sticky?"y":"")+(t.unicode?"u":""))}var an=vt((function(t){return null===t?"Null":void 0===t?"Undefined":Object.prototype.toString.call(t).slice(8,-1)}));function un(t,e,n,r){var i=function(i){for(var o=e.length,s=0;s<o;){if(t===e[s])return n[s];s+=1}for(var a in e[s+1]=t,n[s+1]=i,t)i[a]=r?un(t[a],e,n,!0):t[a];return i};switch(an(t)){case"Object":return i({});case"Array":return i([]);case"Date":return new Date(t.valueOf());case"RegExp":return sn(t);default:return t}}var cn=vt((function(t){return null!=t&&"function"==typeof t.clone?t.clone():un(t,[],[],!0)})),ln=vt((function(t){return function(e,n){return t(e,n)?-1:t(n,e)?1:0}})),hn=vt((function(t){return!t})),fn=$e(hn);function dn(t,e){return function(){return e.call(this,t.apply(this,arguments))}}function pn(t,e){return function(){var n=arguments.length;if(0===n)return e();var r=arguments[n-1];return Tt(r)||"function"!=typeof r[t]?e.apply(this,arguments):r[t].apply(r,Array.prototype.slice.call(arguments,0,n-1))}}var gn=Bt(pn("slice",(function(t,e,n){return Array.prototype.slice.call(n,t,e)}))),yn=vt(pn("tail",gn(1,1/0)));function vn(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return _t(arguments[0].length,pe(dn,arguments[0],yn(arguments)))}var mn=vt((function(t){return Dt(t)?t.split("").reverse().join(""):Array.prototype.slice.call(t,0).reverse()}));function bn(){if(0===arguments.length)throw new Error("compose requires at least one argument");return vn.apply(this,mn(arguments))}function wn(){if(0===arguments.length)throw new Error("composeK requires at least one argument");var t=Array.prototype.slice.call(arguments),e=t.pop();return bn(bn.apply(this,ae(nn,t)),e)}function _n(t,e){return function(){var n=this;return t.apply(n,arguments).then((function(t){return e.call(n,t)}))}}function En(){if(0===arguments.length)throw new Error("pipeP requires at least one argument");return _t(arguments[0].length,pe(_n,arguments[0],yn(arguments)))}var kn=ce(0);function Sn(t){return t}var An=vt(Sn),xn=mt((function(t,e){if(e.length<=0)return An;var n=kn(e),r=yn(e);return _t(n.length,(function(){return Yt((function(e,n){return t.call(this,n,e)}),n.apply(this,arguments),r)}))})),Bn=xn,Cn=mt((function(t,e){return Bn.apply(this,[t,mn(e)])}));function Tn(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function In(t,e,n){for(var r=0,i=n.length;r<i;){if(t(e,n[r]))return!0;r+=1}return!1}var Mn="function"==typeof Object.is?Object.is:function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e};function Rn(t,e,n,r){var i=Tn(t);function o(t,e){return Un(t,e,n.slice(),r.slice())}return!In((function(t,e){return!In(o,e,t)}),Tn(e),i)}function Un(t,e,n,r){if(Mn(t,e))return!0;var i=an(t);if(i!==an(e))return!1;if(null==t||null==e)return!1;if("function"==typeof t["fantasy-land/equals"]||"function"==typeof e["fantasy-land/equals"])return"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e)&&"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t);if("function"==typeof t.equals||"function"==typeof e.equals)return"function"==typeof t.equals&&t.equals(e)&&"function"==typeof e.equals&&e.equals(t);switch(i){case"Arguments":case"Array":case"Object":if("function"==typeof t.constructor&&"Promise"===function(t){var e=String(t).match(/^function (\w*)/);return null==e?"":e[1]}(t.constructor))return t===e;break;case"Boolean":case"Number":case"String":if(typeof t!=typeof e||!Mn(t.valueOf(),e.valueOf()))return!1;break;case"Date":if(!Mn(t.valueOf(),e.valueOf()))return!1;break;case"Error":return t.name===e.name&&t.message===e.message;case"RegExp":if(t.source!==e.source||t.global!==e.global||t.ignoreCase!==e.ignoreCase||t.multiline!==e.multiline||t.sticky!==e.sticky||t.unicode!==e.unicode)return!1}for(var o=n.length-1;o>=0;){if(n[o]===t)return r[o]===e;o-=1}switch(i){case"Map":return t.size===e.size&&Rn(t.entries(),e.entries(),n.concat([t]),r.concat([e]));case"Set":return t.size===e.size&&Rn(t.values(),e.values(),n.concat([t]),r.concat([e]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var s=oe(t);if(s.length!==oe(e).length)return!1;var a=n.concat([t]),u=r.concat([e]);for(o=s.length-1;o>=0;){var c=s[o];if(!Xt(c,e)||!Un(e[c],t[c],a,u))return!1;o-=1}return!0}var On=mt((function(t,e){return Un(t,e,[],[])}));function Ln(t,e,n){var r,i;if("function"==typeof t.indexOf)switch(typeof e){case"number":if(0===e){for(r=1/e;n<t.length;){if(0===(i=t[n])&&1/i===r)return n;n+=1}return-1}if(e!=e){for(;n<t.length;){if("number"==typeof(i=t[n])&&i!=i)return n;n+=1}return-1}return t.indexOf(e,n);case"string":case"boolean":case"function":case"undefined":return t.indexOf(e,n);case"object":if(null===e)return t.indexOf(e,n)}for(;n<t.length;){if(On(t[n],e))return n;n+=1}return-1}function Pn(t,e){return Ln(e,t,0)>=0}function jn(t){return'"'+t.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0").replace(/"/g,'\\"')+'"'}var Dn=function(t){return(t<10?"0":"")+t},Nn="function"==typeof Date.prototype.toISOString?function(t){return t.toISOString()}:function(t){return t.getUTCFullYear()+"-"+Dn(t.getUTCMonth()+1)+"-"+Dn(t.getUTCDate())+"T"+Dn(t.getUTCHours())+":"+Dn(t.getUTCMinutes())+":"+Dn(t.getUTCSeconds())+"."+(t.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};function Wn(t){return function(){return!t.apply(this,arguments)}}function Fn(t,e){for(var n=0,r=e.length,i=[];n<r;)t(e[n])&&(i[i.length]=e[n]),n+=1;return i}function zn(t){return"[object Object]"===Object.prototype.toString.call(t)}var qn=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=Ut.init,t.prototype["@@transducer/result"]=Ut.result,t.prototype["@@transducer/step"]=function(t,e){return this.f(e)?this.xf["@@transducer/step"](t,e):t},t}(),Hn=mt(Mt(["filter"],mt((function(t,e){return new qn(t,e)})),(function(t,e){return zn(e)?Yt((function(n,r){return t(e[r])&&(n[r]=e[r]),n}),{},oe(e)):Fn(t,e)}))),Gn=Hn,Vn=mt((function(t,e){return Gn(Wn(t),e)}));function Yn(t,e){var n=function(n){var r=e.concat([t]);return Pn(n,r)?"<Circular>":Yn(n,r)},r=function(t,e){return jt((function(e){return jn(e)+": "+n(t[e])}),e.slice().sort())};switch(Object.prototype.toString.call(t)){case"[object Arguments]":return"(function() { return arguments; }("+jt(n,t).join(", ")+"))";case"[object Array]":return"["+jt(n,t).concat(r(t,Vn((function(t){return/^\d+$/.test(t)}),oe(t)))).join(", ")+"]";case"[object Boolean]":return"object"==typeof t?"new Boolean("+n(t.valueOf())+")":t.toString();case"[object Date]":return"new Date("+(isNaN(t.valueOf())?n(NaN):jn(Nn(t)))+")";case"[object Null]":return"null";case"[object Number]":return"object"==typeof t?"new Number("+n(t.valueOf())+")":1/t==-1/0?"-0":t.toString(10);case"[object String]":return"object"==typeof t?"new String("+n(t.valueOf())+")":jn(t);case"[object Undefined]":return"undefined";default:if("function"==typeof t.toString){var i=t.toString();if("[object Object]"!==i)return i}return"{"+r(t,oe(t)).join(", ")+"}"}}var $n=vt((function(t){return Yn(t,[])})),Jn=mt((function(t,e){if(Tt(t)){if(Tt(e))return t.concat(e);throw new TypeError($n(e)+" is not an array")}if(Dt(t)){if(Dt(e))return t+e;throw new TypeError($n(e)+" is not a string")}if(null!=t&&Ge(t["fantasy-land/concat"]))return t["fantasy-land/concat"](e);if(null!=t&&Ge(t.concat))return t.concat(e);throw new TypeError($n(t)+' does not have a method named "concat" or "fantasy-land/concat"')})),Xn=vt((function(t){var e=pe(Pt,0,ae((function(t){return t[0].length}),t));return _t(e,(function(){for(var e=0;e<t.length;){if(t[e][0].apply(this,arguments))return t[e][1].apply(this,arguments);e+=1}}))})),Kn=Xn,Qn=mt((function(t,e){if(t>10)throw new Error("Constructor with greater than ten arguments");return 0===t?function(){return new e}:Ke(qe(t,(function(t,n,r,i,o,s,a,u,c,l){switch(arguments.length){case 1:return new e(t);case 2:return new e(t,n);case 3:return new e(t,n,r);case 4:return new e(t,n,r,i);case 5:return new e(t,n,r,i,o);case 6:return new e(t,n,r,i,o,s);case 7:return new e(t,n,r,i,o,s,a);case 8:return new e(t,n,r,i,o,s,a,u);case 9:return new e(t,n,r,i,o,s,a,u,c);case 10:return new e(t,n,r,i,o,s,a,u,c,l)}})))})),Zn=Qn,tr=vt((function(t){return Zn(t.length,t)})),er=mt(Pn),nr=mt((function(t,e){return St(pe(Pt,0,de("length",e)),(function(){var n=arguments,r=this;return t.apply(r,jt((function(t){return t.apply(r,n)}),e))}))})),rr=nr,ir=function(){function t(t,e,n,r){this.valueFn=t,this.valueAcc=e,this.keyFn=n,this.xf=r,this.inputs={}}return t.prototype["@@transducer/init"]=Ut.init,t.prototype["@@transducer/result"]=function(t){var e;for(e in this.inputs)if(Xt(e,this.inputs)&&(t=this.xf["@@transducer/step"](t,this.inputs[e]))["@@transducer/reduced"]){t=t["@@transducer/value"];break}return this.inputs=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){var n=this.keyFn(e);return this.inputs[n]=this.inputs[n]||[n,this.valueAcc],this.inputs[n][1]=this.valueFn(this.inputs[n][1],e),t},t}(),or=Et(4,[],Mt([],Et(4,[],(function(t,e,n,r){return new ir(t,e,n,r)})),(function(t,e,n,r){return Yt((function(r,i){var o=n(i);return r[o]=t(Xt(o,r)?r[o]:un(e,[],[],!1),i),r}),{},r)}))),sr=or,ar=sr((function(t,e){return t+1}),0),ur=bt(-1),cr=mt((function(t,e){return null==e||e!=e?t:e})),lr=cr,hr=Bt((function(t,e,n){var r=t(e),i=t(n);return r>i?-1:r<i?1:0}));function fr(t,e,n){var r,i=typeof t;switch(i){case"string":case"number":return 0===t&&1/t==-1/0?!!n._items["-0"]||(e&&(n._items["-0"]=!0),!1):null!==n._nativeSet?e?(r=n._nativeSet.size,n._nativeSet.add(t),n._nativeSet.size===r):n._nativeSet.has(t):i in n._items?t in n._items[i]||(e&&(n._items[i][t]=!0),!1):(e&&(n._items[i]={},n._items[i][t]=!0),!1);case"boolean":if(i in n._items){var o=t?1:0;return!!n._items[i][o]||(e&&(n._items[i][o]=!0),!1)}return e&&(n._items[i]=t?[!1,!0]:[!0,!1]),!1;case"function":return null!==n._nativeSet?e?(r=n._nativeSet.size,n._nativeSet.add(t),n._nativeSet.size===r):n._nativeSet.has(t):i in n._items?!!Pn(t,n._items[i])||(e&&n._items[i].push(t),!1):(e&&(n._items[i]=[t]),!1);case"undefined":return!!n._items[i]||(e&&(n._items[i]=!0),!1);case"object":if(null===t)return!!n._items.null||(e&&(n._items.null=!0),!1);default:return(i=Object.prototype.toString.call(t))in n._items?!!Pn(t,n._items[i])||(e&&n._items[i].push(t),!1):(e&&(n._items[i]=[t]),!1)}}var dr=function(){function t(){this._nativeSet="function"==typeof Set?new Set:null,this._items={}}return t.prototype.add=function(t){return!fr(t,!0,this)},t.prototype.has=function(t){return fr(t,!1,this)},t}(),pr=mt((function(t,e){for(var n=[],r=0,i=t.length,o=e.length,s=new dr,a=0;a<o;a+=1)s.add(e[a]);for(;r<i;)s.add(t[r])&&(n[n.length]=t[r]),r+=1;return n})),gr=Bt((function(t,e,n){for(var r=[],i=0,o=e.length;i<o;)In(t,e[i],n)||In(t,e[i],r)||r.push(e[i]),i+=1;return r})),yr=mt((function(t,e){var n={};for(var r in e)n[r]=e[r];return delete n[t],n})),vr=yr,mr=Bt((function(t,e,n){var r=Array.prototype.slice.call(n,0);return r.splice(t,e),r})),br=Bt((function(t,e,n){return Ct(t,ve(e),n)})),wr=mt((function t(e,n){switch(e.length){case 0:return n;case 1:return ue(e[0])&&Tt(n)?mr(e[0],1,n):vr(e[0],n);default:var r=e[0],i=Array.prototype.slice.call(e,1);return null==n[r]?n:ue(r)&&Tt(n)?br(r,t(i,n[r]),n):De(r,t(i,n[r]),n)}})),_r=wr,Er=mt((function(t,e){return t/e})),kr=function(){function t(t,e){this.xf=e,this.n=t}return t.prototype["@@transducer/init"]=Ut.init,t.prototype["@@transducer/result"]=Ut.result,t.prototype["@@transducer/step"]=function(t,e){return this.n>0?(this.n-=1,t):this.xf["@@transducer/step"](t,e)},t}(),Sr=mt((function(t,e){return new kr(t,e)})),Ar=mt(Mt(["drop"],Sr,(function(t,e){return gn(Math.max(0,t),1/0,e)}))),xr=Ar,Br=function(){function t(t,e){this.xf=e,this.n=t,this.i=0}return t.prototype["@@transducer/init"]=Ut.init,t.prototype["@@transducer/result"]=Ut.result,t.prototype["@@transducer/step"]=function(t,e){this.i+=1;var n=0===this.n?t:this.xf["@@transducer/step"](t,e);return this.n>=0&&this.i>=this.n?Rt(n):n},t}(),Cr=mt((function(t,e){return new Br(t,e)})),Tr=mt(Mt(["take"],Cr,(function(t,e){return gn(0,t<0?1/0:t,e)}))),Ir=Tr;function Mr(t,e){return Ir(t<e.length?e.length-t:0,e)}var Rr=function(){function t(t,e){this.xf=e,this.pos=0,this.full=!1,this.acc=new Array(t)}return t.prototype["@@transducer/init"]=Ut.init,t.prototype["@@transducer/result"]=function(t){return this.acc=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.full&&(t=this.xf["@@transducer/step"](t,this.acc[this.pos])),this.store(e),t},t.prototype.store=function(t){this.acc[this.pos]=t,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},t}(),Ur=mt((function(t,e){return new Rr(t,e)})),Or=mt(Mt([],Ur,Mr));function Lr(t,e){for(var n=e.length-1;n>=0&&t(e[n]);)n-=1;return gn(0,n+1,e)}var Pr=function(){function t(t,e){this.f=t,this.retained=[],this.xf=e}return t.prototype["@@transducer/init"]=Ut.init,t.prototype["@@transducer/result"]=function(t){return this.retained=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.f(e)?this.retain(t,e):this.flush(t,e)},t.prototype.flush=function(t,e){return t=Yt(this.xf["@@transducer/step"],t,this.retained),this.retained=[],this.xf["@@transducer/step"](t,e)},t.prototype.retain=function(t,e){return this.retained.push(e),t},t}(),jr=mt(Mt([],mt((function(t,e){return new Pr(t,e)})),Lr)),Dr=function(){function t(t,e){this.xf=e,this.pred=t,this.lastValue=void 0,this.seenFirstValue=!1}return t.prototype["@@transducer/init"]=Ut.init,t.prototype["@@transducer/result"]=Ut.result,t.prototype["@@transducer/step"]=function(t,e){var n=!1;return this.seenFirstValue?this.pred(this.lastValue,e)&&(n=!0):this.seenFirstValue=!0,this.lastValue=e,n?t:this.xf["@@transducer/step"](t,e)},t}(),Nr=mt((function(t,e){return new Dr(t,e)})),Wr=ce(-1),Fr=mt(Mt([],Nr,(function(t,e){var n=[],r=1,i=e.length;if(0!==i)for(n[0]=e[0];r<i;)t(Wr(n),e[r])||(n[n.length]=e[r]),r+=1;return n}))),zr=vt(Mt([],Nr(On),Fr(On))),qr=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=Ut.init,t.prototype["@@transducer/result"]=Ut.result,t.prototype["@@transducer/step"]=function(t,e){if(this.f){if(this.f(e))return t;this.f=null}return this.xf["@@transducer/step"](t,e)},t}(),Hr=mt(Mt(["dropWhile"],mt((function(t,e){return new qr(t,e)})),(function(t,e){for(var n=0,r=e.length;n<r&&t(e[n]);)n+=1;return gn(n,1/0,e)}))),Gr=mt((function(t,e){return t||e})),Vr=mt((function(t,e){return Ge(t)?function(){return t.apply(this,arguments)||e.apply(this,arguments)}:$e(Gr)(t,e)})),Yr=Vr,$r=vt((function(t){return null!=t&&"function"==typeof t["fantasy-land/empty"]?t["fantasy-land/empty"]():null!=t&&null!=t.constructor&&"function"==typeof t.constructor["fantasy-land/empty"]?t.constructor["fantasy-land/empty"]():null!=t&&"function"==typeof t.empty?t.empty():null!=t&&null!=t.constructor&&"function"==typeof t.constructor.empty?t.constructor.empty():Tt(t)?[]:Dt(t)?"":zn(t)?{}:Zt(t)?function(){return arguments}():void 0})),Jr=$r,Xr=mt((function(t,e){return xr(t>=0?e.length-t:0,e)})),Kr=Xr,Qr=mt((function(t,e){return On(Kr(t.length,e),t)})),Zr=Bt((function(t,e,n){return On(t(e),t(n))})),ti=Bt((function(t,e,n){return On(e[t],n[t])})),ei=ti,ni=mt((function t(e,n){var r,i,o,s=n instanceof Array?[]:{};for(i in n)o=typeof(r=e[i]),s[i]="function"===o?r(n[i]):r&&"object"===o?t(r,n[i]):n[i];return s})),ri=ni,ii=function(){function t(t,e){this.xf=e,this.f=t,this.found=!1}return t.prototype["@@transducer/init"]=Ut.init,t.prototype["@@transducer/result"]=function(t){return this.found||(t=this.xf["@@transducer/step"](t,void 0)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.f(e)&&(this.found=!0,t=Rt(this.xf["@@transducer/step"](t,e))),t},t}(),oi=mt(Mt(["find"],mt((function(t,e){return new ii(t,e)})),(function(t,e){for(var n=0,r=e.length;n<r;){if(t(e[n]))return e[n];n+=1}}))),si=function(){function t(t,e){this.xf=e,this.f=t,this.idx=-1,this.found=!1}return t.prototype["@@transducer/init"]=Ut.init,t.prototype["@@transducer/result"]=function(t){return this.found||(t=this.xf["@@transducer/step"](t,-1)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.idx+=1,this.f(e)&&(this.found=!0,t=Rt(this.xf["@@transducer/step"](t,this.idx))),t},t}(),ai=mt(Mt([],mt((function(t,e){return new si(t,e)})),(function(t,e){for(var n=0,r=e.length;n<r;){if(t(e[n]))return n;n+=1}return-1}))),ui=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=Ut.init,t.prototype["@@transducer/result"]=function(t){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](t,this.last))},t.prototype["@@transducer/step"]=function(t,e){return this.f(e)&&(this.last=e),t},t}(),ci=mt(Mt([],mt((function(t,e){return new ui(t,e)})),(function(t,e){for(var n=e.length-1;n>=0;){if(t(e[n]))return e[n];n-=1}}))),li=function(){function t(t,e){this.xf=e,this.f=t,this.idx=-1,this.lastIdx=-1}return t.prototype["@@transducer/init"]=Ut.init,t.prototype["@@transducer/result"]=function(t){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](t,this.lastIdx))},t.prototype["@@transducer/step"]=function(t,e){return this.idx+=1,this.f(e)&&(this.lastIdx=this.idx),t},t}(),hi=mt(Mt([],mt((function(t,e){return new li(t,e)})),(function(t,e){for(var n=e.length-1;n>=0;){if(t(e[n]))return n;n-=1}return-1}))),fi=vt(tn(!0)),di=vt((function(t){return St(t.length,(function(e,n){var r=Array.prototype.slice.call(arguments,0);return r[0]=n,r[1]=e,t.apply(this,r)}))})),pi=di,gi=mt(pn("forEach",(function(t,e){for(var n=e.length,r=0;r<n;)t(e[r]),r+=1;return e}))),yi=mt((function(t,e){for(var n=oe(e),r=0;r<n.length;){var i=n[r];t(e[i],i,e),r+=1}return e})),vi=yi,mi=vt((function(t){for(var e={},n=0;n<t.length;)e[t[n][0]]=t[n][1],n+=1;return e})),bi=mt(pn("groupBy",sr((function(t,e){return null==t&&(t=[]),t.push(e),t}),null))),wi=mt((function(t,e){for(var n=[],r=0,i=e.length;r<i;){for(var o=r+1;o<i&&t(e[o-1],e[o]);)o+=1;n.push(e.slice(r,o)),r=o}return n})),_i=mt((function(t,e){return t>e})),Ei=mt((function(t,e){return t>=e})),ki=mt((function(t,e){if(0===t.length||Ne(e))return!1;for(var n=e,r=0;r<t.length;){if(Ne(n)||!Xt(t[r],n))return!1;n=n[t[r]],r+=1}return!0})),Si=mt((function(t,e){return ki([t],e)})),Ai=Si,xi=mt((function(t,e){return t in e})),Bi=xi,Ci=mt(Mn),Ti=Bt((function(t,e,n){return St(Math.max(t.length,e.length,n.length),(function(){return t.apply(this,arguments)?e.apply(this,arguments):n.apply(this,arguments)}))})),Ii=Ti,Mi=bt(1),Ri=mt(Pn),Ui=sr((function(t,e){return e}),null),Oi=mt((function(t,e){return"function"!=typeof e.indexOf||Tt(e)?Ln(e,t,0):e.indexOf(t)})),Li=gn(0,-1),Pi=Bt((function(t,e,n){return Fn((function(e){return In(t,e,n)}),e)})),ji=Bt((function(t,e,n){t=t<n.length&&t>=0?t:n.length;var r=Array.prototype.slice.call(n,0);return r.splice(t,0,e),r})),Di=Bt((function(t,e,n){return t=t<n.length&&t>=0?t:n.length,[].concat(Array.prototype.slice.call(n,0,t),e,Array.prototype.slice.call(n,t))})),Ni=mt((function(t,e){for(var n,r,i=new dr,o=[],s=0;s<e.length;)n=t(r=e[s]),i.add(n)&&o.push(r),s+=1;return o})),Wi=Ni,Fi=Wi(An),zi=mt((function(t,e){var n,r;return t.length>e.length?(n=t,r=e):(n=e,r=t),Fi(Fn(pi(Pn)(n),r))})),qi=mt(pn("intersperse",(function(t,e){for(var n=[],r=0,i=e.length;r<i;)r===i-1?n.push(e[r]):n.push(e[r],t),r+=1;return n}))),Hi=qi;var Gi="function"==typeof Object.assign?Object.assign:function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1,r=arguments.length;n<r;){var i=arguments[n];if(null!=i)for(var o in i)Xt(o,i)&&(e[o]=i[o]);n+=1}return e},Vi=mt((function(t,e){var n={};return n[t]=e,n})),Yi=Vi,$i={"@@transducer/init":Array,"@@transducer/step":function(t,e){return t.push(e),t},"@@transducer/result":Sn},Ji={"@@transducer/init":String,"@@transducer/step":function(t,e){return t+e},"@@transducer/result":Sn},Xi={"@@transducer/init":Object,"@@transducer/step":function(t,e){return Gi(t,Nt(e)?Yi(e[0],e[1]):e)},"@@transducer/result":Sn};var Ki=Bt((function(t,e,n){return It(t)?Yt(e(t),t["@@transducer/init"](),n):Yt(e(function(t){if(It(t))return t;if(Nt(t))return $i;if("string"==typeof t)return Ji;if("object"==typeof t)return Xi;throw new Error("Cannot create transformer for "+t)}(t)),un(t,[],[],!1),n)})),Qi=vt((function(t){for(var e=oe(t),n=e.length,r=0,i={};r<n;){var o=e[r],s=t[o],a=Xt(s,i)?i[s]:i[s]=[];a[a.length]=o,r+=1}return i})),Zi=Qi,to=vt((function(t){for(var e=oe(t),n=e.length,r=0,i={};r<n;){var o=e[r];i[t[o]]=o,r+=1}return i})),eo=to,no=mt((function(t,e){return St(t+1,(function(){var n=arguments[t];if(null!=n&&Ge(n[e]))return n[e].apply(n,Array.prototype.slice.call(arguments,0,t));throw new TypeError($n(n)+' does not have a method named "'+e+'"')}))})),ro=no,io=mt((function(t,e){return null!=e&&e.constructor===t||e instanceof t})),oo=vt((function(t){return null!=t&&On(t,Jr(t))})),so=ro(1,"join"),ao=vt((function(t){return rr((function(){return Array.prototype.slice.call(arguments,0)}),t)})),uo=ao,co=vt((function(t){var e,n=[];for(e in t)n[n.length]=e;return n})),lo=co,ho=mt((function(t,e){if("function"!=typeof e.lastIndexOf||Tt(e)){for(var n=e.length-1;n>=0;){if(On(e[n],t))return n;n-=1}return-1}return e.lastIndexOf(t)}));function fo(t){return"[object Number]"===Object.prototype.toString.call(t)}var po=vt((function(t){return null!=t&&fo(t.length)?t.length:NaN})),go=mt((function(t,e){return function(n){return function(r){return ae((function(t){return e(t,r)}),n(t(r)))}}})),yo=vt((function(t){return go(ce(t),br(t))})),vo=yo,mo=vt((function(t){return go(he(t),Fe(t))})),bo=vt((function(t){return go(fe(t),De(t))})),wo=mt((function(t,e){return t<e})),_o=mt((function(t,e){return t<=e})),Eo=Bt((function(t,e,n){for(var r=0,i=n.length,o=[],s=[e];r<i;)s=t(s[0],n[r]),o[r]=s[1],r+=1;return[s[0],o]})),ko=Bt((function(t,e,n){for(var r=n.length-1,i=[],o=[e];r>=0;)o=t(o[0],n[r]),i[r]=o[1],r-=1;return[o[0],i]})),So=mt((function(t,e){return Yt((function(n,r){return n[r]=t(e[r],r,e),n}),{},oe(e))})),Ao=So,xo=mt((function(t,e){return e.match(t)||[]})),Bo=mt((function(t,e){return ue(t)?!ue(e)||e<1?NaN:(t%e+e)%e:NaN})),Co=Bt((function(t,e,n){return t(n)>t(e)?n:e})),To=pe(bt,0),Io=vt((function(t){return To(t)/t.length})),Mo=vt((function(t){var e=t.length;if(0===e)return NaN;var n=2-e%2,r=(e-n)/2;return Io(Array.prototype.slice.call(t,0).sort((function(t,e){return t<e?-1:t>e?1:0})).slice(r,r+n))})),Ro=mt((function(t,e){var n={};return _t(e.length,(function(){var r=t.apply(this,arguments);return Xt(r,n)||(n[r]=e.apply(this,arguments)),n[r]}))})),Uo=Ro,Oo=mt((function(t,e){return Gi({},t,e)})),Lo=vt((function(t){return Gi.apply(null,[{}].concat(t))})),Po=Bt((function(t,e,n){var r,i={};for(r in e)Xt(r,e)&&(i[r]=Xt(r,n)?t(r,e[r],n[r]):e[r]);for(r in n)Xt(r,n)&&!Xt(r,i)&&(i[r]=n[r]);return i})),jo=Bt((function t(e,n,r){return Po((function(n,r,i){return zn(r)&&zn(i)?t(e,r,i):e(n,r,i)}),n,r)})),Do=mt((function(t,e){return jo((function(t,e,n){return e}),t,e)})),No=mt((function(t,e){return jo((function(t,e,n){return n}),t,e)})),Wo=Bt((function(t,e,n){return jo((function(e,n,r){return t(n,r)}),e,n)})),Fo=mt((function(t,e){return Gi({},e,t)})),zo=mt((function(t,e){return Gi({},t,e)})),qo=Bt((function(t,e,n){return Po((function(e,n,r){return t(n,r)}),e,n)})),Ho=mt((function(t,e){return e<t?e:t})),Go=Bt((function(t,e,n){return t(n)<t(e)?n:e})),Vo=mt((function(t,e){return t%e})),Yo=Bt((function(t,e,n){var r=n.length,i=n.slice(),o=t<0?r+t:t,s=e<0?r+e:e,a=i.splice(o,1);return o<0||o>=n.length||s<0||s>=n.length?n:[].concat(i.slice(0,s)).concat(a).concat(i.slice(s,n.length))})),$o=Yo,Jo=mt((function(t,e){return t*e})),Xo=vt((function(t){return-t})),Ko=Xo,Qo=mt((function(t,e){return Lt(Wn(t),e)})),Zo=vt((function(t){return St(t<0?1:t+1,(function(){return ce(t,arguments)}))})),ts=Zo,es=Bt((function(t,e,n){return t(e(n))}));function ns(t){return[t]}var rs=vt(ns),is=mt((function(t,e){for(var n={},r={},i=0,o=t.length;i<o;)r[t[i]]=1,i+=1;for(var s in e)r.hasOwnProperty(s)||(n[s]=e[s]);return n})),os=is,ss=vt((function(t){var e,n=!1;return _t(t.length,(function(){return n?e:(n=!0,e=t.apply(this,arguments))}))})),as=ss;function us(t,e){if(null==e||!Ge(e.then))throw new TypeError("`"+t+"` expected a Promise, received "+Yn(e,[]))}var cs=mt((function(t,e){return us("otherwise",e),e.then(null,t)})),ls=function(t){return{value:t,map:function(e){return ls(e(t))}}},hs=Bt((function(t,e,n){return t((function(t){return ls(e(t))}))(n).value})),fs=hs,ds=mt((function(t,e){return[t,e]}));function ps(t){return mt((function(e,n){return _t(Math.max(0,e.length-n.length),(function(){return e.apply(this,t(n,arguments))}))}))}var gs=ps(wt),ys=ps(pi(wt)),vs=uo([Gn,Vn]),ms=Bt((function(t,e,n){return On(he(t,n),e)})),bs=Bt((function(t,e,n){return lr(t,he(e,n))})),ws=Bt((function(t,e,n){return t(he(e,n))})),_s=mt((function(t,e){for(var n={},r=0;r<t.length;)t[r]in e&&(n[t[r]]=e[t[r]]),r+=1;return n})),Es=mt((function(t,e){for(var n={},r=0,i=t.length;r<i;){var o=t[r];n[o]=e[o],r+=1}return n})),ks=mt((function(t,e){var n={};for(var r in e)t(e[r],r,e)&&(n[r]=e[r]);return n})),Ss=ks;var As=mt((function(t,e){return wt([t],e)})),xs=pe(Jo,1),Bs=mt((function(t,e){return St(e.length,(function(){for(var n=[],r=0;r<e.length;)n.push(e[r].call(this,arguments[r])),r+=1;return t.apply(this,n.concat(Array.prototype.slice.call(arguments,e.length)))}))})),Cs=Bs,Ts=Cs(jt,[Es,An]),Is=Bt((function(t,e,n){return On(e,n[t])})),Ms=Bt((function(t,e,n){return io(t,n[e])})),Rs=Ms,Us=Bt((function(t,e,n){return bs(t,[e],n)})),Os=Bt((function(t,e,n){return t(n[e])})),Ls=mt((function(t,e){return t.map((function(t){return he([t],e)}))})),Ps=mt((function(t,e){if(!fo(t)||!fo(e))throw new TypeError("Both arguments to range must be numbers");for(var n=[],r=t;r<e;)n.push(r),r+=1;return n})),js=Ps,Ds=Bt((function(t,e,n){for(var r=n.length-1;r>=0;)e=t(n[r],e),r-=1;return e})),Ns=Et(4,[],(function(t,e,n,r){return Yt((function(n,r){return t(n,r)?e(n,r):Rt(n)}),n,r)})),Ws=vt(Rt),Fs=mt((function(t,e){var n,r=Number(e),i=0;if(r<0||isNaN(r))throw new RangeError("n must be a non-negative number");for(n=new Array(r);i<r;)n[i]=t(i),i+=1;return n})),zs=Fs,qs=mt((function(t,e){return zs(ve(t),e)})),Hs=qs,Gs=Bt((function(t,e,n){return n.replace(t,e)})),Vs=Bt((function(t,e,n){for(var r=0,i=n.length,o=[e];r<i;)e=t(e,n[r]),o[r+1]=e,r+=1;return o})),Ys=mt((function(t,e){return"function"==typeof e.sequence?e.sequence(t):Ds((function(t,e){return ke(ae(As,t),e)}),t([]),e)})),$s=Ys,Js=Bt((function(t,e,n){return fs(t,ve(e),n)})),Xs=Js,Ks=mt((function(t,e){return Array.prototype.slice.call(e,0).sort(t)})),Qs=Ks,Zs=mt((function(t,e){return Array.prototype.slice.call(e,0).sort((function(e,n){var r=t(e),i=t(n);return r<i?-1:r>i?1:0}))})),ta=mt((function(t,e){return Array.prototype.slice.call(e,0).sort((function(e,n){for(var r=0,i=0;0===r&&i<t.length;)r=t[i](e,n),i+=1;return r}))})),ea=ro(1,"split"),na=mt((function(t,e){return[gn(0,t,e),gn(t,po(e),e)]})),ra=mt((function(t,e){if(t<=0)throw new Error("First argument to splitEvery must be a positive integer");for(var n=[],r=0;r<e.length;)n.push(gn(r,r+=t,e));return n})),ia=ra,oa=mt((function(t,e){for(var n=0,r=e.length,i=[];n<r&&!t(e[n]);)i.push(e[n]),n+=1;return[i,Array.prototype.slice.call(e,n)]})),sa=mt((function(t,e){return On(Ir(t.length,e),t)})),aa=mt((function(t,e){return Number(t)-Number(e)})),ua=mt((function(t,e){return Jn(pr(t,e),pr(e,t))})),ca=Bt((function(t,e,n){return Jn(gr(t,e,n),gr(t,n,e))})),la=mt((function(t,e){for(var n=e.length-1;n>=0&&t(e[n]);)n-=1;return gn(n+1,1/0,e)})),ha=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=Ut.init,t.prototype["@@transducer/result"]=Ut.result,t.prototype["@@transducer/step"]=function(t,e){return this.f(e)?this.xf["@@transducer/step"](t,e):Rt(t)},t}(),fa=mt(Mt(["takeWhile"],mt((function(t,e){return new ha(t,e)})),(function(t,e){for(var n=0,r=e.length;n<r&&t(e[n]);)n+=1;return gn(0,n,e)}))),da=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=Ut.init,t.prototype["@@transducer/result"]=Ut.result,t.prototype["@@transducer/step"]=function(t,e){return this.f(e),this.xf["@@transducer/step"](t,e)},t}(),pa=mt(Mt([],mt((function(t,e){return new da(t,e)})),(function(t,e){return t(e),e})));var ga=mt((function(t,e){if(n=t,"[object RegExp]"!==Object.prototype.toString.call(n))throw new TypeError("test requires a value of type RegExp as its first argument; received "+$n(t));var n;return sn(t).test(e)})),ya=mt((function(t,e){return us("andThen",e),e.then(t)})),va=ro(0,"toLowerCase"),ma=vt((function(t){var e=[];for(var n in t)Xt(n,t)&&(e[e.length]=[n,t[n]]);return e})),ba=ma,wa=vt((function(t){var e=[];for(var n in t)e[e.length]=[n,t[n]];return e})),_a=wa,Ea=ro(0,"toUpperCase"),ka=St(4,(function(t,e,n,r){return Yt(t("function"==typeof e?Ft(e):e),n,r)})),Sa=vt((function(t){for(var e=0,n=[];e<t.length;){for(var r=t[e],i=0;i<r.length;)void 0===n[i]&&(n[i]=[]),n[i].push(r[i]),i+=1;e+=1}return n})),Aa=Bt((function(t,e,n){return"function"==typeof n["fantasy-land/traverse"]?n["fantasy-land/traverse"](e,t):$s(t,ae(e,n))})),xa=Aa,Ba="\t\n\v\f\r \u2028\u2029\ufeff",Ca=vt("function"==typeof String.prototype.trim&&!Ba.trim()&&"".trim()?function(t){return t.trim()}:function(t){var e=new RegExp("^["+Ba+"]["+Ba+"]*"),n=new RegExp("["+Ba+"]["+Ba+"]*$");return t.replace(e,"").replace(n,"")}),Ta=mt((function(t,e){return _t(t.length,(function(){try{return t.apply(this,arguments)}catch(t){return e.apply(this,wt([t],arguments))}}))})),Ia=Ta,Ma=vt((function(t){return function(){return t(Array.prototype.slice.call(arguments,0))}})),Ra=Ma,Ua=vt((function(t){return qe(1,t)})),Oa=mt((function(t,e){return St(t,(function(){for(var n,r=1,i=e,o=0;r<=t&&"function"==typeof i;)n=r===t?arguments.length:o+i.length,i=i.apply(this,Array.prototype.slice.call(arguments,o,n)),r+=1,o=n;return i}))})),La=Oa,Pa=mt((function(t,e){for(var n=t(e),r=[];n&&n.length;)r[r.length]=n[0],n=t(n[1]);return r})),ja=Pa,Da=mt(bn(Fi,wt)),Na=mt((function(t,e){for(var n,r=0,i=e.length,o=[];r<i;)In(t,n=e[r],o)||(o[o.length]=n),r+=1;return o})),Wa=Bt((function(t,e,n){return Na(t,wt(e,n))})),Fa=Bt((function(t,e,n){return t(n)?n:e(n)})),za=nn(Sn),qa=Bt((function(t,e,n){for(var r=n;!t(r);)r=e(r);return r})),Ha=qa,Ga=vt((function(t){var e,n=[];for(e in t)n[n.length]=t[e];return n})),Va=Ga,Ya=function(t){return{value:t,"fantasy-land/map":function(){return this}}},$a=mt((function(t,e){return t(Ya)(e).value})),Ja=$a,Xa=Bt((function(t,e,n){return t(n)?e(n):n})),Ka=mt((function(t,e){for(var n in t)if(Xt(n,t)&&!t[n](e[n]))return!1;return!0})),Qa=Ka,Za=mt((function(t,e){return Qa(ae(On,t),e)})),tu=mt((function(t,e){return Vn(pi(Pn)(t),e)})),eu=mt((function(t,e){return Boolean(!t^!e)})),nu=mt((function(t,e){for(var n,r=0,i=t.length,o=e.length,s=[];r<i;){for(n=0;n<o;)s[s.length]=[t[r],e[n]],n+=1;r+=1}return s})),ru=mt((function(t,e){for(var n=[],r=0,i=Math.min(t.length,e.length);r<i;)n[r]=[t[r],e[r]],r+=1;return n})),iu=mt((function(t,e){for(var n=0,r=Math.min(t.length,e.length),i={};n<r;)i[t[n]]=e[n],n+=1;return i})),ou=iu,su=Bt((function(t,e,n){for(var r=[],i=0,o=Math.min(e.length,n.length);i<o;)r[i]=t(e[i],n[i]),i+=1;return r})),au=vt((function(t){return St(t.length,(function(){var e=arguments;return function(){return t.apply(this,e)}}))})),uu=au,cu=Object.freeze({__proto__:null,F:pt,T:gt,__:{"@@functional/placeholder":!0},add:bt,addIndex:xt,adjust:Ct,all:Lt,allPass:ye,always:ve,and:me,andThen:ya,any:we,anyPass:Ee,ap:ke,aperture:Be,append:Ce,apply:Te,applySpec:Oe,applyTo:Le,ascend:Pe,assoc:De,assocPath:Fe,binary:He,bind:qt,both:Xe,call:Ze,chain:nn,clamp:on,clone:cn,comparator:ln,complement:fn,compose:bn,composeK:wn,composeP:function(){if(0===arguments.length)throw new Error("composeP requires at least one argument");return En.apply(this,mn(arguments))},composeWith:Cn,concat:Jn,cond:Kn,construct:tr,constructN:Zn,contains:er,converge:rr,countBy:ar,curry:Ke,curryN:St,dec:ur,defaultTo:lr,descend:hr,difference:pr,differenceWith:gr,dissoc:vr,dissocPath:_r,divide:Er,drop:xr,dropLast:Or,dropLastWhile:jr,dropRepeats:zr,dropRepeatsWith:Fr,dropWhile:Hr,either:Yr,empty:Jr,endsWith:Qr,eqBy:Zr,eqProps:ei,equals:On,evolve:ri,filter:Gn,find:oi,findIndex:ai,findLast:ci,findLastIndex:hi,flatten:fi,flip:pi,forEach:gi,forEachObjIndexed:vi,fromPairs:mi,groupBy:bi,groupWith:wi,gt:_i,gte:Ei,has:Ai,hasIn:Bi,hasPath:ki,head:kn,identical:Ci,identity:An,ifElse:Ii,inc:Mi,includes:Ri,indexBy:Ui,indexOf:Oi,init:Li,innerJoin:Pi,insert:ji,insertAll:Di,intersection:zi,intersperse:Hi,into:Ki,invert:Zi,invertObj:eo,invoker:ro,is:io,isEmpty:oo,isNil:Ne,join:so,juxt:uo,keys:oe,keysIn:lo,last:Wr,lastIndexOf:ho,length:po,lens:go,lensIndex:vo,lensPath:mo,lensProp:bo,lift:$e,liftN:Ye,lt:wo,lte:_o,map:ae,mapAccum:Eo,mapAccumRight:ko,mapObjIndexed:Ao,match:xo,mathMod:Bo,max:Pt,maxBy:Co,mean:Io,median:Mo,memoizeWith:Uo,merge:Oo,mergeAll:Lo,mergeDeepLeft:Do,mergeDeepRight:No,mergeDeepWith:Wo,mergeDeepWithKey:jo,mergeLeft:Fo,mergeRight:zo,mergeWith:qo,mergeWithKey:Po,min:Ho,minBy:Go,modulo:Vo,move:$o,multiply:Jo,nAry:qe,negate:Ko,none:Qo,not:hn,nth:ce,nthArg:ts,o:es,objOf:Yi,of:rs,omit:os,once:as,or:Gr,otherwise:cs,over:fs,pair:ds,partial:gs,partialRight:ys,partition:vs,path:he,pathEq:ms,pathOr:bs,pathSatisfies:ws,paths:le,pick:_s,pickAll:Es,pickBy:Ss,pipe:vn,pipeK:function(){if(0===arguments.length)throw new Error("pipeK requires at least one argument");return wn.apply(this,mn(arguments))},pipeP:En,pipeWith:Bn,pluck:de,prepend:As,product:xs,project:Ts,prop:fe,propEq:Is,propIs:Rs,propOr:Us,propSatisfies:Os,props:Ls,range:js,reduce:pe,reduceBy:sr,reduceRight:Ds,reduceWhile:Ns,reduced:Ws,reject:Vn,remove:mr,repeat:Hs,replace:Gs,reverse:mn,scan:Vs,sequence:$s,set:Xs,slice:gn,sort:Qs,sortBy:Zs,sortWith:ta,split:ea,splitAt:na,splitEvery:ia,splitWhen:oa,startsWith:sa,subtract:aa,sum:To,symmetricDifference:ua,symmetricDifferenceWith:ca,tail:yn,take:Ir,takeLast:Kr,takeLastWhile:la,takeWhile:fa,tap:pa,test:ga,thunkify:uu,times:zs,toLower:va,toPairs:ba,toPairsIn:_a,toString:$n,toUpper:Ea,transduce:ka,transpose:Sa,traverse:xa,trim:Ca,tryCatch:Ia,type:an,unapply:Ra,unary:Ua,uncurryN:La,unfold:ja,union:Da,unionWith:Wa,uniq:Fi,uniqBy:Wi,uniqWith:Na,unless:Fa,unnest:za,until:Ha,update:br,useWith:Cs,values:Me,valuesIn:Va,view:Ja,when:Xa,where:Qa,whereEq:Za,without:tu,xor:eu,xprod:nu,zip:ru,zipObj:ou,zipWith:su}),lu=dt(cu),hu={},fu={exports:{}},du="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},pu=[],gu=[],yu="undefined"!=typeof Uint8Array?Uint8Array:Array,vu=!1;function mu(){vu=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0;e<64;++e)pu[e]=t[e],gu[t.charCodeAt(e)]=e;gu["-".charCodeAt(0)]=62,gu["_".charCodeAt(0)]=63}function bu(t,e,n){for(var r,i,o=[],s=e;s<n;s+=3)r=(t[s]<<16)+(t[s+1]<<8)+t[s+2],o.push(pu[(i=r)>>18&63]+pu[i>>12&63]+pu[i>>6&63]+pu[63&i]);return o.join("")}function wu(t){var e;vu||mu();for(var n=t.length,r=n%3,i="",o=[],s=16383,a=0,u=n-r;a<u;a+=s)o.push(bu(t,a,a+s>u?u:a+s));return 1===r?(e=t[n-1],i+=pu[e>>2],i+=pu[e<<4&63],i+="=="):2===r&&(e=(t[n-2]<<8)+t[n-1],i+=pu[e>>10],i+=pu[e>>4&63],i+=pu[e<<2&63],i+="="),o.push(i),o.join("")}function _u(t,e,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,l=-7,h=n?i-1:0,f=n?-1:1,d=t[e+h];for(h+=f,o=d&(1<<-l)-1,d>>=-l,l+=a;l>0;o=256*o+t[e+h],h+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+t[e+h],h+=f,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),o-=c}return(d?-1:1)*s*Math.pow(2,o-r)}function Eu(t,e,n,r,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(s++,u/=2),s+h>=l?(a=0,s=l):s+h>=1?(a=(e*u-1)*Math.pow(2,i),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[n+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[n+d]=255&s,d+=p,s/=256,c-=8);t[n+d-p]|=128*g}var ku={}.toString,Su=Array.isArray||function(t){return"[object Array]"==ku.call(t)};Cu.TYPED_ARRAY_SUPPORT=void 0===du.TYPED_ARRAY_SUPPORT||du.TYPED_ARRAY_SUPPORT;var Au=xu();function xu(){return Cu.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Bu(t,e){if(xu()<e)throw new RangeError("Invalid typed array length");return Cu.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=Cu.prototype:(null===t&&(t=new Cu(e)),t.length=e),t}function Cu(t,e,n){if(!(Cu.TYPED_ARRAY_SUPPORT||this instanceof Cu))return new Cu(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return Mu(this,t)}return Tu(this,t,e,n)}function Tu(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);Cu.TYPED_ARRAY_SUPPORT?(t=e).__proto__=Cu.prototype:t=Ru(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!Cu.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|Lu(e,n);t=Bu(t,r);var i=t.write(e,n);i!==r&&(t=t.slice(0,i));return t}(t,e,n):function(t,e){if(Ou(e)){var n=0|Uu(e.length);return 0===(t=Bu(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?Bu(t,0):Ru(t,e);if("Buffer"===e.type&&Su(e.data))return Ru(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function Iu(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function Mu(t,e){if(Iu(e),t=Bu(t,e<0?0:0|Uu(e)),!Cu.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function Ru(t,e){var n=e.length<0?0:0|Uu(e.length);t=Bu(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function Uu(t){if(t>=xu())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+xu().toString(16)+" bytes");return 0|t}function Ou(t){return!(null==t||!t._isBuffer)}function Lu(t,e){if(Ou(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return uc(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return cc(t).length;default:if(r)return uc(t).length;e=(""+e).toLowerCase(),r=!0}}function Pu(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return Ku(this,e,n);case"utf8":case"utf-8":return Yu(this,e,n);case"ascii":return Ju(this,e,n);case"latin1":case"binary":return Xu(this,e,n);case"base64":return Vu(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Qu(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function ju(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function Du(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=Cu.from(e,r)),Ou(e))return 0===e.length?-1:Nu(t,e,n,r,i);if("number"==typeof e)return e&=255,Cu.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):Nu(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function Nu(t,e,n,r,i){var o,s=1,a=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var l=-1;for(o=n;o<a;o++)if(c(t,o)===c(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var h=!0,f=0;f<u;f++)if(c(t,o+f)!==c(e,f)){h=!1;break}if(h)return o}return-1}function Wu(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function Fu(t,e,n,r){return lc(uc(e,t.length-n),t,n,r)}function zu(t,e,n,r){return lc(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function qu(t,e,n,r){return zu(t,e,n,r)}function Hu(t,e,n,r){return lc(cc(e),t,n,r)}function Gu(t,e,n,r){return lc(function(t,e){for(var n,r,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)r=(n=t.charCodeAt(s))>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function Vu(t,e,n){return 0===e&&n===t.length?wu(t):wu(t.slice(e,n))}function Yu(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,s,a,u,c=t[i],l=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=n)switch(h){case 1:c<128&&(l=c);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,h=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=h}return function(t){var e=t.length;if(e<=$u)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=$u));return n}(r)}Cu.poolSize=8192,Cu._augment=function(t){return t.__proto__=Cu.prototype,t},Cu.from=function(t,e,n){return Tu(null,t,e,n)},Cu.TYPED_ARRAY_SUPPORT&&(Cu.prototype.__proto__=Uint8Array.prototype,Cu.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Cu[Symbol.species]),Cu.alloc=function(t,e,n){return function(t,e,n,r){return Iu(e),e<=0?Bu(t,e):void 0!==n?"string"==typeof r?Bu(t,e).fill(n,r):Bu(t,e).fill(n):Bu(t,e)}(null,t,e,n)},Cu.allocUnsafe=function(t){return Mu(null,t)},Cu.allocUnsafeSlow=function(t){return Mu(null,t)},Cu.isBuffer=hc,Cu.compare=function(t,e){if(!Ou(t)||!Ou(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},Cu.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Cu.concat=function(t,e){if(!Su(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return Cu.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=Cu.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var o=t[n];if(!Ou(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},Cu.byteLength=Lu,Cu.prototype._isBuffer=!0,Cu.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)ju(this,e,e+1);return this},Cu.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)ju(this,e,e+3),ju(this,e+1,e+2);return this},Cu.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)ju(this,e,e+7),ju(this,e+1,e+6),ju(this,e+2,e+5),ju(this,e+3,e+4);return this},Cu.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?Yu(this,0,t):Pu.apply(this,arguments)},Cu.prototype.equals=function(t){if(!Ou(t))throw new TypeError("Argument must be a Buffer");return this===t||0===Cu.compare(this,t)},Cu.prototype.inspect=function(){var t="";return this.length>0&&(t=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(t+=" ... ")),"<Buffer "+t+">"},Cu.prototype.compare=function(t,e,n,r,i){if(!Ou(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0),a=Math.min(o,s),u=this.slice(r,i),c=t.slice(e,n),l=0;l<a;++l)if(u[l]!==c[l]){o=u[l],s=c[l];break}return o<s?-1:s<o?1:0},Cu.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},Cu.prototype.indexOf=function(t,e,n){return Du(this,t,e,n,!0)},Cu.prototype.lastIndexOf=function(t,e,n){return Du(this,t,e,n,!1)},Cu.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return Wu(this,t,e,n);case"utf8":case"utf-8":return Fu(this,t,e,n);case"ascii":return zu(this,t,e,n);case"latin1":case"binary":return qu(this,t,e,n);case"base64":return Hu(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Gu(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},Cu.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var $u=4096;function Ju(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function Xu(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function Ku(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=ac(t[o]);return i}function Qu(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function Zu(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function tc(t,e,n,r,i,o){if(!Ou(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function ec(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function nc(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function rc(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function ic(t,e,n,r,i){return i||rc(t,0,n,4),Eu(t,e,n,r,23,4),n+4}function oc(t,e,n,r,i){return i||rc(t,0,n,8),Eu(t,e,n,r,52,8),n+8}Cu.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),Cu.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=Cu.prototype;else{var i=e-t;n=new Cu(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},Cu.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||Zu(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},Cu.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||Zu(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},Cu.prototype.readUInt8=function(t,e){return e||Zu(t,1,this.length),this[t]},Cu.prototype.readUInt16LE=function(t,e){return e||Zu(t,2,this.length),this[t]|this[t+1]<<8},Cu.prototype.readUInt16BE=function(t,e){return e||Zu(t,2,this.length),this[t]<<8|this[t+1]},Cu.prototype.readUInt32LE=function(t,e){return e||Zu(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},Cu.prototype.readUInt32BE=function(t,e){return e||Zu(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},Cu.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||Zu(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},Cu.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||Zu(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},Cu.prototype.readInt8=function(t,e){return e||Zu(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},Cu.prototype.readInt16LE=function(t,e){e||Zu(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},Cu.prototype.readInt16BE=function(t,e){e||Zu(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},Cu.prototype.readInt32LE=function(t,e){return e||Zu(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},Cu.prototype.readInt32BE=function(t,e){return e||Zu(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},Cu.prototype.readFloatLE=function(t,e){return e||Zu(t,4,this.length),_u(this,t,!0,23,4)},Cu.prototype.readFloatBE=function(t,e){return e||Zu(t,4,this.length),_u(this,t,!1,23,4)},Cu.prototype.readDoubleLE=function(t,e){return e||Zu(t,8,this.length),_u(this,t,!0,52,8)},Cu.prototype.readDoubleBE=function(t,e){return e||Zu(t,8,this.length),_u(this,t,!1,52,8)},Cu.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||tc(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},Cu.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||tc(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},Cu.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||tc(this,t,e,1,255,0),Cu.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},Cu.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||tc(this,t,e,2,65535,0),Cu.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):ec(this,t,e,!0),e+2},Cu.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||tc(this,t,e,2,65535,0),Cu.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):ec(this,t,e,!1),e+2},Cu.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||tc(this,t,e,4,4294967295,0),Cu.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):nc(this,t,e,!0),e+4},Cu.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||tc(this,t,e,4,4294967295,0),Cu.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):nc(this,t,e,!1),e+4},Cu.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);tc(this,t,e,n,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},Cu.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);tc(this,t,e,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},Cu.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||tc(this,t,e,1,127,-128),Cu.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},Cu.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||tc(this,t,e,2,32767,-32768),Cu.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):ec(this,t,e,!0),e+2},Cu.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||tc(this,t,e,2,32767,-32768),Cu.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):ec(this,t,e,!1),e+2},Cu.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||tc(this,t,e,4,2147483647,-2147483648),Cu.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):nc(this,t,e,!0),e+4},Cu.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||tc(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),Cu.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):nc(this,t,e,!1),e+4},Cu.prototype.writeFloatLE=function(t,e,n){return ic(this,t,e,!0,n)},Cu.prototype.writeFloatBE=function(t,e,n){return ic(this,t,e,!1,n)},Cu.prototype.writeDoubleLE=function(t,e,n){return oc(this,t,e,!0,n)},Cu.prototype.writeDoubleBE=function(t,e,n){return oc(this,t,e,!1,n)},Cu.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!Cu.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},Cu.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!Cu.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=Ou(t)?t:uc(new Cu(t,r).toString()),a=s.length;for(o=0;o<n-e;++o)this[o+e]=s[o%a]}return this};var sc=/[^+\/0-9A-Za-z-_]/g;function ac(t){return t<16?"0"+t.toString(16):t.toString(16)}function uc(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function cc(t){return function(t){var e,n,r,i,o,s;vu||mu();var a=t.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o="="===t[a-2]?2:"="===t[a-1]?1:0,s=new yu(3*a/4-o),r=o>0?a-4:a;var u=0;for(e=0,n=0;e<r;e+=4,n+=3)i=gu[t.charCodeAt(e)]<<18|gu[t.charCodeAt(e+1)]<<12|gu[t.charCodeAt(e+2)]<<6|gu[t.charCodeAt(e+3)],s[u++]=i>>16&255,s[u++]=i>>8&255,s[u++]=255&i;return 2===o?(i=gu[t.charCodeAt(e)]<<2|gu[t.charCodeAt(e+1)]>>4,s[u++]=255&i):1===o&&(i=gu[t.charCodeAt(e)]<<10|gu[t.charCodeAt(e+1)]<<4|gu[t.charCodeAt(e+2)]>>2,s[u++]=i>>8&255,s[u++]=255&i),s}(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(sc,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function lc(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function hc(t){return null!=t&&(!!t._isBuffer||fc(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&fc(t.slice(0,0))}(t))}function fc(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}var dc=Object.freeze({__proto__:null,Buffer:Cu,INSPECT_MAX_BYTES:50,SlowBuffer:function(t){return+t!=t&&(t=0),Cu.alloc(+t)},isBuffer:hc,kMaxLength:Au}),pc=dt(dc);
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
!function(t,e){var n=pc,r=n.Buffer;function i(t,e){for(var n in t)e[n]=t[n]}function o(t,e,n){return r(t,e,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=o),o.prototype=Object.create(r.prototype),i(r,o),o.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return r(t,e,n)},o.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var i=r(t);return void 0!==e?"string"==typeof n?i.fill(e,n):i.fill(e):i.fill(0),i},o.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r(t)},o.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}}(fu,fu.exports);var gc=fu.exports;function yc(){}function vc(){vc.init.call(this)}function mc(t){return void 0===t._maxListeners?vc.defaultMaxListeners:t._maxListeners}function bc(t,e,n,r){var i,o,s,a;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if((o=t._events)?(o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]):(o=t._events=new yc,t._eventsCount=0),s){if("function"==typeof s?s=o[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),!s.warned&&(i=mc(t))&&i>0&&s.length>i){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+e+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=s.length,a=u,"function"==typeof console.warn?console.warn(a):console.log(a)}}else s=o[e]=n,++t._eventsCount;return t}function wc(t,e,n){var r=!1;function i(){t.removeListener(e,i),r||(r=!0,n.apply(t,arguments))}return i.listener=n,i}function _c(t){var e=this._events;if(e){var n=e[t];if("function"==typeof n)return 1;if(n)return n.length}return 0}function Ec(t,e){for(var n=new Array(e);e--;)n[e]=t[e];return n}yc.prototype=Object.create(null),vc.EventEmitter=vc,vc.usingDomains=!1,vc.prototype.domain=void 0,vc.prototype._events=void 0,vc.prototype._maxListeners=void 0,vc.defaultMaxListeners=10,vc.init=function(){this.domain=null,vc.usingDomains&&undefined.active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new yc,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},vc.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},vc.prototype.getMaxListeners=function(){return mc(this)},vc.prototype.emit=function(t){var e,n,r,i,o,s,a,u="error"===t;if(s=this._events)u=u&&null==s.error;else if(!u)return!1;if(a=this.domain,u){if(e=arguments[1],!a){if(e instanceof Error)throw e;var c=new Error('Uncaught, unspecified "error" event. ('+e+")");throw c.context=e,c}return e||(e=new Error('Uncaught, unspecified "error" event')),e.domainEmitter=this,e.domain=a,e.domainThrown=!1,a.emit("error",e),!1}if(!(n=s[t]))return!1;var l="function"==typeof n;switch(r=arguments.length){case 1:!function(t,e,n){if(e)t.call(n);else for(var r=t.length,i=Ec(t,r),o=0;o<r;++o)i[o].call(n)}(n,l,this);break;case 2:!function(t,e,n,r){if(e)t.call(n,r);else for(var i=t.length,o=Ec(t,i),s=0;s<i;++s)o[s].call(n,r)}(n,l,this,arguments[1]);break;case 3:!function(t,e,n,r,i){if(e)t.call(n,r,i);else for(var o=t.length,s=Ec(t,o),a=0;a<o;++a)s[a].call(n,r,i)}(n,l,this,arguments[1],arguments[2]);break;case 4:!function(t,e,n,r,i,o){if(e)t.call(n,r,i,o);else for(var s=t.length,a=Ec(t,s),u=0;u<s;++u)a[u].call(n,r,i,o)}(n,l,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),o=1;o<r;o++)i[o-1]=arguments[o];!function(t,e,n,r){if(e)t.apply(n,r);else for(var i=t.length,o=Ec(t,i),s=0;s<i;++s)o[s].apply(n,r)}(n,l,this,i)}return!0},vc.prototype.addListener=function(t,e){return bc(this,t,e,!1)},vc.prototype.on=vc.prototype.addListener,vc.prototype.prependListener=function(t,e){return bc(this,t,e,!0)},vc.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.on(t,wc(this,t,e)),this},vc.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.prependListener(t,wc(this,t,e)),this},vc.prototype.removeListener=function(t,e){var n,r,i,o,s;if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[t]))return this;if(n===e||n.listener&&n.listener===e)0==--this._eventsCount?this._events=new yc:(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,o=n.length;o-- >0;)if(n[o]===e||n[o].listener&&n[o].listener===e){s=n[o].listener,i=o;break}if(i<0)return this;if(1===n.length){if(n[0]=void 0,0==--this._eventsCount)return this._events=new yc,this;delete r[t]}else!function(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}(n,i);r.removeListener&&this.emit("removeListener",t,s||e)}return this},vc.prototype.removeAllListeners=function(t){var e,n;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=new yc,this._eventsCount=0):n[t]&&(0==--this._eventsCount?this._events=new yc:delete n[t]),this;if(0===arguments.length){for(var r,i=Object.keys(n),o=0;o<i.length;++o)"removeListener"!==(r=i[o])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new yc,this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(e)do{this.removeListener(t,e[e.length-1])}while(e[0]);return this},vc.prototype.listeners=function(t){var e,n=this._events;return n&&(e=n[t])?"function"==typeof e?[e.listener||e]:function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(e):[]},vc.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):_c.call(t,e)},vc.prototype.listenerCount=_c,vc.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var kc=Object.freeze({__proto__:null,EventEmitter:vc,default:vc});function Sc(){throw new Error("setTimeout has not been defined")}function Ac(){throw new Error("clearTimeout has not been defined")}var xc=Sc,Bc=Ac;function Cc(t){if(xc===setTimeout)return setTimeout(t,0);if((xc===Sc||!xc)&&setTimeout)return xc=setTimeout,setTimeout(t,0);try{return xc(t,0)}catch(e){try{return xc.call(null,t,0)}catch(e){return xc.call(this,t,0)}}}"function"==typeof du.setTimeout&&(xc=setTimeout),"function"==typeof du.clearTimeout&&(Bc=clearTimeout);var Tc,Ic=[],Mc=!1,Rc=-1;function Uc(){Mc&&Tc&&(Mc=!1,Tc.length?Ic=Tc.concat(Ic):Rc=-1,Ic.length&&Oc())}function Oc(){if(!Mc){var t=Cc(Uc);Mc=!0;for(var e=Ic.length;e;){for(Tc=Ic,Ic=[];++Rc<e;)Tc&&Tc[Rc].run();Rc=-1,e=Ic.length}Tc=null,Mc=!1,function(t){if(Bc===clearTimeout)return clearTimeout(t);if((Bc===Ac||!Bc)&&clearTimeout)return Bc=clearTimeout,clearTimeout(t);try{return Bc(t)}catch(e){try{return Bc.call(null,t)}catch(e){return Bc.call(this,t)}}}(t)}}function Lc(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];Ic.push(new Pc(t,e)),1!==Ic.length||Mc||Cc(Oc)}function Pc(t,e){this.fun=t,this.array=e}Pc.prototype.run=function(){this.fun.apply(null,this.array)};function jc(){}var Dc=jc,Nc=jc,Wc=jc,Fc=jc,zc=jc,qc=jc,Hc=jc;var Gc=du.performance||{},Vc=Gc.now||Gc.mozNow||Gc.msNow||Gc.oNow||Gc.webkitNow||function(){return(new Date).getTime()};var Yc=new Date;var $c={nextTick:Lc,title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:Dc,addListener:Nc,once:Wc,off:Fc,removeListener:zc,removeAllListeners:qc,emit:Hc,binding:function(t){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(t){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(t){var e=.001*Vc.call(Gc),n=Math.floor(e),r=Math.floor(e%1*1e9);return t&&(n-=t[0],(r-=t[1])<0&&(n--,r+=1e9)),[n,r]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-Yc)/1e3}},Jc="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t},Xc=/%[sdj%]/g;function Kc(t){if(!dl(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(nl(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,i=r.length,o=String(t).replace(Xc,(function(t){if("%%"===t)return"%";if(n>=i)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}})),s=r[n];n<i;s=r[++n])ll(s)||!vl(s)?o+=" "+s:o+=" "+nl(s);return o}function Qc(t,e){if(gl(du.process))return function(){return Qc(t,e).apply(this,arguments)};if(!0===$c.noDeprecation)return t;var n=!1;return function(){if(!n){if($c.throwDeprecation)throw new Error(e);$c.traceDeprecation?console.trace(e):console.error(e),n=!0}return t.apply(this,arguments)}}var Zc,tl={};function el(t){if(gl(Zc)&&(Zc=$c.env.NODE_DEBUG||""),t=t.toUpperCase(),!tl[t])if(new RegExp("\\b"+t+"\\b","i").test(Zc)){tl[t]=function(){var e=Kc.apply(null,arguments);console.error("%s %d: %s",t,0,e)}}else tl[t]=function(){};return tl[t]}function nl(t,e){var n={seen:[],stylize:il};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),cl(e)?n.showHidden=e:e&&Bl(n,e),gl(n.showHidden)&&(n.showHidden=!1),gl(n.depth)&&(n.depth=2),gl(n.colors)&&(n.colors=!1),gl(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=rl),ol(n,t,n.depth)}function rl(t,e){var n=nl.styles[e];return n?"["+nl.colors[n][0]+"m"+t+"["+nl.colors[n][1]+"m":t}function il(t,e){return t}function ol(t,e,n){if(t.customInspect&&e&&wl(e.inspect)&&e.inspect!==nl&&(!e.constructor||e.constructor.prototype!==e)){var r=e.inspect(n,t);return dl(r)||(r=ol(t,r,n)),r}var i=function(t,e){if(gl(e))return t.stylize("undefined","undefined");if(dl(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(fl(e))return t.stylize(""+e,"number");if(cl(e))return t.stylize(""+e,"boolean");if(ll(e))return t.stylize("null","null")}(t,e);if(i)return i;var o=Object.keys(e),s=function(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(e)),bl(e)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return sl(e);if(0===o.length){if(wl(e)){var a=e.name?": "+e.name:"";return t.stylize("[Function"+a+"]","special")}if(yl(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(ml(e))return t.stylize(Date.prototype.toString.call(e),"date");if(bl(e))return sl(e)}var u,c="",l=!1,h=["{","}"];(ul(e)&&(l=!0,h=["[","]"]),wl(e))&&(c=" [Function"+(e.name?": "+e.name:"")+"]");return yl(e)&&(c=" "+RegExp.prototype.toString.call(e)),ml(e)&&(c=" "+Date.prototype.toUTCString.call(e)),bl(e)&&(c=" "+sl(e)),0!==o.length||l&&0!=e.length?n<0?yl(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special"):(t.seen.push(e),u=l?function(t,e,n,r,i){for(var o=[],s=0,a=e.length;s<a;++s)Cl(e,String(s))?o.push(al(t,e,n,r,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(al(t,e,n,r,i,!0))})),o}(t,e,n,s,o):o.map((function(r){return al(t,e,n,s,r,l)})),t.seen.pop(),function(t,e,n){var r=t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0);if(r>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(u,c,h)):h[0]+c+h[1]}function sl(t){return"["+Error.prototype.toString.call(t)+"]"}function al(t,e,n,r,i,o){var s,a,u;if((u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(a=t.stylize("[Setter]","special")),Cl(r,i)||(s="["+i+"]"),a||(t.seen.indexOf(u.value)<0?(a=ll(n)?ol(t,u.value,null):ol(t,u.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+a.split("\n").map((function(t){return"   "+t})).join("\n")):a=t.stylize("[Circular]","special")),gl(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function ul(t){return Array.isArray(t)}function cl(t){return"boolean"==typeof t}function ll(t){return null===t}function hl(t){return null==t}function fl(t){return"number"==typeof t}function dl(t){return"string"==typeof t}function pl(t){return"symbol"==typeof t}function gl(t){return void 0===t}function yl(t){return vl(t)&&"[object RegExp]"===kl(t)}function vl(t){return"object"==typeof t&&null!==t}function ml(t){return vl(t)&&"[object Date]"===kl(t)}function bl(t){return vl(t)&&("[object Error]"===kl(t)||t instanceof Error)}function wl(t){return"function"==typeof t}function _l(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function El(t){return hc(t)}function kl(t){return Object.prototype.toString.call(t)}function Sl(t){return t<10?"0"+t.toString(10):t.toString(10)}nl.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},nl.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var Al=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function xl(){var t,e;console.log("%s - %s",(t=new Date,e=[Sl(t.getHours()),Sl(t.getMinutes()),Sl(t.getSeconds())].join(":"),[t.getDate(),Al[t.getMonth()],e].join(" ")),Kc.apply(null,arguments))}function Bl(t,e){if(!e||!vl(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}function Cl(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Tl={inherits:Jc,_extend:Bl,log:xl,isBuffer:El,isPrimitive:_l,isFunction:wl,isError:bl,isDate:ml,isObject:vl,isRegExp:yl,isUndefined:gl,isSymbol:pl,isString:dl,isNumber:fl,isNullOrUndefined:hl,isNull:ll,isBoolean:cl,isArray:ul,inspect:nl,deprecate:Qc,format:Kc,debuglog:el},Il=Object.freeze({__proto__:null,_extend:Bl,debuglog:el,default:Tl,deprecate:Qc,format:Kc,inherits:Jc,inspect:nl,isArray:ul,isBoolean:cl,isBuffer:El,isDate:ml,isError:bl,isFunction:wl,isNull:ll,isNullOrUndefined:hl,isNumber:fl,isObject:vl,isPrimitive:_l,isRegExp:yl,isString:dl,isSymbol:pl,isUndefined:gl,log:xl});function Ml(){this.head=null,this.tail=null,this.length=0}Ml.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},Ml.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},Ml.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},Ml.prototype.clear=function(){this.head=this.tail=null,this.length=0},Ml.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},Ml.prototype.concat=function(t){if(0===this.length)return Cu.alloc(0);if(1===this.length)return this.head.data;for(var e=Cu.allocUnsafe(t>>>0),n=this.head,r=0;n;)n.data.copy(e,r),r+=n.data.length,n=n.next;return e};var Rl=Cu.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Ul(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),function(t){if(t&&!Rl(t))throw new Error("Unknown encoding: "+t)}(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=Ll;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=Pl;break;default:return void(this.write=Ol)}this.charBuffer=new Cu(6),this.charReceived=0,this.charLength=0}function Ol(t){return t.toString(this.encoding)}function Ll(t){this.charReceived=t.length%2,this.charLength=this.charReceived?2:0}function Pl(t){this.charReceived=t.length%3,this.charLength=this.charReceived?3:0}Ul.prototype.write=function(t){for(var e="";this.charLength;){var n=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";if(t=t.slice(n,t.length),!((i=(e=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(e.length-1))>=55296&&i<=56319)){if(this.charReceived=this.charLength=0,0===t.length)return e;break}this.charLength+=this.surrogateSize,e=""}this.detectIncompleteChar(t);var r=t.length;this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,r),r-=this.charReceived);var i;r=(e+=t.toString(this.encoding,0,r)).length-1;if((i=e.charCodeAt(r))>=55296&&i<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),t.copy(this.charBuffer,0,0,o),e.substring(0,r)}return e},Ul.prototype.detectIncompleteChar=function(t){for(var e=t.length>=3?3:t.length;e>0;e--){var n=t[t.length-e];if(1==e&&n>>5==6){this.charLength=2;break}if(e<=2&&n>>4==14){this.charLength=3;break}if(e<=3&&n>>3==30){this.charLength=4;break}}this.charReceived=e},Ul.prototype.end=function(t){var e="";if(t&&t.length&&(e=this.write(t)),this.charReceived){var n=this.charReceived,r=this.charBuffer,i=this.encoding;e+=r.slice(0,n).toString(i)}return e};var jl=Object.freeze({__proto__:null,StringDecoder:Ul});Wl.ReadableState=Nl;var Dl=el("stream");function Nl(t,e){t=t||{},this.objectMode=!!t.objectMode,e instanceof ph&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var n=t.highWaterMark,r=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:r,this.highWaterMark=~~this.highWaterMark,this.buffer=new Ml,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(this.decoder=new Ul(t.encoding),this.encoding=t.encoding)}function Wl(t){if(!(this instanceof Wl))return new Wl(t);this._readableState=new Nl(t,this),this.readable=!0,t&&"function"==typeof t.read&&(this._read=t.read),vc.call(this)}function Fl(t,e,n,r,i){var o=function(t,e){var n=null;hc(e)||"string"==typeof e||null==e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));return n}(e,n);if(o)t.emit("error",o);else if(null===n)e.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,Hl(t)}(t,e);else if(e.objectMode||n&&n.length>0)if(e.ended&&!i){var s=new Error("stream.push() after EOF");t.emit("error",s)}else if(e.endEmitted&&i){var a=new Error("stream.unshift() after end event");t.emit("error",a)}else{var u;!e.decoder||i||r||(n=e.decoder.write(n),u=!e.objectMode&&0===n.length),i||(e.reading=!1),u||(e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,i?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&Hl(t))),function(t,e){e.readingMore||(e.readingMore=!0,Lc(Vl,t,e))}(t,e)}else i||(e.reading=!1);return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(e)}Jc(Wl,vc),Wl.prototype.push=function(t,e){var n=this._readableState;return n.objectMode||"string"!=typeof t||(e=e||n.defaultEncoding)!==n.encoding&&(t=Cu.from(t,e),e=""),Fl(this,n,t,e,!1)},Wl.prototype.unshift=function(t){return Fl(this,this._readableState,t,"",!0)},Wl.prototype.isPaused=function(){return!1===this._readableState.flowing},Wl.prototype.setEncoding=function(t){return this._readableState.decoder=new Ul(t),this._readableState.encoding=t,this};var zl=8388608;function ql(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=zl?t=zl:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function Hl(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(Dl("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?Lc(Gl,t):Gl(t))}function Gl(t){Dl("emit readable"),t.emit("readable"),Jl(t)}function Vl(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(Dl("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function Yl(t){Dl("readable nexttick read 0"),t.read(0)}function $l(t,e){e.reading||(Dl("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),Jl(t),e.flowing&&!e.reading&&t.read(0)}function Jl(t){var e=t._readableState;for(Dl("flow",e.flowing);e.flowing&&null!==t.read(););}function Xl(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var r;t<e.head.data.length?(r=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):r=t===e.head.data.length?e.shift():n?function(t,e){var n=e.head,r=1,i=n.data;t-=i.length;for(;n=n.next;){var o=n.data,s=t>o.length?o.length:t;if(s===o.length?i+=o:i+=o.slice(0,t),0===(t-=s)){s===o.length?(++r,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(s));break}++r}return e.length-=r,i}(t,e):function(t,e){var n=Cu.allocUnsafe(t),r=e.head,i=1;r.data.copy(n),t-=r.data.length;for(;r=r.next;){var o=r.data,s=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,s),0===(t-=s)){s===o.length?(++i,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(s));break}++i}return e.length-=i,n}(t,e);return r}(t,e.buffer,e.decoder),n);var n}function Kl(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,Lc(Ql,e,t))}function Ql(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function Zl(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function th(){}function eh(t,e,n){this.chunk=t,this.encoding=e,this.callback=n,this.next=null}function nh(t,e){Object.defineProperty(this,"buffer",{get:Qc((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),t=t||{},this.objectMode=!!t.objectMode,e instanceof ph&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var n=t.highWaterMark,r=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:r,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var i=!1===t.decodeStrings;this.decodeStrings=!i,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,r=n.sync,i=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,r,i){--e.pendingcb,n?Lc(i,r):i(r);t._writableState.errorEmitted=!0,t.emit("error",r)}(t,n,r,e,i);else{var o=ah(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||sh(t,n),r?Lc(oh,t,n,o,i):oh(t,n,o,i)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new lh(this)}function rh(t){if(!(this instanceof rh||this instanceof ph))return new rh(t);this._writableState=new nh(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev)),vc.call(this)}function ih(t,e,n,r,i,o,s){e.writelen=r,e.writecb=s,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function oh(t,e,n,r){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,r(),ch(t,e)}function sh(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,i=new Array(r),o=e.corkedRequestsFree;o.entry=n;for(var s=0;n;)i[s]=n,n=n.next,s+=1;ih(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new lh(e)}else{for(;n;){var a=n.chunk,u=n.encoding,c=n.callback;if(ih(t,e,!1,e.objectMode?1:a.length,a,u,c),n=n.next,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequestCount=0,e.bufferedRequest=n,e.bufferProcessing=!1}function ah(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function uh(t,e){e.prefinished||(e.prefinished=!0,t.emit("prefinish"))}function ch(t,e){var n=ah(e);return n&&(0===e.pendingcb?(uh(t,e),e.finished=!0,t.emit("finish")):uh(t,e)),n}function lh(t){var e=this;this.next=null,this.entry=null,this.finish=function(n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}}Wl.prototype.read=function(t){Dl("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return Dl("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?Kl(this):Hl(this),null;if(0===(t=ql(t,e))&&e.ended)return 0===e.length&&Kl(this),null;var r,i=e.needReadable;return Dl("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&Dl("length less than watermark",i=!0),e.ended||e.reading?Dl("reading or ended",i=!1):i&&(Dl("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=ql(n,e))),null===(r=t>0?Xl(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&Kl(this)),null!==r&&this.emit("data",r),r},Wl.prototype._read=function(t){this.emit("error",new Error("not implemented"))},Wl.prototype.pipe=function(t,e){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=t;break;case 1:r.pipes=[r.pipes,t];break;default:r.pipes.push(t)}r.pipesCount+=1,Dl("pipe count=%d opts=%j",r.pipesCount,e);var i=!e||!1!==e.end?s:c;function o(t){Dl("onunpipe"),t===n&&c()}function s(){Dl("onend"),t.end()}r.endEmitted?Lc(i):n.once("end",i),t.on("unpipe",o);var a=function(t){return function(){var e=t._readableState;Dl("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&t.listeners("data").length&&(e.flowing=!0,Jl(t))}}(n);t.on("drain",a);var u=!1;function c(){Dl("cleanup"),t.removeListener("close",d),t.removeListener("finish",p),t.removeListener("drain",a),t.removeListener("error",f),t.removeListener("unpipe",o),n.removeListener("end",s),n.removeListener("end",c),n.removeListener("data",h),u=!0,!r.awaitDrain||t._writableState&&!t._writableState.needDrain||a()}var l=!1;function h(e){Dl("ondata"),l=!1,!1!==t.write(e)||l||((1===r.pipesCount&&r.pipes===t||r.pipesCount>1&&-1!==Zl(r.pipes,t))&&!u&&(Dl("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,l=!0),n.pause())}function f(e){Dl("onerror",e),g(),t.removeListener("error",f),0===function(t,e){return t.listeners(e).length}(t,"error")&&t.emit("error",e)}function d(){t.removeListener("finish",p),g()}function p(){Dl("onfinish"),t.removeListener("close",d),g()}function g(){Dl("unpipe"),n.unpipe(t)}return n.on("data",h),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",f),t.once("close",d),t.once("finish",p),t.emit("pipe",n),r.flowing||(Dl("pipe resume"),n.resume()),t},Wl.prototype.unpipe=function(t){var e=this._readableState;if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this)),this;if(!t){var n=e.pipes,r=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var i=0;i<r;i++)n[i].emit("unpipe",this);return this}var o=Zl(e.pipes,t);return-1===o||(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this)),this},Wl.prototype.on=function(t,e){var n=vc.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&Hl(this):Lc(Yl,this))}return n},Wl.prototype.addListener=Wl.prototype.on,Wl.prototype.resume=function(){var t=this._readableState;return t.flowing||(Dl("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,Lc($l,t,e))}(this,t)),this},Wl.prototype.pause=function(){return Dl("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(Dl("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Wl.prototype.wrap=function(t){var e=this._readableState,n=!1,r=this;for(var i in t.on("end",(function(){if(Dl("wrapped end"),e.decoder&&!e.ended){var t=e.decoder.end();t&&t.length&&r.push(t)}r.push(null)})),t.on("data",(function(i){(Dl("wrapped data"),e.decoder&&(i=e.decoder.write(i)),e.objectMode&&null==i)||(e.objectMode||i&&i.length)&&(r.push(i)||(n=!0,t.pause()))})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));return function(t,e){for(var n=0,r=t.length;n<r;n++)e(t[n],n)}(["error","close","destroy","pause","resume"],(function(e){t.on(e,r.emit.bind(r,e))})),r._read=function(e){Dl("wrapped _read",e),n&&(n=!1,t.resume())},r},Wl._fromList=Xl,rh.WritableState=nh,Jc(rh,vc),nh.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},rh.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},rh.prototype.write=function(t,e,n){var r=this._writableState,i=!1;return"function"==typeof e&&(n=e,e=null),Cu.isBuffer(t)?e="buffer":e||(e=r.defaultEncoding),"function"!=typeof n&&(n=th),r.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),Lc(e,n)}(this,n):function(t,e,n,r){var i=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):Cu.isBuffer(n)||"string"==typeof n||void 0===n||e.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(t.emit("error",o),Lc(r,o),i=!1),i}(this,r,t,n)&&(r.pendingcb++,i=function(t,e,n,r,i){n=function(t,e,n){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=Cu.from(e,n));return e}(e,n,r),Cu.isBuffer(n)&&(r="buffer");var o=e.objectMode?1:n.length;e.length+=o;var s=e.length<e.highWaterMark;s||(e.needDrain=!0);if(e.writing||e.corked){var a=e.lastBufferedRequest;e.lastBufferedRequest=new eh(n,r,i),a?a.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else ih(t,e,!1,o,n,r,i);return s}(this,r,t,e,n)),i},rh.prototype.cork=function(){this._writableState.corked++},rh.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||sh(this,t))},rh.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},rh.prototype._write=function(t,e,n){n(new Error("not implemented"))},rh.prototype._writev=null,rh.prototype.end=function(t,e,n){var r=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(t,e,n){e.ending=!0,ch(t,e),n&&(e.finished?Lc(n):t.once("finish",n));e.ended=!0,t.writable=!1}(this,r,n)},Jc(ph,Wl);for(var hh=Object.keys(rh.prototype),fh=0;fh<hh.length;fh++){var dh=hh[fh];ph.prototype[dh]||(ph.prototype[dh]=rh.prototype[dh])}function ph(t){if(!(this instanceof ph))return new ph(t);Wl.call(this,t),rh.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",gh)}function gh(){this.allowHalfOpen||this._writableState.ended||Lc(yh,this)}function yh(t){t.end()}function vh(t){this.afterTransform=function(e,n){return function(t,e,n){var r=t._transformState;r.transforming=!1;var i=r.writecb;if(!i)return t.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,r.writecb=null,null!=n&&t.push(n);i(e);var o=t._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&t._read(o.highWaterMark)}(t,e,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function mh(t){if(!(this instanceof mh))return new mh(t);ph.call(this,t),this._transformState=new vh(this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.once("prefinish",(function(){"function"==typeof this._flush?this._flush((function(t){bh(e,t)})):bh(e)}))}function bh(t,e){if(e)return t.emit("error",e);var n=t._writableState,r=t._transformState;if(n.length)throw new Error("Calling transform done when ws.length != 0");if(r.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}function wh(t){if(!(this instanceof wh))return new wh(t);mh.call(this,t)}function _h(){vc.call(this)}Jc(mh,ph),mh.prototype.push=function(t,e){return this._transformState.needTransform=!1,ph.prototype.push.call(this,t,e)},mh.prototype._transform=function(t,e,n){throw new Error("Not implemented")},mh.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},mh.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},Jc(wh,mh),wh.prototype._transform=function(t,e,n){n(null,t)},Jc(_h,vc),_h.Readable=Wl,_h.Writable=rh,_h.Duplex=ph,_h.Transform=mh,_h.PassThrough=wh,_h.Stream=_h,_h.prototype.pipe=function(t,e){var n=this;function r(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function i(){n.readable&&n.resume&&n.resume()}n.on("data",r),t.on("drain",i),t._isStdio||e&&!1===e.end||(n.on("end",s),n.on("close",a));var o=!1;function s(){o||(o=!0,t.end())}function a(){o||(o=!0,"function"==typeof t.destroy&&t.destroy())}function u(t){if(c(),0===vc.listenerCount(this,"error"))throw t}function c(){n.removeListener("data",r),t.removeListener("drain",i),n.removeListener("end",s),n.removeListener("close",a),n.removeListener("error",u),t.removeListener("error",u),n.removeListener("end",c),n.removeListener("close",c),t.removeListener("close",c)}return n.on("error",u),t.on("error",u),n.on("end",c),n.on("close",c),t.on("close",c),t.emit("pipe",n),t};var Eh=dt(Object.freeze({__proto__:null,Duplex:ph,PassThrough:wh,Readable:Wl,Stream:_h,Transform:mh,Writable:rh,default:_h})),kh=dt(jl),Sh={exports:{}};"function"==typeof Object.create?Sh.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Sh.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}};var Ah=Sh.exports,xh=gc.Buffer,Bh=Eh.Transform,Ch=kh.StringDecoder;function Th(t){Bh.call(this),this.hashMode="string"==typeof t,this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}Ah(Th,Bh),Th.prototype.update=function(t,e,n){"string"==typeof t&&(t=xh.from(t,e));var r=this._update(t);return this.hashMode?this:(n&&(r=this._toString(r,n)),r)},Th.prototype.setAutoPadding=function(){},Th.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},Th.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},Th.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},Th.prototype._transform=function(t,e,n){var r;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(t){r=t}finally{n(r)}},Th.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(t){e=t}t(e)},Th.prototype._finalOrDigest=function(t){var e=this.__final()||xh.alloc(0);return t&&(e=this._toString(e,t,!0)),e},Th.prototype._toString=function(t,e,n){if(this._decoder||(this._decoder=new Ch(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var r=this._decoder.write(t);return n&&(r+=this._decoder.end()),r};var Ih=Th,Mh={},Rh={readUInt32BE:function(t,e){return(t[0+e]<<24|t[1+e]<<16|t[2+e]<<8|t[3+e])>>>0},writeUInt32BE:function(t,e,n){t[0+n]=e>>>24,t[1+n]=e>>>16&255,t[2+n]=e>>>8&255,t[3+n]=255&e},ip:function(t,e,n,r){for(var i=0,o=0,s=6;s>=0;s-=2){for(var a=0;a<=24;a+=8)i<<=1,i|=e>>>a+s&1;for(a=0;a<=24;a+=8)i<<=1,i|=t>>>a+s&1}for(s=6;s>=0;s-=2){for(a=1;a<=25;a+=8)o<<=1,o|=e>>>a+s&1;for(a=1;a<=25;a+=8)o<<=1,o|=t>>>a+s&1}n[r+0]=i>>>0,n[r+1]=o>>>0},rip:function(t,e,n,r){for(var i=0,o=0,s=0;s<4;s++)for(var a=24;a>=0;a-=8)i<<=1,i|=e>>>a+s&1,i<<=1,i|=t>>>a+s&1;for(s=4;s<8;s++)for(a=24;a>=0;a-=8)o<<=1,o|=e>>>a+s&1,o<<=1,o|=t>>>a+s&1;n[r+0]=i>>>0,n[r+1]=o>>>0},pc1:function(t,e,n,r){for(var i=0,o=0,s=7;s>=5;s--){for(var a=0;a<=24;a+=8)i<<=1,i|=e>>a+s&1;for(a=0;a<=24;a+=8)i<<=1,i|=t>>a+s&1}for(a=0;a<=24;a+=8)i<<=1,i|=e>>a+s&1;for(s=1;s<=3;s++){for(a=0;a<=24;a+=8)o<<=1,o|=e>>a+s&1;for(a=0;a<=24;a+=8)o<<=1,o|=t>>a+s&1}for(a=0;a<=24;a+=8)o<<=1,o|=t>>a+s&1;n[r+0]=i>>>0,n[r+1]=o>>>0},r28shl:function(t,e){return t<<e&268435455|t>>>28-e}},Uh=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];Rh.pc2=function(t,e,n,r){for(var i=0,o=0,s=Uh.length>>>1,a=0;a<s;a++)i<<=1,i|=t>>>Uh[a]&1;for(a=s;a<Uh.length;a++)o<<=1,o|=e>>>Uh[a]&1;n[r+0]=i>>>0,n[r+1]=o>>>0},Rh.expand=function(t,e,n){var r=0,i=0;r=(1&t)<<5|t>>>27;for(var o=23;o>=15;o-=4)r<<=6,r|=t>>>o&63;for(o=11;o>=3;o-=4)i|=t>>>o&63,i<<=6;i|=(31&t)<<1|t>>>31,e[n+0]=r>>>0,e[n+1]=i>>>0};var Oh=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];Rh.substitute=function(t,e){for(var n=0,r=0;r<4;r++){n<<=4,n|=Oh[64*r+(t>>>18-6*r&63)]}for(r=0;r<4;r++){n<<=4,n|=Oh[256+64*r+(e>>>18-6*r&63)]}return n>>>0};var Lh=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];Rh.permute=function(t){for(var e=0,n=0;n<Lh.length;n++)e<<=1,e|=t>>>Lh[n]&1;return e>>>0},Rh.padSplit=function(t,e,n){for(var r=t.toString(2);r.length<e;)r="0"+r;for(var i=[],o=0;o<e;o+=n)i.push(r.slice(o,o+n));return i.join(" ")};var Ph=jh;function jh(t,e){if(!t)throw new Error(e||"Assertion failed")}jh.equal=function(t,e,n){if(t!=e)throw new Error(n||"Assertion failed: "+t+" != "+e)};var Dh=Ph;function Nh(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=!1!==t.padding}var Wh=Nh;Nh.prototype._init=function(){},Nh.prototype.update=function(t){return 0===t.length?[]:"decrypt"===this.type?this._updateDecrypt(t):this._updateEncrypt(t)},Nh.prototype._buffer=function(t,e){for(var n=Math.min(this.buffer.length-this.bufferOff,t.length-e),r=0;r<n;r++)this.buffer[this.bufferOff+r]=t[e+r];return this.bufferOff+=n,n},Nh.prototype._flushBuffer=function(t,e){return this._update(this.buffer,0,t,e),this.bufferOff=0,this.blockSize},Nh.prototype._updateEncrypt=function(t){var e=0,n=0,r=(this.bufferOff+t.length)/this.blockSize|0,i=new Array(r*this.blockSize);0!==this.bufferOff&&(e+=this._buffer(t,e),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(i,n)));for(var o=t.length-(t.length-e)%this.blockSize;e<o;e+=this.blockSize)this._update(t,e,i,n),n+=this.blockSize;for(;e<t.length;e++,this.bufferOff++)this.buffer[this.bufferOff]=t[e];return i},Nh.prototype._updateDecrypt=function(t){for(var e=0,n=0,r=Math.ceil((this.bufferOff+t.length)/this.blockSize)-1,i=new Array(r*this.blockSize);r>0;r--)e+=this._buffer(t,e),n+=this._flushBuffer(i,n);return e+=this._buffer(t,e),i},Nh.prototype.final=function(t){var e,n;return t&&(e=this.update(t)),n="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),e?e.concat(n):n},Nh.prototype._pad=function(t,e){if(0===e)return!1;for(;e<t.length;)t[e++]=0;return!0},Nh.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var t=new Array(this.blockSize);return this._update(this.buffer,0,t,0),t},Nh.prototype._unpad=function(t){return t},Nh.prototype._finalDecrypt=function(){Dh.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var t=new Array(this.blockSize);return this._flushBuffer(t,0),this._unpad(t)};var Fh=Ph,zh=Rh,qh=Wh;function Hh(){this.tmp=new Array(2),this.keys=null}function Gh(t){qh.call(this,t);var e=new Hh;this._desState=e,this.deriveKeys(e,t.key)}Ah(Gh,qh);var Vh=Gh;Gh.create=function(t){return new Gh(t)};var Yh=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];Gh.prototype.deriveKeys=function(t,e){t.keys=new Array(32),Fh.equal(e.length,this.blockSize,"Invalid key length");var n=zh.readUInt32BE(e,0),r=zh.readUInt32BE(e,4);zh.pc1(n,r,t.tmp,0),n=t.tmp[0],r=t.tmp[1];for(var i=0;i<t.keys.length;i+=2){var o=Yh[i>>>1];n=zh.r28shl(n,o),r=zh.r28shl(r,o),zh.pc2(n,r,t.keys,i)}},Gh.prototype._update=function(t,e,n,r){var i=this._desState,o=zh.readUInt32BE(t,e),s=zh.readUInt32BE(t,e+4);zh.ip(o,s,i.tmp,0),o=i.tmp[0],s=i.tmp[1],"encrypt"===this.type?this._encrypt(i,o,s,i.tmp,0):this._decrypt(i,o,s,i.tmp,0),o=i.tmp[0],s=i.tmp[1],zh.writeUInt32BE(n,o,r),zh.writeUInt32BE(n,s,r+4)},Gh.prototype._pad=function(t,e){if(!1===this.padding)return!1;for(var n=t.length-e,r=e;r<t.length;r++)t[r]=n;return!0},Gh.prototype._unpad=function(t){if(!1===this.padding)return t;for(var e=t[t.length-1],n=t.length-e;n<t.length;n++)Fh.equal(t[n],e);return t.slice(0,t.length-e)},Gh.prototype._encrypt=function(t,e,n,r,i){for(var o=e,s=n,a=0;a<t.keys.length;a+=2){var u=t.keys[a],c=t.keys[a+1];zh.expand(s,t.tmp,0),u^=t.tmp[0],c^=t.tmp[1];var l=zh.substitute(u,c),h=s;s=(o^zh.permute(l))>>>0,o=h}zh.rip(s,o,r,i)},Gh.prototype._decrypt=function(t,e,n,r,i){for(var o=n,s=e,a=t.keys.length-2;a>=0;a-=2){var u=t.keys[a],c=t.keys[a+1];zh.expand(o,t.tmp,0),u^=t.tmp[0],c^=t.tmp[1];var l=zh.substitute(u,c),h=o;o=(s^zh.permute(l))>>>0,s=h}zh.rip(o,s,r,i)};var $h={},Jh=Ph,Xh=Ah,Kh={};function Qh(t){Jh.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}$h.instantiate=function(t){function e(e){t.call(this,e),this._cbcInit()}Xh(e,t);for(var n=Object.keys(Kh),r=0;r<n.length;r++){var i=n[r];e.prototype[i]=Kh[i]}return e.create=function(t){return new e(t)},e},Kh._cbcInit=function(){var t=new Qh(this.options.iv);this._cbcState=t},Kh._update=function(t,e,n,r){var i=this._cbcState,o=this.constructor.super_.prototype,s=i.iv;if("encrypt"===this.type){for(var a=0;a<this.blockSize;a++)s[a]^=t[e+a];o._update.call(this,s,0,n,r);for(a=0;a<this.blockSize;a++)s[a]=n[r+a]}else{o._update.call(this,t,e,n,r);for(a=0;a<this.blockSize;a++)n[r+a]^=s[a];for(a=0;a<this.blockSize;a++)s[a]=t[e+a]}};var Zh=Ph,tf=Wh,ef=Vh;function nf(t,e){Zh.equal(e.length,24,"Invalid key length");var n=e.slice(0,8),r=e.slice(8,16),i=e.slice(16,24);this.ciphers="encrypt"===t?[ef.create({type:"encrypt",key:n}),ef.create({type:"decrypt",key:r}),ef.create({type:"encrypt",key:i})]:[ef.create({type:"decrypt",key:i}),ef.create({type:"encrypt",key:r}),ef.create({type:"decrypt",key:n})]}function rf(t){tf.call(this,t);var e=new nf(this.type,this.options.key);this._edeState=e}Ah(rf,tf);var of=rf;rf.create=function(t){return new rf(t)},rf.prototype._update=function(t,e,n,r){var i=this._edeState;i.ciphers[0]._update(t,e,n,r),i.ciphers[1]._update(n,r,n,r),i.ciphers[2]._update(n,r,n,r)},rf.prototype._pad=ef.prototype._pad,rf.prototype._unpad=ef.prototype._unpad,Mh.utils=Rh,Mh.Cipher=Wh,Mh.DES=Vh,Mh.CBC=$h,Mh.EDE=of;var sf=Ih,af=Mh,uf=Ah,cf=gc.Buffer,lf={"des-ede3-cbc":af.CBC.instantiate(af.EDE),"des-ede3":af.EDE,"des-ede-cbc":af.CBC.instantiate(af.EDE),"des-ede":af.EDE,"des-cbc":af.CBC.instantiate(af.DES),"des-ecb":af.DES};lf.des=lf["des-cbc"],lf.des3=lf["des-ede3-cbc"];var hf=ff;function ff(t){sf.call(this);var e,n=t.mode.toLowerCase(),r=lf[n];e=t.decrypt?"decrypt":"encrypt";var i=t.key;cf.isBuffer(i)||(i=cf.from(i)),"des-ede"!==n&&"des-ede-cbc"!==n||(i=cf.concat([i,i.slice(0,8)]));var o=t.iv;cf.isBuffer(o)||(o=cf.from(o)),this._des=r.create({key:i,iv:o,type:e})}uf(ff,sf),ff.prototype._update=function(t){return cf.from(this._des.update(t))},ff.prototype._final=function(){return cf.from(this._des.final())};var df={},pf={},gf={encrypt:function(t,e){return t._cipher.encryptBlock(e)},decrypt:function(t,e){return t._cipher.decryptBlock(e)}},yf={},vf=function(t,e){for(var n=Math.min(t.length,e.length),r=new Cu(n),i=0;i<n;++i)r[i]=t[i]^e[i];return r},mf=vf;yf.encrypt=function(t,e){var n=mf(e,t._prev);return t._prev=t._cipher.encryptBlock(n),t._prev},yf.decrypt=function(t,e){var n=t._prev;t._prev=e;var r=t._cipher.decryptBlock(e);return mf(r,n)};var bf={},wf=gc.Buffer,_f=vf;function Ef(t,e,n){var r=e.length,i=_f(e,t._cache);return t._cache=t._cache.slice(r),t._prev=wf.concat([t._prev,n?e:i]),i}bf.encrypt=function(t,e,n){for(var r,i=wf.allocUnsafe(0);e.length;){if(0===t._cache.length&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=wf.allocUnsafe(0)),!(t._cache.length<=e.length)){i=wf.concat([i,Ef(t,e,n)]);break}r=t._cache.length,i=wf.concat([i,Ef(t,e.slice(0,r),n)]),e=e.slice(r)}return i};var kf={},Sf=gc.Buffer;function Af(t,e,n){var r=t._cipher.encryptBlock(t._prev)[0]^e;return t._prev=Sf.concat([t._prev.slice(1),Sf.from([n?e:r])]),r}kf.encrypt=function(t,e,n){for(var r=e.length,i=Sf.allocUnsafe(r),o=-1;++o<r;)i[o]=Af(t,e[o],n);return i};var xf={},Bf=gc.Buffer;function Cf(t,e,n){for(var r,i,o=-1,s=0;++o<8;)r=e&1<<7-o?128:0,s+=(128&(i=t._cipher.encryptBlock(t._prev)[0]^r))>>o%8,t._prev=Tf(t._prev,n?r:i);return s}function Tf(t,e){var n=t.length,r=-1,i=Bf.allocUnsafe(t.length);for(t=Bf.concat([t,Bf.from([e])]);++r<n;)i[r]=t[r]<<1|t[r+1]>>7;return i}xf.encrypt=function(t,e,n){for(var r=e.length,i=Bf.allocUnsafe(r),o=-1;++o<r;)i[o]=Cf(t,e[o],n);return i};var If={},Mf=vf;function Rf(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}If.encrypt=function(t,e){for(;t._cache.length<e.length;)t._cache=Cu.concat([t._cache,Rf(t)]);var n=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),Mf(e,n)};var Uf={};var Of=function(t){for(var e,n=t.length;n--;){if(255!==(e=t.readUInt8(n))){e++,t.writeUInt8(e,n);break}t.writeUInt8(0,n)}},Lf=vf,Pf=gc.Buffer,jf=Of;function Df(t){var e=t._cipher.encryptBlockRaw(t._prev);return jf(t._prev),e}Uf.encrypt=function(t,e){var n=Math.ceil(e.length/16),r=t._cache.length;t._cache=Pf.concat([t._cache,Pf.allocUnsafe(16*n)]);for(var i=0;i<n;i++){var o=Df(t),s=r+16*i;t._cache.writeUInt32BE(o[0],s+0),t._cache.writeUInt32BE(o[1],s+4),t._cache.writeUInt32BE(o[2],s+8),t._cache.writeUInt32BE(o[3],s+12)}var a=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),Lf(e,a)};var Nf={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}},Wf={ECB:gf,CBC:yf,CFB:bf,CFB8:kf,CFB1:xf,OFB:If,CTR:Uf,GCM:Uf},Ff=Nf;for(var zf in Ff)Ff[zf].module=Wf[Ff[zf].mode];var qf=Ff,Hf={},Gf=gc.Buffer;function Vf(t){Gf.isBuffer(t)||(t=Gf.from(t));for(var e=t.length/4|0,n=new Array(e),r=0;r<e;r++)n[r]=t.readUInt32BE(4*r);return n}function Yf(t){for(;0<t.length;t++)t[0]=0}function $f(t,e,n,r,i){for(var o,s,a,u,c=n[0],l=n[1],h=n[2],f=n[3],d=t[0]^e[0],p=t[1]^e[1],g=t[2]^e[2],y=t[3]^e[3],v=4,m=1;m<i;m++)o=c[d>>>24]^l[p>>>16&255]^h[g>>>8&255]^f[255&y]^e[v++],s=c[p>>>24]^l[g>>>16&255]^h[y>>>8&255]^f[255&d]^e[v++],a=c[g>>>24]^l[y>>>16&255]^h[d>>>8&255]^f[255&p]^e[v++],u=c[y>>>24]^l[d>>>16&255]^h[p>>>8&255]^f[255&g]^e[v++],d=o,p=s,g=a,y=u;return o=(r[d>>>24]<<24|r[p>>>16&255]<<16|r[g>>>8&255]<<8|r[255&y])^e[v++],s=(r[p>>>24]<<24|r[g>>>16&255]<<16|r[y>>>8&255]<<8|r[255&d])^e[v++],a=(r[g>>>24]<<24|r[y>>>16&255]<<16|r[d>>>8&255]<<8|r[255&p])^e[v++],u=(r[y>>>24]<<24|r[d>>>16&255]<<16|r[p>>>8&255]<<8|r[255&g])^e[v++],[o>>>=0,s>>>=0,a>>>=0,u>>>=0]}var Jf=[0,1,2,4,8,16,32,64,128,27,54],Xf=function(){for(var t=new Array(256),e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;for(var n=[],r=[],i=[[],[],[],[]],o=[[],[],[],[]],s=0,a=0,u=0;u<256;++u){var c=a^a<<1^a<<2^a<<3^a<<4;c=c>>>8^255&c^99,n[s]=c,r[c]=s;var l=t[s],h=t[l],f=t[h],d=257*t[c]^16843008*c;i[0][s]=d<<24|d>>>8,i[1][s]=d<<16|d>>>16,i[2][s]=d<<8|d>>>24,i[3][s]=d,d=16843009*f^65537*h^257*l^16843008*s,o[0][c]=d<<24|d>>>8,o[1][c]=d<<16|d>>>16,o[2][c]=d<<8|d>>>24,o[3][c]=d,0===s?s=a=1:(s=l^t[t[t[f^l]]],a^=t[t[a]])}return{SBOX:n,INV_SBOX:r,SUB_MIX:i,INV_SUB_MIX:o}}();function Kf(t){this._key=Vf(t),this._reset()}Kf.blockSize=16,Kf.keySize=32,Kf.prototype.blockSize=Kf.blockSize,Kf.prototype.keySize=Kf.keySize,Kf.prototype._reset=function(){for(var t=this._key,e=t.length,n=e+6,r=4*(n+1),i=[],o=0;o<e;o++)i[o]=t[o];for(o=e;o<r;o++){var s=i[o-1];o%e==0?(s=s<<8|s>>>24,s=Xf.SBOX[s>>>24]<<24|Xf.SBOX[s>>>16&255]<<16|Xf.SBOX[s>>>8&255]<<8|Xf.SBOX[255&s],s^=Jf[o/e|0]<<24):e>6&&o%e==4&&(s=Xf.SBOX[s>>>24]<<24|Xf.SBOX[s>>>16&255]<<16|Xf.SBOX[s>>>8&255]<<8|Xf.SBOX[255&s]),i[o]=i[o-e]^s}for(var a=[],u=0;u<r;u++){var c=r-u,l=i[c-(u%4?0:4)];a[u]=u<4||c<=4?l:Xf.INV_SUB_MIX[0][Xf.SBOX[l>>>24]]^Xf.INV_SUB_MIX[1][Xf.SBOX[l>>>16&255]]^Xf.INV_SUB_MIX[2][Xf.SBOX[l>>>8&255]]^Xf.INV_SUB_MIX[3][Xf.SBOX[255&l]]}this._nRounds=n,this._keySchedule=i,this._invKeySchedule=a},Kf.prototype.encryptBlockRaw=function(t){return $f(t=Vf(t),this._keySchedule,Xf.SUB_MIX,Xf.SBOX,this._nRounds)},Kf.prototype.encryptBlock=function(t){var e=this.encryptBlockRaw(t),n=Gf.allocUnsafe(16);return n.writeUInt32BE(e[0],0),n.writeUInt32BE(e[1],4),n.writeUInt32BE(e[2],8),n.writeUInt32BE(e[3],12),n},Kf.prototype.decryptBlock=function(t){var e=(t=Vf(t))[1];t[1]=t[3],t[3]=e;var n=$f(t,this._invKeySchedule,Xf.INV_SUB_MIX,Xf.INV_SBOX,this._nRounds),r=Gf.allocUnsafe(16);return r.writeUInt32BE(n[0],0),r.writeUInt32BE(n[3],4),r.writeUInt32BE(n[2],8),r.writeUInt32BE(n[1],12),r},Kf.prototype.scrub=function(){Yf(this._keySchedule),Yf(this._invKeySchedule),Yf(this._key)},Hf.AES=Kf;var Qf=gc.Buffer,Zf=Qf.alloc(16,0);function td(t){var e=Qf.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}function ed(t){this.h=t,this.state=Qf.alloc(16,0),this.cache=Qf.allocUnsafe(0)}ed.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()},ed.prototype._multiply=function(){for(var t,e,n,r=[(t=this.h).readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)],i=[0,0,0,0],o=-1;++o<128;){for(0!=(this.state[~~(o/8)]&1<<7-o%8)&&(i[0]^=r[0],i[1]^=r[1],i[2]^=r[2],i[3]^=r[3]),n=0!=(1&r[3]),e=3;e>0;e--)r[e]=r[e]>>>1|(1&r[e-1])<<31;r[0]=r[0]>>>1,n&&(r[0]=r[0]^225<<24)}this.state=td(i)},ed.prototype.update=function(t){var e;for(this.cache=Qf.concat([this.cache,t]);this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)},ed.prototype.final=function(t,e){return this.cache.length&&this.ghash(Qf.concat([this.cache,Zf],16)),this.ghash(td([0,t,0,e])),this.state};var nd=ed,rd=Hf,id=gc.Buffer,od=Ih,sd=nd,ad=vf,ud=Of;function cd(t,e,n,r){od.call(this);var i=id.alloc(4,0);this._cipher=new rd.AES(e);var o=this._cipher.encryptBlock(i);this._ghash=new sd(o),n=function(t,e,n){if(12===e.length)return t._finID=id.concat([e,id.from([0,0,0,1])]),id.concat([e,id.from([0,0,0,2])]);var r=new sd(n),i=e.length,o=i%16;r.update(e),o&&(o=16-o,r.update(id.alloc(o,0))),r.update(id.alloc(8,0));var s=8*i,a=id.alloc(8);a.writeUIntBE(s,0,8),r.update(a),t._finID=r.state;var u=id.from(t._finID);return ud(u),u}(this,n,o),this._prev=id.from(n),this._cache=id.allocUnsafe(0),this._secCache=id.allocUnsafe(0),this._decrypt=r,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}Ah(cd,od),cd.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=id.alloc(e,0),this._ghash.update(e))}this._called=!0;var n=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(n),this._len+=t.length,n},cd.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=ad(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(t,e){var n=0;t.length!==e.length&&n++;for(var r=Math.min(t.length,e.length),i=0;i<r;++i)n+=t[i]^e[i];return n}(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()},cd.prototype.getAuthTag=function(){if(this._decrypt||!id.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},cd.prototype.setAuthTag=function(t){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=t},cd.prototype.setAAD=function(t){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(t),this._alen+=t.length};var ld=cd,hd=Hf,fd=gc.Buffer,dd=Ih;function pd(t,e,n,r){dd.call(this),this._cipher=new hd.AES(e),this._prev=fd.from(n),this._cache=fd.allocUnsafe(0),this._secCache=fd.allocUnsafe(0),this._decrypt=r,this._mode=t}Ah(pd,dd),pd.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)},pd.prototype._final=function(){this._cipher.scrub()};var gd,yd,vd=pd,md={exports:{}},bd=dt(kc);function wd(){return yd?gd:(yd=1,gd=bd.EventEmitter)}var _d,Ed,kd,Sd,Ad=dt(Il);function xd(){if(Ed)return _d;function t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function e(e){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?t(Object(i),!0).forEach((function(t){n(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function n(t,e,n){return(e=i(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i(r.key),r)}}function i(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}Ed=1;var o=pc.Buffer,s=Ad.inspect,a=s&&s.custom||"inspect";return _d=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}var n,i,u;return n=t,i=[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n}},{key:"concat",value:function(t){if(0===this.length)return o.alloc(0);for(var e,n,r,i=o.allocUnsafe(t>>>0),s=this.head,a=0;s;)e=s.data,n=i,r=a,o.prototype.copy.call(e,n,r),a+=s.data.length,s=s.next;return i}},{key:"consume",value:function(t,e){var n;return t<this.head.data.length?(n=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):n=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,n=1,r=e.data;for(t-=r.length;e=e.next;){var i=e.data,o=t>i.length?i.length:t;if(o===i.length?r+=i:r+=i.slice(0,t),0==(t-=o)){o===i.length?(++n,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e,e.data=i.slice(o));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(t){var e=o.allocUnsafe(t),n=this.head,r=1;for(n.data.copy(e),t-=n.data.length;n=n.next;){var i=n.data,s=t>i.length?i.length:t;if(i.copy(e,e.length-t,0,s),0==(t-=s)){s===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(s));break}++r}return this.length-=r,e}},{key:a,value:function(t,n){return s(this,e(e({},n),{},{depth:0,customInspect:!1}))}}],i&&r(n.prototype,i),u&&r(n,u),Object.defineProperty(n,"prototype",{writable:!1}),t}(),_d}function Bd(){if(Sd)return kd;function t(t,r){n(t,r),e(t)}function e(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function n(t,e){t.emit("error",e)}return Sd=1,kd={destroy:function(r,i){var o=this,s=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return s||a?(i?i(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Lc(n,this,r)):Lc(n,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,(function(n){!i&&n?o._writableState?o._writableState.errorEmitted?Lc(e,o):(o._writableState.errorEmitted=!0,Lc(t,o,n)):Lc(t,o,n):i?(Lc(e,o),i(n)):Lc(e,o)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,e){var n=t._readableState,r=t._writableState;n&&n.autoDestroy||r&&r.autoDestroy?t.destroy(e):t.emit("error",e)}},kd}var Cd,Td,Id,Md,Rd,Ud,Od,Ld,Pd,jd={};function Dd(){if(Cd)return jd;Cd=1;var t={};function e(e,n,r){r||(r=Error);var i=function(t){var e,r;function i(e,r,i){return t.call(this,function(t,e,r){return"string"==typeof n?n:n(t,e,r)}(e,r,i))||this}return r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,i}(r);i.prototype.name=r.name,i.prototype.code=e,t[e]=i}function n(t,e){if(Array.isArray(t)){var n=t.length;return t=t.map((function(t){return String(t)})),n>2?"one of ".concat(e," ").concat(t.slice(0,n-1).join(", "),", or ")+t[n-1]:2===n?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}return e("ERR_INVALID_OPT_VALUE",(function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'}),TypeError),e("ERR_INVALID_ARG_TYPE",(function(t,e,r){var i,o,s,a;if("string"==typeof e&&(o="not ",e.substr(!s||s<0?0:+s,o.length)===o)?(i="must not be",e=e.replace(/^not /,"")):i="must be",function(t,e,n){return(void 0===n||n>t.length)&&(n=t.length),t.substring(n-e.length,n)===e}(t," argument"))a="The ".concat(t," ").concat(i," ").concat(n(e,"type"));else{var u=function(t,e,n){return"number"!=typeof n&&(n=0),!(n+e.length>t.length)&&-1!==t.indexOf(e,n)}(t,".")?"property":"argument";a='The "'.concat(t,'" ').concat(u," ").concat(i," ").concat(n(e,"type"))}return a+=". Received type ".concat(typeof r)}),TypeError),e("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),e("ERR_METHOD_NOT_IMPLEMENTED",(function(t){return"The "+t+" method is not implemented"})),e("ERR_STREAM_PREMATURE_CLOSE","Premature close"),e("ERR_STREAM_DESTROYED",(function(t){return"Cannot call "+t+" after a stream was destroyed"})),e("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),e("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),e("ERR_STREAM_WRITE_AFTER_END","write after end"),e("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),e("ERR_UNKNOWN_ENCODING",(function(t){return"Unknown encoding: "+t}),TypeError),e("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),jd.codes=t,jd}function Nd(){if(Id)return Td;Id=1;var t=Dd().codes.ERR_INVALID_OPT_VALUE;return Td={getHighWaterMark:function(e,n,r,i){var o=function(t,e,n){return null!=t.highWaterMark?t.highWaterMark:e?t[n]:null}(n,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new t(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}}function Wd(){if(Rd)return Md;function t(t){try{if(!ht.localStorage)return!1}catch(t){return!1}var e=ht.localStorage[t];return null!=e&&"true"===String(e).toLowerCase()}return Rd=1,Md=function(e,n){if(t("noDeprecation"))return e;var r=!1;return function(){if(!r){if(t("throwDeprecation"))throw new Error(n);t("traceDeprecation")?console.trace(n):console.warn(n),r=!0}return e.apply(this,arguments)}},Md}function Fd(){if(Od)return Ud;function t(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var r=t.entry;t.entry=null;for(;r;){var i=r.callback;e.pendingcb--,i(n),r=r.next}e.corkedRequestsFree.next=t}(e,t)}}var e;Od=1,Ud=_,_.WritableState=w;var n={deprecate:Wd()},r=wd(),i=pc.Buffer,o=(void 0!==ht?ht:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var s,a=Bd(),u=Nd().getHighWaterMark,c=Dd().codes,l=c.ERR_INVALID_ARG_TYPE,h=c.ERR_METHOD_NOT_IMPLEMENTED,f=c.ERR_MULTIPLE_CALLBACK,d=c.ERR_STREAM_CANNOT_PIPE,p=c.ERR_STREAM_DESTROYED,g=c.ERR_STREAM_NULL_VALUES,y=c.ERR_STREAM_WRITE_AFTER_END,v=c.ERR_UNKNOWN_ENCODING,m=a.errorOrDestroy;function b(){}function w(n,r,i){e=e||zd(),n=n||{},"boolean"!=typeof i&&(i=r instanceof e),this.objectMode=!!n.objectMode,i&&(this.objectMode=this.objectMode||!!n.writableObjectMode),this.highWaterMark=u(this,n,"writableHighWaterMark",i),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===n.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=n.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,r=n.sync,i=n.writecb;if("function"!=typeof i)throw new f;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,r,i){--e.pendingcb,n?(Lc(i,r),Lc(B,t,e),t._writableState.errorEmitted=!0,m(t,r)):(i(r),t._writableState.errorEmitted=!0,m(t,r),B(t,e))}(t,n,r,e,i);else{var o=A(n)||t.destroyed;o||n.corked||n.bufferProcessing||!n.bufferedRequest||S(t,n),r?Lc(k,t,n,o,i):k(t,n,o,i)}}(r,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==n.emitClose,this.autoDestroy=!!n.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}function _(t){var n=this instanceof(e=e||zd());if(!n&&!s.call(_,this))return new _(t);this._writableState=new w(t,this,n),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),r.call(this)}function E(t,e,n,r,i,o,s){e.writelen=r,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new p("write")):n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function k(t,e,n,r){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,r(),B(t,e)}function S(e,n){n.bufferProcessing=!0;var r=n.bufferedRequest;if(e._writev&&r&&r.next){var i=n.bufferedRequestCount,o=new Array(i),s=n.corkedRequestsFree;s.entry=r;for(var a=0,u=!0;r;)o[a]=r,r.isBuf||(u=!1),r=r.next,a+=1;o.allBuffers=u,E(e,n,!0,n.length,o,"",s.finish),n.pendingcb++,n.lastBufferedRequest=null,s.next?(n.corkedRequestsFree=s.next,s.next=null):n.corkedRequestsFree=new t(n),n.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,h=r.callback;if(E(e,n,!1,n.objectMode?1:c.length,c,l,h),r=r.next,n.bufferedRequestCount--,n.writing)break}null===r&&(n.lastBufferedRequest=null)}n.bufferedRequest=r,n.bufferProcessing=!1}function A(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function x(t,e){t._final((function(n){e.pendingcb--,n&&m(t,n),e.prefinished=!0,t.emit("prefinish"),B(t,e)}))}function B(t,e){var n=A(e);if(n&&(function(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,Lc(x,t,e)))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var r=t._readableState;(!r||r.autoDestroy&&r.endEmitted)&&t.destroy()}return n}return Ah(_,r),w.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(w.prototype,"buffer",{get:n.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(_,Symbol.hasInstance,{value:function(t){return!!s.call(this,t)||this===_&&(t&&t._writableState instanceof w)}})):s=function(t){return t instanceof this},_.prototype.pipe=function(){m(this,new d)},_.prototype.write=function(t,e,n){var r,s=this._writableState,a=!1,u=!s.objectMode&&(r=t,i.isBuffer(r)||r instanceof o);return u&&!i.isBuffer(t)&&(t=function(t){return i.from(t)}(t)),"function"==typeof e&&(n=e,e=null),u?e="buffer":e||(e=s.defaultEncoding),"function"!=typeof n&&(n=b),s.ending?function(t,e){var n=new y;m(t,n),Lc(e,n)}(this,n):(u||function(t,e,n,r){var i;return null===n?i=new g:"string"==typeof n||e.objectMode||(i=new l("chunk",["string","Buffer"],n)),!i||(m(t,i),Lc(r,i),!1)}(this,s,t,n))&&(s.pendingcb++,a=function(t,e,n,r,o,s){if(!n){var a=function(t,e,n){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=i.from(e,n));return e}(e,r,o);r!==a&&(n=!0,o="buffer",r=a)}var u=e.objectMode?1:r.length;e.length+=u;var c=e.length<e.highWaterMark;c||(e.needDrain=!0);if(e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:o,isBuf:n,callback:s,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else E(t,e,!1,u,r,o,s);return c}(this,s,u,t,e,n)),a},_.prototype.cork=function(){this._writableState.corked++},_.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||S(this,t))},_.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new v(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(_.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(_.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),_.prototype._write=function(t,e,n){n(new h("_write()"))},_.prototype._writev=null,_.prototype.end=function(t,e,n){var r=this._writableState;return"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||function(t,e,n){e.ending=!0,B(t,e),n&&(e.finished?Lc(n):t.once("finish",n));e.ended=!0,t.writable=!1}(this,r,n),this},Object.defineProperty(_.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(_.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),_.prototype.destroy=a.destroy,_.prototype._undestroy=a.undestroy,_.prototype._destroy=function(t,e){e(t)},Ud}function zd(){if(Pd)return Ld;Pd=1;var t=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};Ld=s;var e=cp(),n=Fd();Ah(s,e);for(var r=t(n.prototype),i=0;i<r.length;i++){var o=r[i];s.prototype[o]||(s.prototype[o]=n.prototype[o])}function s(t){if(!(this instanceof s))return new s(t);e.call(this,t),n.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",a)))}function a(){this._writableState.ended||Lc(u,this)}function u(t){t.end()}return Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),Ld}var qd,Hd,Gd,Vd,Yd,$d,Jd,Xd,Kd,Qd,Zd,tp,ep,np,rp,ip,op={};function sp(){if(qd)return op;qd=1;var t=gc.Buffer,e=t.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(n){var r;switch(this.encoding=function(n){var r=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(n);if("string"!=typeof r&&(t.isEncoding===e||!e(n)))throw new Error("Unknown encoding: "+n);return r||n}(n),this.encoding){case"utf16le":this.text=o,this.end=s,r=4;break;case"utf8":this.fillLast=i,r=4;break;case"base64":this.text=a,this.end=u,r=3;break;default:return this.write=c,void(this.end=l)}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(r)}function r(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function i(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,""}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function o(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function s(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function a(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function u(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function c(t){return t.toString(this.encoding)}function l(t){return t&&t.length?this.write(t):""}return op.StringDecoder=n,n.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},n.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e},n.prototype.text=function(t,e){var n=function(t,e,n){var i=e.length-1;if(i<n)return 0;var o=r(e[i]);if(o>=0)return o>0&&(t.lastNeed=o-1),o;if(--i<n||-2===o)return 0;if(o=r(e[i]),o>=0)return o>0&&(t.lastNeed=o-2),o;if(--i<n||-2===o)return 0;if(o=r(e[i]),o>=0)return o>0&&(2===o?o=0:t.lastNeed=o-3),o;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var i=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)},n.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length},op}function ap(){if(Gd)return Hd;Gd=1;var t=Dd().codes.ERR_STREAM_PREMATURE_CLOSE;function e(){}return Hd=function n(r,i,o){if("function"==typeof i)return n(r,null,i);i||(i={}),o=function(t){var e=!1;return function(){if(!e){e=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.apply(this,r)}}}(o||e);var s=i.readable||!1!==i.readable&&r.readable,a=i.writable||!1!==i.writable&&r.writable,u=function(){r.writable||l()},c=r._writableState&&r._writableState.finished,l=function(){a=!1,c=!0,s||o.call(r)},h=r._readableState&&r._readableState.endEmitted,f=function(){s=!1,h=!0,a||o.call(r)},d=function(t){o.call(r,t)},p=function(){var e;return s&&!h?(r._readableState&&r._readableState.ended||(e=new t),o.call(r,e)):a&&!c?(r._writableState&&r._writableState.ended||(e=new t),o.call(r,e)):void 0},g=function(){r.req.on("finish",l)};return!function(t){return t.setHeader&&"function"==typeof t.abort}(r)?a&&!r._writableState&&(r.on("end",u),r.on("close",u)):(r.on("complete",l),r.on("abort",p),r.req?g():r.on("request",g)),r.on("end",f),r.on("finish",l),!1!==i.error&&r.on("error",d),r.on("close",p),function(){r.removeListener("complete",l),r.removeListener("abort",p),r.removeListener("request",g),r.req&&r.req.removeListener("finish",l),r.removeListener("end",u),r.removeListener("close",u),r.removeListener("finish",l),r.removeListener("end",f),r.removeListener("error",d),r.removeListener("close",p)}},Hd}function up(){if(Yd)return Vd;var t;function e(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Yd=1;var n=ap(),r=Symbol("lastResolve"),i=Symbol("lastReject"),o=Symbol("error"),s=Symbol("ended"),a=Symbol("lastPromise"),u=Symbol("handlePromise"),c=Symbol("stream");function l(t,e){return{value:t,done:e}}function h(t){var e=t[r];if(null!==e){var n=t[c].read();null!==n&&(t[a]=null,t[r]=null,t[i]=null,e(l(n,!1)))}}function f(t){Lc(h,t)}var d=Object.getPrototypeOf((function(){})),p=Object.setPrototypeOf((t={get stream(){return this[c]},next:function(){var t=this,e=this[o];if(null!==e)return Promise.reject(e);if(this[s])return Promise.resolve(l(void 0,!0));if(this[c].destroyed)return new Promise((function(e,n){Lc((function(){t[o]?n(t[o]):e(l(void 0,!0))}))}));var n,r=this[a];if(r)n=new Promise(function(t,e){return function(n,r){t.then((function(){e[s]?n(l(void 0,!0)):e[u](n,r)}),r)}}(r,this));else{var i=this[c].read();if(null!==i)return Promise.resolve(l(i,!1));n=new Promise(this[u])}return this[a]=n,n}},e(t,Symbol.asyncIterator,(function(){return this})),e(t,"return",(function(){var t=this;return new Promise((function(e,n){t[c].destroy(null,(function(t){t?n(t):e(l(void 0,!0))}))}))})),t),d);return Vd=function(t){var h,d=Object.create(p,(e(h={},c,{value:t,writable:!0}),e(h,r,{value:null,writable:!0}),e(h,i,{value:null,writable:!0}),e(h,o,{value:null,writable:!0}),e(h,s,{value:t._readableState.endEmitted,writable:!0}),e(h,u,{value:function(t,e){var n=d[c].read();n?(d[a]=null,d[r]=null,d[i]=null,t(l(n,!1))):(d[r]=t,d[i]=e)},writable:!0}),h));return d[a]=null,n(t,(function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=d[i];return null!==e&&(d[a]=null,d[r]=null,d[i]=null,e(t)),void(d[o]=t)}var n=d[r];null!==n&&(d[a]=null,d[r]=null,d[i]=null,n(l(void 0,!0))),d[s]=!0})),t.on("readable",f.bind(null,d)),d},Vd}function cp(){if(Kd)return Xd;var t;Kd=1,Xd=_,_.ReadableState=w,bd.EventEmitter;var e=function(t,e){return t.listeners(e).length},n=wd(),r=pc.Buffer,i=(void 0!==ht?ht:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var o,s=Ad;o=s&&s.debuglog?s.debuglog("stream"):function(){};var a,u,c,l=xd(),h=Bd(),f=Nd().getHighWaterMark,d=Dd().codes,p=d.ERR_INVALID_ARG_TYPE,g=d.ERR_STREAM_PUSH_AFTER_EOF,y=d.ERR_METHOD_NOT_IMPLEMENTED,v=d.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;Ah(_,n);var m=h.errorOrDestroy,b=["error","close","destroy","pause","resume"];function w(e,n,r){t=t||zd(),e=e||{},"boolean"!=typeof r&&(r=n instanceof t),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=f(this,e,"readableHighWaterMark",r),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(a||(a=sp().StringDecoder),this.decoder=new a(e.encoding),this.encoding=e.encoding)}function _(e){if(t=t||zd(),!(this instanceof _))return new _(e);var r=this instanceof t;this._readableState=new w(e,this,r),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),n.call(this)}function E(t,e,n,s,a){o("readableAddChunk",e);var u,c=t._readableState;if(null===e)c.reading=!1,function(t,e){if(o("onEofChunk"),e.ended)return;if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,e.sync?x(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,B(t)))}(t,c);else if(a||(u=function(t,e){var n;o=e,r.isBuffer(o)||o instanceof i||"string"==typeof e||void 0===e||t.objectMode||(n=new p("chunk",["string","Buffer","Uint8Array"],e));var o;return n}(c,e)),u)m(t,u);else if(c.objectMode||e&&e.length>0)if("string"==typeof e||c.objectMode||Object.getPrototypeOf(e)===r.prototype||(e=function(t){return r.from(t)}(e)),s)c.endEmitted?m(t,new v):k(t,c,e,!0);else if(c.ended)m(t,new g);else{if(c.destroyed)return!1;c.reading=!1,c.decoder&&!n?(e=c.decoder.write(e),c.objectMode||0!==e.length?k(t,c,e,!1):C(t,c)):k(t,c,e,!1)}else s||(c.reading=!1,C(t,c));return!c.ended&&(c.length<c.highWaterMark||0===c.length)}function k(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",n)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&x(t)),C(t,e)}Object.defineProperty(_.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),_.prototype.destroy=h.destroy,_.prototype._undestroy=h.undestroy,_.prototype._destroy=function(t,e){e(t)},_.prototype.push=function(t,e){var n,i=this._readableState;return i.objectMode?n=!0:"string"==typeof t&&((e=e||i.defaultEncoding)!==i.encoding&&(t=r.from(t,e),e=""),n=!0),E(this,t,e,!1,n)},_.prototype.unshift=function(t){return E(this,t,null,!0,!1)},_.prototype.isPaused=function(){return!1===this._readableState.flowing},_.prototype.setEncoding=function(t){a||(a=sp().StringDecoder);var e=new a(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,r="";null!==n;)r+=e.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==r&&this._readableState.buffer.push(r),this._readableState.length=r.length,this};var S=1073741824;function A(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=S?t=S:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function x(t){var e=t._readableState;o("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(o("emitReadable",e.flowing),e.emittedReadable=!0,Lc(B,t))}function B(t){var e=t._readableState;o("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,U(t)}function C(t,e){e.readingMore||(e.readingMore=!0,Lc(T,t,e))}function T(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var n=e.length;if(o("maybeReadMore read 0"),t.read(0),n===e.length)break}e.readingMore=!1}function I(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function M(t){o("readable nexttick read 0"),t.read(0)}function R(t,e){o("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),U(t),e.flowing&&!e.reading&&t.read(0)}function U(t){var e=t._readableState;for(o("flow",e.flowing);e.flowing&&null!==t.read(););}function O(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):n=e.buffer.consume(t,e.decoder),n);var n}function L(t){var e=t._readableState;o("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,Lc(P,e,t))}function P(t,e){if(o("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var n=e._writableState;(!n||n.autoDestroy&&n.finished)&&e.destroy()}}function j(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}return _.prototype.read=function(t){o("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return o("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?L(this):x(this),null;if(0===(t=A(t,e))&&e.ended)return 0===e.length&&L(this),null;var r,i=e.needReadable;return o("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&o("length less than watermark",i=!0),e.ended||e.reading?o("reading or ended",i=!1):i&&(o("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=A(n,e))),null===(r=t>0?O(t,e):null)?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&L(this)),null!==r&&this.emit("data",r),r},_.prototype._read=function(t){m(this,new y("_read()"))},_.prototype.pipe=function(t,n){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t)}i.pipesCount+=1,o("pipe count=%d opts=%j",i.pipesCount,n);var s=(!n||!1!==n.end)&&t!==$c.stdout&&t!==$c.stderr?u:g;function a(e,n){o("onunpipe"),e===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,o("cleanup"),t.removeListener("close",d),t.removeListener("finish",p),t.removeListener("drain",c),t.removeListener("error",f),t.removeListener("unpipe",a),r.removeListener("end",u),r.removeListener("end",g),r.removeListener("data",h),l=!0,!i.awaitDrain||t._writableState&&!t._writableState.needDrain||c())}function u(){o("onend"),t.end()}i.endEmitted?Lc(s):r.once("end",s),t.on("unpipe",a);var c=function(t){return function(){var n=t._readableState;o("pipeOnDrain",n.awaitDrain),n.awaitDrain&&n.awaitDrain--,0===n.awaitDrain&&e(t,"data")&&(n.flowing=!0,U(t))}}(r);t.on("drain",c);var l=!1;function h(e){o("ondata");var n=t.write(e);o("dest.write",n),!1===n&&((1===i.pipesCount&&i.pipes===t||i.pipesCount>1&&-1!==j(i.pipes,t))&&!l&&(o("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function f(n){o("onerror",n),g(),t.removeListener("error",f),0===e(t,"error")&&m(t,n)}function d(){t.removeListener("finish",p),g()}function p(){o("onfinish"),t.removeListener("close",d),g()}function g(){o("unpipe"),r.unpipe(t)}return r.on("data",h),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",f),t.once("close",d),t.once("finish",p),t.emit("pipe",r),i.flowing||(o("pipe resume"),r.resume()),t},_.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n)),this;if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=j(e.pipes,t);return-1===s||(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n)),this},_.prototype.on=function(t,e){var r=n.prototype.on.call(this,t,e),i=this._readableState;return"data"===t?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===t&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,o("on readable",i.length,i.reading),i.length?x(this):i.reading||Lc(M,this))),r},_.prototype.addListener=_.prototype.on,_.prototype.removeListener=function(t,e){var r=n.prototype.removeListener.call(this,t,e);return"readable"===t&&Lc(I,this),r},_.prototype.removeAllListeners=function(t){var e=n.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||Lc(I,this),e},_.prototype.resume=function(){var t=this._readableState;return t.flowing||(o("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,Lc(R,t,e))}(this,t)),t.paused=!1,this},_.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},_.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;for(var i in t.on("end",(function(){if(o("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){(o("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(e.push(i)||(r=!0,t.pause()))})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var s=0;s<b.length;s++)t.on(b[s],this.emit.bind(this,b[s]));return this._read=function(e){o("wrapped _read",e),r&&(r=!1,t.resume())},this},"function"==typeof Symbol&&(_.prototype[Symbol.asyncIterator]=function(){return void 0===u&&(u=up()),u(this)}),Object.defineProperty(_.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(_.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(_.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),_._fromList=O,Object.defineProperty(_.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(_.from=function(t,e){return void 0===c&&(c=Jd?$d:(Jd=1,$d=function(){throw new Error("Readable.from is not available in the browser")})),c(_,t,e)}),Xd}function lp(){if(Zd)return Qd;Zd=1,Qd=a;var t=Dd().codes,e=t.ERR_METHOD_NOT_IMPLEMENTED,n=t.ERR_MULTIPLE_CALLBACK,r=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=t.ERR_TRANSFORM_WITH_LENGTH_0,o=zd();function s(t,e){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(null===i)return this.emit("error",new n);r.writechunk=null,r.writecb=null,null!=e&&this.push(e),i(t);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function a(t){if(!(this instanceof a))return new a(t);o.call(this,t),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",u)}function u(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?c(this,null,null):this._flush((function(e,n){c(t,e,n)}))}function c(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new i;if(t._transformState.transforming)throw new r;return t.push(null)}return Ah(a,o),a.prototype.push=function(t,e){return this._transformState.needTransform=!1,o.prototype.push.call(this,t,e)},a.prototype._transform=function(t,n,r){r(new e("_transform()"))},a.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},a.prototype._destroy=function(t,e){o.prototype._destroy.call(this,t,(function(t){e(t)}))},Qd}function hp(){if(rp)return np;var t;rp=1;var e=Dd().codes,n=e.ERR_MISSING_ARGS,r=e.ERR_STREAM_DESTROYED;function i(t){if(t)throw t}function o(t){t()}function s(t,e){return t.pipe(e)}return np=function(){for(var e=arguments.length,a=new Array(e),u=0;u<e;u++)a[u]=arguments[u];var c,l=function(t){return t.length?"function"!=typeof t[t.length-1]?i:t.pop():i}(a);if(Array.isArray(a[0])&&(a=a[0]),a.length<2)throw new n("streams");var h=a.map((function(e,n){var i=n<a.length-1;return function(e,n,i,o){o=function(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}(o);var s=!1;e.on("close",(function(){s=!0})),void 0===t&&(t=ap()),t(e,{readable:n,writable:i},(function(t){if(t)return o(t);s=!0,o()}));var a=!1;return function(t){if(!s&&!a)return a=!0,function(t){return t.setHeader&&"function"==typeof t.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new r("pipe"))}}(e,i,n>0,(function(t){c||(c=t),t&&h.forEach(o),i||(h.forEach(o),l(c))}))}));return a.reduce(s)},np}function fp(){return ip||(ip=1,t=md.exports,(t=md.exports=cp()).Stream=t,t.Readable=t,t.Writable=Fd(),t.Duplex=zd(),t.Transform=lp(),t.PassThrough=function(){if(ep)return tp;ep=1,tp=e;var t=lp();function e(n){if(!(this instanceof e))return new e(n);t.call(this,n)}return Ah(e,t),e.prototype._transform=function(t,e,n){n(null,t)},tp}(),t.finished=ap(),t.pipeline=hp()),md.exports;var t}var dp=gc.Buffer,pp=fp().Transform;function gp(t){pp.call(this),this._block=dp.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}Ah(gp,pp),gp.prototype._transform=function(t,e,n){var r=null;try{this.update(t,e)}catch(t){r=t}n(r)},gp.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(t){e=t}t(e)},gp.prototype.update=function(t,e){if(function(t,e){if(!dp.isBuffer(t)&&"string"!=typeof t)throw new TypeError(e+" must be a string or a buffer")}(t,"Data"),this._finalized)throw new Error("Digest already called");dp.isBuffer(t)||(t=dp.from(t,e));for(var n=this._block,r=0;this._blockOffset+t.length-r>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)n[i++]=t[r++];this._update(),this._blockOffset=0}for(;r<t.length;)n[this._blockOffset++]=t[r++];for(var o=0,s=8*t.length;s>0;++o)this._length[o]+=s,(s=this._length[o]/4294967296|0)>0&&(this._length[o]-=4294967296*s);return this},gp.prototype._update=function(){throw new Error("_update is not implemented")},gp.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();void 0!==t&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return e},gp.prototype._digest=function(){throw new Error("_digest is not implemented")};var yp=gp,vp=Ah,mp=yp,bp=gc.Buffer,wp=new Array(16);function _p(){mp.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function Ep(t,e){return t<<e|t>>>32-e}function kp(t,e,n,r,i,o,s){return Ep(t+(e&n|~e&r)+i+o|0,s)+e|0}function Sp(t,e,n,r,i,o,s){return Ep(t+(e&r|n&~r)+i+o|0,s)+e|0}function Ap(t,e,n,r,i,o,s){return Ep(t+(e^n^r)+i+o|0,s)+e|0}function xp(t,e,n,r,i,o,s){return Ep(t+(n^(e|~r))+i+o|0,s)+e|0}vp(_p,mp),_p.prototype._update=function(){for(var t=wp,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);var n=this._a,r=this._b,i=this._c,o=this._d;n=kp(n,r,i,o,t[0],3614090360,7),o=kp(o,n,r,i,t[1],3905402710,12),i=kp(i,o,n,r,t[2],606105819,17),r=kp(r,i,o,n,t[3],3250441966,22),n=kp(n,r,i,o,t[4],4118548399,7),o=kp(o,n,r,i,t[5],1200080426,12),i=kp(i,o,n,r,t[6],2821735955,17),r=kp(r,i,o,n,t[7],4249261313,22),n=kp(n,r,i,o,t[8],1770035416,7),o=kp(o,n,r,i,t[9],2336552879,12),i=kp(i,o,n,r,t[10],4294925233,17),r=kp(r,i,o,n,t[11],2304563134,22),n=kp(n,r,i,o,t[12],1804603682,7),o=kp(o,n,r,i,t[13],4254626195,12),i=kp(i,o,n,r,t[14],2792965006,17),n=Sp(n,r=kp(r,i,o,n,t[15],1236535329,22),i,o,t[1],4129170786,5),o=Sp(o,n,r,i,t[6],3225465664,9),i=Sp(i,o,n,r,t[11],643717713,14),r=Sp(r,i,o,n,t[0],3921069994,20),n=Sp(n,r,i,o,t[5],3593408605,5),o=Sp(o,n,r,i,t[10],38016083,9),i=Sp(i,o,n,r,t[15],3634488961,14),r=Sp(r,i,o,n,t[4],3889429448,20),n=Sp(n,r,i,o,t[9],568446438,5),o=Sp(o,n,r,i,t[14],3275163606,9),i=Sp(i,o,n,r,t[3],4107603335,14),r=Sp(r,i,o,n,t[8],1163531501,20),n=Sp(n,r,i,o,t[13],2850285829,5),o=Sp(o,n,r,i,t[2],4243563512,9),i=Sp(i,o,n,r,t[7],1735328473,14),n=Ap(n,r=Sp(r,i,o,n,t[12],2368359562,20),i,o,t[5],4294588738,4),o=Ap(o,n,r,i,t[8],2272392833,11),i=Ap(i,o,n,r,t[11],1839030562,16),r=Ap(r,i,o,n,t[14],4259657740,23),n=Ap(n,r,i,o,t[1],2763975236,4),o=Ap(o,n,r,i,t[4],1272893353,11),i=Ap(i,o,n,r,t[7],4139469664,16),r=Ap(r,i,o,n,t[10],3200236656,23),n=Ap(n,r,i,o,t[13],681279174,4),o=Ap(o,n,r,i,t[0],3936430074,11),i=Ap(i,o,n,r,t[3],3572445317,16),r=Ap(r,i,o,n,t[6],76029189,23),n=Ap(n,r,i,o,t[9],3654602809,4),o=Ap(o,n,r,i,t[12],3873151461,11),i=Ap(i,o,n,r,t[15],530742520,16),n=xp(n,r=Ap(r,i,o,n,t[2],3299628645,23),i,o,t[0],4096336452,6),o=xp(o,n,r,i,t[7],1126891415,10),i=xp(i,o,n,r,t[14],2878612391,15),r=xp(r,i,o,n,t[5],4237533241,21),n=xp(n,r,i,o,t[12],1700485571,6),o=xp(o,n,r,i,t[3],2399980690,10),i=xp(i,o,n,r,t[10],4293915773,15),r=xp(r,i,o,n,t[1],2240044497,21),n=xp(n,r,i,o,t[8],1873313359,6),o=xp(o,n,r,i,t[15],4264355552,10),i=xp(i,o,n,r,t[6],2734768916,15),r=xp(r,i,o,n,t[13],1309151649,21),n=xp(n,r,i,o,t[4],4149444226,6),o=xp(o,n,r,i,t[11],3174756917,10),i=xp(i,o,n,r,t[2],718787259,15),r=xp(r,i,o,n,t[9],3951481745,21),this._a=this._a+n|0,this._b=this._b+r|0,this._c=this._c+i|0,this._d=this._d+o|0},_p.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=bp.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t};var Bp=_p,Cp=gc.Buffer,Tp=Bp;var Ip=function(t,e,n,r){if(Cp.isBuffer(t)||(t=Cp.from(t,"binary")),e&&(Cp.isBuffer(e)||(e=Cp.from(e,"binary")),8!==e.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var i=n/8,o=Cp.alloc(i),s=Cp.alloc(r||0),a=Cp.alloc(0);i>0||r>0;){var u=new Tp;u.update(a),u.update(t),e&&u.update(e),a=u.digest();var c=0;if(i>0){var l=o.length-i;c=Math.min(i,a.length),a.copy(o,l,0,c),i-=c}if(c<a.length&&r>0){var h=s.length-r,f=Math.min(r,a.length-c);a.copy(s,h,c,c+f),r-=f}}return a.fill(0),{key:o,iv:s}},Mp=qf,Rp=ld,Up=gc.Buffer,Op=vd,Lp=Ih,Pp=Hf,jp=Ip;function Dp(t,e,n){Lp.call(this),this._cache=new Wp,this._cipher=new Pp.AES(e),this._prev=Up.from(n),this._mode=t,this._autopadding=!0}Ah(Dp,Lp),Dp.prototype._update=function(t){var e,n;this._cache.add(t);for(var r=[];e=this._cache.get();)n=this._mode.encrypt(this,e),r.push(n);return Up.concat(r)};var Np=Up.alloc(16,16);function Wp(){this.cache=Up.allocUnsafe(0)}function Fp(t,e,n){var r=Mp[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");if("string"==typeof e&&(e=Up.from(e)),e.length!==r.key/8)throw new TypeError("invalid key length "+e.length);if("string"==typeof n&&(n=Up.from(n)),"GCM"!==r.mode&&n.length!==r.iv)throw new TypeError("invalid iv length "+n.length);return"stream"===r.type?new Op(r.module,e,n):"auth"===r.type?new Rp(r.module,e,n):new Dp(r.module,e,n)}Dp.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(Np))throw this._cipher.scrub(),new Error("data not multiple of block length")},Dp.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},Wp.prototype.add=function(t){this.cache=Up.concat([this.cache,t])},Wp.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null},Wp.prototype.flush=function(){for(var t=16-this.cache.length,e=Up.allocUnsafe(t),n=-1;++n<t;)e.writeUInt8(t,n);return Up.concat([this.cache,e])},pf.createCipheriv=Fp,pf.createCipher=function(t,e){var n=Mp[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var r=jp(e,!1,n.key,n.iv);return Fp(t,r.key,r.iv)};var zp={},qp=ld,Hp=gc.Buffer,Gp=qf,Vp=vd,Yp=Ih,$p=Hf,Jp=Ip;function Xp(t,e,n){Yp.call(this),this._cache=new Kp,this._last=void 0,this._cipher=new $p.AES(e),this._prev=Hp.from(n),this._mode=t,this._autopadding=!0}function Kp(){this.cache=Hp.allocUnsafe(0)}function Qp(t,e,n){var r=Gp[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");if("string"==typeof n&&(n=Hp.from(n)),"GCM"!==r.mode&&n.length!==r.iv)throw new TypeError("invalid iv length "+n.length);if("string"==typeof e&&(e=Hp.from(e)),e.length!==r.key/8)throw new TypeError("invalid key length "+e.length);return"stream"===r.type?new Vp(r.module,e,n,!0):"auth"===r.type?new qp(r.module,e,n,!0):new Xp(r.module,e,n)}Ah(Xp,Yp),Xp.prototype._update=function(t){var e,n;this._cache.add(t);for(var r=[];e=this._cache.get(this._autopadding);)n=this._mode.decrypt(this,e),r.push(n);return Hp.concat(r)},Xp.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return function(t){var e=t[15];if(e<1||e>16)throw new Error("unable to decrypt data");var n=-1;for(;++n<e;)if(t[n+(16-e)]!==e)throw new Error("unable to decrypt data");if(16===e)return;return t.slice(0,16-e)}(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")},Xp.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},Kp.prototype.add=function(t){this.cache=Hp.concat([this.cache,t])},Kp.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null},Kp.prototype.flush=function(){if(this.cache.length)return this.cache},zp.createDecipher=function(t,e){var n=Gp[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var r=Jp(e,!1,n.key,n.iv);return Qp(t,r.key,r.iv)},zp.createDecipheriv=Qp;var Zp=pf,tg=zp,eg=Nf;df.createCipher=df.Cipher=Zp.createCipher,df.createCipheriv=df.Cipheriv=Zp.createCipheriv,df.createDecipher=df.Decipher=tg.createDecipher,df.createDecipheriv=df.Decipheriv=tg.createDecipheriv,df.listCiphers=df.getCiphers=function(){return Object.keys(eg)};var ng,rg={};(ng=rg)["des-ecb"]={key:8,iv:0},ng["des-cbc"]=ng.des={key:8,iv:8},ng["des-ede3-cbc"]=ng.des3={key:24,iv:8},ng["des-ede3"]={key:24,iv:0},ng["des-ede-cbc"]={key:16,iv:8},ng["des-ede"]={key:16,iv:0};var ig=hf,og=df,sg=qf,ag=rg,ug=Ip;function cg(t,e,n){if(t=t.toLowerCase(),sg[t])return og.createCipheriv(t,e,n);if(ag[t])return new ig({key:e,iv:n,mode:t});throw new TypeError("invalid suite type")}function lg(t,e,n){if(t=t.toLowerCase(),sg[t])return og.createDecipheriv(t,e,n);if(ag[t])return new ig({key:e,iv:n,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}hu.createCipher=hu.Cipher=function(t,e){var n,r;if(t=t.toLowerCase(),sg[t])n=sg[t].key,r=sg[t].iv;else{if(!ag[t])throw new TypeError("invalid suite type");n=8*ag[t].key,r=ag[t].iv}var i=ug(e,!1,n,r);return cg(t,i.key,i.iv)},hu.createCipheriv=hu.Cipheriv=cg,hu.createDecipher=hu.Decipher=function(t,e){var n,r;if(t=t.toLowerCase(),sg[t])n=sg[t].key,r=sg[t].iv;else{if(!ag[t])throw new TypeError("invalid suite type");n=8*ag[t].key,r=ag[t].iv}var i=ug(e,!1,n,r);return lg(t,i.key,i.iv)},hu.createDecipheriv=hu.Decipheriv=lg,hu.listCiphers=hu.getCiphers=function(){return Object.keys(ag).concat(og.getCiphers())};var hg={exports:{}},fg=65536,dg=4294967295;var pg=gc.Buffer,gg=ht.crypto||ht.msCrypto;gg&&gg.getRandomValues?hg.exports=function(t,e){if(t>dg)throw new RangeError("requested too many random bytes");var n=pg.allocUnsafe(t);if(t>0)if(t>fg)for(var r=0;r<t;r+=fg)gg.getRandomValues(n.slice(r,r+fg));else gg.getRandomValues(n);if("function"==typeof e)return Lc((function(){e(null,n)}));return n}:hg.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")};var yg,vg=hg.exports,mg={},bg=Math.pow(2,30)-1,wg=function(t,e){if("number"!=typeof t)throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if("number"!=typeof e)throw new TypeError("Key length not a number");if(e<0||e>bg||e!=e)throw new TypeError("Bad key length")};if(ht.process&&ht.process.browser)yg="utf-8";else if(ht.process&&ht.process.version){yg=parseInt($c.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary"}else yg="utf-8";var _g=yg,Eg=Bp,kg=function(t){return(new Eg).update(t).digest()},Sg=pc.Buffer,Ag=Ah,xg=yp,Bg=new Array(16),Cg=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Tg=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Ig=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Mg=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Rg=[0,1518500249,1859775393,2400959708,2840853838],Ug=[1352829926,1548603684,1836072691,2053994217,0];function Og(){xg.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function Lg(t,e){return t<<e|t>>>32-e}function Pg(t,e,n,r,i,o,s,a){return Lg(t+(e^n^r)+o+s|0,a)+i|0}function jg(t,e,n,r,i,o,s,a){return Lg(t+(e&n|~e&r)+o+s|0,a)+i|0}function Dg(t,e,n,r,i,o,s,a){return Lg(t+((e|~n)^r)+o+s|0,a)+i|0}function Ng(t,e,n,r,i,o,s,a){return Lg(t+(e&r|n&~r)+o+s|0,a)+i|0}function Wg(t,e,n,r,i,o,s,a){return Lg(t+(e^(n|~r))+o+s|0,a)+i|0}Ag(Og,xg),Og.prototype._update=function(){for(var t=Bg,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);for(var n=0|this._a,r=0|this._b,i=0|this._c,o=0|this._d,s=0|this._e,a=0|this._a,u=0|this._b,c=0|this._c,l=0|this._d,h=0|this._e,f=0;f<80;f+=1){var d,p;f<16?(d=Pg(n,r,i,o,s,t[Cg[f]],Rg[0],Ig[f]),p=Wg(a,u,c,l,h,t[Tg[f]],Ug[0],Mg[f])):f<32?(d=jg(n,r,i,o,s,t[Cg[f]],Rg[1],Ig[f]),p=Ng(a,u,c,l,h,t[Tg[f]],Ug[1],Mg[f])):f<48?(d=Dg(n,r,i,o,s,t[Cg[f]],Rg[2],Ig[f]),p=Dg(a,u,c,l,h,t[Tg[f]],Ug[2],Mg[f])):f<64?(d=Ng(n,r,i,o,s,t[Cg[f]],Rg[3],Ig[f]),p=jg(a,u,c,l,h,t[Tg[f]],Ug[3],Mg[f])):(d=Wg(n,r,i,o,s,t[Cg[f]],Rg[4],Ig[f]),p=Pg(a,u,c,l,h,t[Tg[f]],Ug[4],Mg[f])),n=s,s=o,o=Lg(i,10),i=r,r=d,a=h,h=l,l=Lg(c,10),c=u,u=p}var g=this._b+i+l|0;this._b=this._c+o+h|0,this._c=this._d+s+a|0,this._d=this._e+n+u|0,this._e=this._a+r+c|0,this._a=g},Og.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=Sg.alloc?Sg.alloc(20):new Sg(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t};var Fg=Og,zg={exports:{}},qg=gc.Buffer;function Hg(t,e){this._block=qg.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}Hg.prototype.update=function(t,e){"string"==typeof t&&(e=e||"utf8",t=qg.from(t,e));for(var n=this._block,r=this._blockSize,i=t.length,o=this._len,s=0;s<i;){for(var a=o%r,u=Math.min(i-s,r-a),c=0;c<u;c++)n[a+c]=t[s+c];s+=u,(o+=u)%r==0&&this._update(n)}return this._len+=i,this},Hg.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var r=(4294967295&n)>>>0,i=(n-r)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var o=this._hash();return t?o.toString(t):o},Hg.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var Gg=Hg,Vg=Ah,Yg=Gg,$g=gc.Buffer,Jg=[1518500249,1859775393,-1894007588,-899497514],Xg=new Array(80);function Kg(){this.init(),this._w=Xg,Yg.call(this,64,56)}function Qg(t){return t<<30|t>>>2}function Zg(t,e,n,r){return 0===t?e&n|~e&r:2===t?e&n|e&r|n&r:e^n^r}Vg(Kg,Yg),Kg.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},Kg.prototype._update=function(t){for(var e,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,a=0|this._e,u=0;u<16;++u)n[u]=t.readInt32BE(4*u);for(;u<80;++u)n[u]=n[u-3]^n[u-8]^n[u-14]^n[u-16];for(var c=0;c<80;++c){var l=~~(c/20),h=0|((e=r)<<5|e>>>27)+Zg(l,i,o,s)+a+n[c]+Jg[l];a=s,s=o,o=Qg(i),i=r,r=h}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=a+this._e|0},Kg.prototype._hash=function(){var t=$g.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t};var ty=Kg,ey=Ah,ny=Gg,ry=gc.Buffer,iy=[1518500249,1859775393,-1894007588,-899497514],oy=new Array(80);function sy(){this.init(),this._w=oy,ny.call(this,64,56)}function ay(t){return t<<5|t>>>27}function uy(t){return t<<30|t>>>2}function cy(t,e,n,r){return 0===t?e&n|~e&r:2===t?e&n|e&r|n&r:e^n^r}ey(sy,ny),sy.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},sy.prototype._update=function(t){for(var e,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,a=0|this._e,u=0;u<16;++u)n[u]=t.readInt32BE(4*u);for(;u<80;++u)n[u]=(e=n[u-3]^n[u-8]^n[u-14]^n[u-16])<<1|e>>>31;for(var c=0;c<80;++c){var l=~~(c/20),h=ay(r)+cy(l,i,o,s)+a+n[c]+iy[l]|0;a=s,s=o,o=uy(i),i=r,r=h}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=a+this._e|0},sy.prototype._hash=function(){var t=ry.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t};var ly=sy,hy=Ah,fy=Gg,dy=gc.Buffer,py=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],gy=new Array(64);function yy(){this.init(),this._w=gy,fy.call(this,64,56)}function vy(t,e,n){return n^t&(e^n)}function my(t,e,n){return t&e|n&(t|e)}function by(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function wy(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function _y(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}hy(yy,fy),yy.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},yy.prototype._update=function(t){for(var e,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,a=0|this._e,u=0|this._f,c=0|this._g,l=0|this._h,h=0;h<16;++h)n[h]=t.readInt32BE(4*h);for(;h<64;++h)n[h]=0|(((e=n[h-2])>>>17|e<<15)^(e>>>19|e<<13)^e>>>10)+n[h-7]+_y(n[h-15])+n[h-16];for(var f=0;f<64;++f){var d=l+wy(a)+vy(a,u,c)+py[f]+n[f]|0,p=by(r)+my(r,i,o)|0;l=c,c=u,u=a,a=s+d|0,s=o,o=i,i=r,r=d+p|0}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=a+this._e|0,this._f=u+this._f|0,this._g=c+this._g|0,this._h=l+this._h|0},yy.prototype._hash=function(){var t=dy.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};var Ey=yy,ky=Ah,Sy=Ey,Ay=Gg,xy=gc.Buffer,By=new Array(64);function Cy(){this.init(),this._w=By,Ay.call(this,64,56)}ky(Cy,Sy),Cy.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},Cy.prototype._hash=function(){var t=xy.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};var Ty=Cy,Iy=Ah,My=Gg,Ry=gc.Buffer,Uy=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],Oy=new Array(160);function Ly(){this.init(),this._w=Oy,My.call(this,128,112)}function Py(t,e,n){return n^t&(e^n)}function jy(t,e,n){return t&e|n&(t|e)}function Dy(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function Ny(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function Wy(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function Fy(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function zy(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function qy(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function Hy(t,e){return t>>>0<e>>>0?1:0}Iy(Ly,My),Ly.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},Ly.prototype._update=function(t){for(var e=this._w,n=0|this._ah,r=0|this._bh,i=0|this._ch,o=0|this._dh,s=0|this._eh,a=0|this._fh,u=0|this._gh,c=0|this._hh,l=0|this._al,h=0|this._bl,f=0|this._cl,d=0|this._dl,p=0|this._el,g=0|this._fl,y=0|this._gl,v=0|this._hl,m=0;m<32;m+=2)e[m]=t.readInt32BE(4*m),e[m+1]=t.readInt32BE(4*m+4);for(;m<160;m+=2){var b=e[m-30],w=e[m-30+1],_=Wy(b,w),E=Fy(w,b),k=zy(b=e[m-4],w=e[m-4+1]),S=qy(w,b),A=e[m-14],x=e[m-14+1],B=e[m-32],C=e[m-32+1],T=E+x|0,I=_+A+Hy(T,E)|0;I=(I=I+k+Hy(T=T+S|0,S)|0)+B+Hy(T=T+C|0,C)|0,e[m]=I,e[m+1]=T}for(var M=0;M<160;M+=2){I=e[M],T=e[M+1];var R=jy(n,r,i),U=jy(l,h,f),O=Dy(n,l),L=Dy(l,n),P=Ny(s,p),j=Ny(p,s),D=Uy[M],N=Uy[M+1],W=Py(s,a,u),F=Py(p,g,y),z=v+j|0,q=c+P+Hy(z,v)|0;q=(q=(q=q+W+Hy(z=z+F|0,F)|0)+D+Hy(z=z+N|0,N)|0)+I+Hy(z=z+T|0,T)|0;var H=L+U|0,G=O+R+Hy(H,L)|0;c=u,v=y,u=a,y=g,a=s,g=p,s=o+q+Hy(p=d+z|0,d)|0,o=i,d=f,i=r,f=h,r=n,h=l,n=q+G+Hy(l=z+H|0,z)|0}this._al=this._al+l|0,this._bl=this._bl+h|0,this._cl=this._cl+f|0,this._dl=this._dl+d|0,this._el=this._el+p|0,this._fl=this._fl+g|0,this._gl=this._gl+y|0,this._hl=this._hl+v|0,this._ah=this._ah+n+Hy(this._al,l)|0,this._bh=this._bh+r+Hy(this._bl,h)|0,this._ch=this._ch+i+Hy(this._cl,f)|0,this._dh=this._dh+o+Hy(this._dl,d)|0,this._eh=this._eh+s+Hy(this._el,p)|0,this._fh=this._fh+a+Hy(this._fl,g)|0,this._gh=this._gh+u+Hy(this._gl,y)|0,this._hh=this._hh+c+Hy(this._hl,v)|0},Ly.prototype._hash=function(){var t=Ry.allocUnsafe(64);function e(e,n,r){t.writeInt32BE(e,r),t.writeInt32BE(n,r+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};var Gy=Ly,Vy=Ah,Yy=Gy,$y=Gg,Jy=gc.Buffer,Xy=new Array(160);function Ky(){this.init(),this._w=Xy,$y.call(this,128,112)}Vy(Ky,Yy),Ky.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},Ky.prototype._hash=function(){var t=Jy.allocUnsafe(48);function e(e,n,r){t.writeInt32BE(e,r),t.writeInt32BE(n,r+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};var Qy=Ky,Zy=zg.exports=function(t){t=t.toLowerCase();var e=Zy[t];if(!e)throw new Error(t+" is not supported (we accept pull requests)");return new e};Zy.sha=ty,Zy.sha1=ly,Zy.sha224=Ty,Zy.sha256=Ey,Zy.sha384=Qy,Zy.sha512=Gy;var tv=zg.exports,ev=gc.Buffer,nv=function(t,e,n){if(ev.isBuffer(t))return t;if("string"==typeof t)return ev.from(t,e);if(ArrayBuffer.isView(t))return ev.from(t.buffer);throw new TypeError(n+" must be a string, a Buffer, a typed array or a DataView")},rv=kg,iv=Fg,ov=tv,sv=gc.Buffer,av=wg,uv=_g,cv=nv,lv=sv.alloc(128),hv={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function fv(t,e,n){var r=function(t){function e(e){return ov(t).update(e).digest()}function n(t){return(new iv).update(t).digest()}return"rmd160"===t||"ripemd160"===t?n:"md5"===t?rv:e}(t),i="sha512"===t||"sha384"===t?128:64;e.length>i?e=r(e):e.length<i&&(e=sv.concat([e,lv],i));for(var o=sv.allocUnsafe(i+hv[t]),s=sv.allocUnsafe(i+hv[t]),a=0;a<i;a++)o[a]=54^e[a],s[a]=92^e[a];var u=sv.allocUnsafe(i+n+4);o.copy(u,0,0,i),this.ipad1=u,this.ipad2=o,this.opad=s,this.alg=t,this.blocksize=i,this.hash=r,this.size=hv[t]}fv.prototype.run=function(t,e){return t.copy(e,this.blocksize),this.hash(e).copy(this.opad,this.blocksize),this.hash(this.opad)};var dv,pv,gv=function(t,e,n,r,i){av(n,r);var o=new fv(i=i||"sha1",t=cv(t,uv,"Password"),(e=cv(e,uv,"Salt")).length),s=sv.allocUnsafe(r),a=sv.allocUnsafe(e.length+4);e.copy(a,0,0,e.length);for(var u=0,c=hv[i],l=Math.ceil(r/c),h=1;h<=l;h++){a.writeUInt32BE(h,e.length);for(var f=o.run(a,o.ipad1),d=f,p=1;p<n;p++){d=o.run(d,o.ipad2);for(var g=0;g<c;g++)f[g]^=d[g]}f.copy(s,u),u+=c}return s},yv=gc.Buffer,vv=wg,mv=_g,bv=gv,wv=nv,_v=ht.crypto&&ht.crypto.subtle,Ev={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},kv=[];function Sv(){return pv||(pv=ht.process&&ht.process.nextTick?ht.process.nextTick:ht.queueMicrotask?ht.queueMicrotask:ht.setImmediate?ht.setImmediate:ht.setTimeout)}function Av(t,e,n,r,i){return _v.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then((function(t){return _v.deriveBits({name:"PBKDF2",salt:e,iterations:n,hash:{name:i}},t,r<<3)})).then((function(t){return yv.from(t)}))}mg.pbkdf2=function(t,e,n,r,i,o){"function"==typeof i&&(o=i,i=void 0);var s=Ev[(i=i||"sha1").toLowerCase()];if(s&&"function"==typeof ht.Promise){if(vv(n,r),t=wv(t,mv,"Password"),e=wv(e,mv,"Salt"),"function"!=typeof o)throw new Error("No callback provided to pbkdf2");!function(t,e){t.then((function(t){Sv()((function(){e(null,t)}))}),(function(t){Sv()((function(){e(t)}))}))}(function(t){if(ht.process&&!ht.process.browser)return Promise.resolve(!1);if(!_v||!_v.importKey||!_v.deriveBits)return Promise.resolve(!1);if(void 0!==kv[t])return kv[t];var e=Av(dv=dv||yv.alloc(8),dv,10,128,t).then((function(){return!0})).catch((function(){return!1}));return kv[t]=e,e}(s).then((function(o){return o?Av(t,e,n,r,s):bv(t,e,n,r,i)})),o)}else Sv()((function(){var s;try{s=bv(t,e,n,r,i)}catch(t){return o(t)}o(null,s)}))},mg.pbkdf2Sync=gv;var xv=Ah,Bv=gc.Buffer,Cv=Ih,Tv=Bv.alloc(128),Iv=64;function Mv(t,e){Cv.call(this,"digest"),"string"==typeof e&&(e=Bv.from(e)),this._alg=t,this._key=e,e.length>Iv?e=t(e):e.length<Iv&&(e=Bv.concat([e,Tv],Iv));for(var n=this._ipad=Bv.allocUnsafe(Iv),r=this._opad=Bv.allocUnsafe(Iv),i=0;i<Iv;i++)n[i]=54^e[i],r[i]=92^e[i];this._hash=[n]}xv(Mv,Cv),Mv.prototype._update=function(t){this._hash.push(t)},Mv.prototype._final=function(){var t=this._alg(Bv.concat(this._hash));return this._alg(Bv.concat([this._opad,t]))};var Rv=Ah,Uv=Mv,Ov=Ih,Lv=gc.Buffer,Pv=kg,jv=Fg,Dv=tv,Nv=Lv.alloc(128);function Wv(t,e){Ov.call(this,"digest"),"string"==typeof e&&(e=Lv.from(e));var n="sha512"===t||"sha384"===t?128:64;(this._alg=t,this._key=e,e.length>n)?e=("rmd160"===t?new jv:Dv(t)).update(e).digest():e.length<n&&(e=Lv.concat([e,Nv],n));for(var r=this._ipad=Lv.allocUnsafe(n),i=this._opad=Lv.allocUnsafe(n),o=0;o<n;o++)r[o]=54^e[o],i[o]=92^e[o];this._hash="rmd160"===t?new jv:Dv(t),this._hash.update(r)}Rv(Wv,Ov),Wv.prototype._update=function(t){this._hash.update(t)},Wv.prototype._final=function(){var t=this._hash.digest();return("rmd160"===this._alg?new jv:Dv(this._alg)).update(this._opad).update(t).digest()};var Fv=function(t,e){if(!hc(t))throw new TypeError("First argument must be a buffer");if(!hc(e))throw new TypeError("Second argument must be a buffer");if(t.length!==e.length)throw new TypeError("Input buffers must have the same length");var n=t.length,r=0,i=-1;for(;++i<n;)r|=t[i]^e[i];return 0===r};const zv=gc.Buffer,{map:qv,join:Hv,pipe:Gv,slice:Vv,curry:Yv,flip:$v,dropLast:Jv,isEmpty:Xv,takeLast:Kv}=lu,Qv=zv.concat,Zv=zv.from,tm=t=>Uint8Array.from(t),em=t=>t.toString(2),nm=Gv(tm,qv((t=>~t))),rm=Yv(((t,e,n)=>n.map(((n,r,i)=>{if(r%e==0)return t(n,r,i)})).filter(((t,n)=>n%e==0)))),im=(t,e,n)=>{if(Xv(e)&&Xv(n))return t;const[r]=Kv(1,e),[i]=Kv(1,n);return t=t.replace(new RegExp(r,"g"),i),im(t,Jv(1,e),Jv(1,n))},om=Yv(((t,e)=>{var n="";for(let e=0;e<t;e++)n+="0";return n.slice(String(e).length)+e})),sm=Gv(Array.from,qv(em),qv(om(8)),Hv(""));var am={toBuffer:Zv,byarr:tm,compliment:nm,byteToBin:sm,nTobin:em,zeroPad:om,binToByte:t=>{var e=[];for(let n=0;n<t.length;n+=8)e.push(Gv(Vv(n,n+8),$v(parseInt)(2))(t));return new Uint8Array(e)},concatBuff:Qv,buffSlice:(t,e,n=t.length)=>Gv(tm,Vv(e,n),Zv)(t),stepMap:rm,recursiveReplace:im};const um=hu,{createCipheriv:cm,createDecipheriv:lm}=um,hm=vg,fm=mg.pbkdf2Sync,dm=function(t,e){return"rmd160"===(t=t.toLowerCase())||"ripemd160"===t?new Wv("rmd160",e):"md5"===t?new Uv(Pv,e):new Wv(t,e)},{curry:pm}=lu,gm=Fv,{toBuffer:ym,concatBuff:vm,buffSlice:mm}=am,bm=(t,e,n)=>{const r=ym(e.data),i={};"encrypt"===t?i.secret=r:"decrypt"===t&&(n=mm(r,0,8),e.integrity?(i.hmacData=mm(r,8,40),i.secret=mm(r,40)):i.secret=mm(r,8));const o=((t,e)=>fm(t,e,1e4,48,"sha512"))(e.password,n);return i.iv=mm(o,0,16),i.key=mm(o,16),i},wm=pm(bm)("encrypt"),_m=pm(bm)("decrypt");var Em,km,Sm={encrypt:t=>{const e=hm(8),{iv:n,key:r,secret:i}=wm(t,e),o=cm("aes-256-ctr",r,n),s=vm([o.update(i,"utf8"),o.final()]);if(t.integrity){const t=dm("sha256",r).update(i).digest();return vm([e,t,s])}return vm([e,s])},decrypt:t=>{const{iv:e,key:n,secret:r,hmacData:i}=_m(t,null),o=lm("aes-256-ctr",n,e),s=vm([o.update(r,"utf8"),o.final()]);if(t.integrity){const t=dm("sha256",n).update(s).digest();if(!gm(i,t))throw new Error("Wrong password or Wrong payload (Hmac Integrity failure) ")}return s}},Am={exports:{}};Em=Am,function(t){t.runningInNodeJS=function(){return"object"==typeof $c&&"object"==typeof $c.versions&&"string"==typeof $c.versions.node},t.runningInMainNodeJSModule=function(){return t.runningInNodeJS()&&require.main===Em},t.commonJSAvailable=function(){return!0},t.runningInWebWorker=function(){return"undefined"==typeof window&&"object"==typeof self&&"function"==typeof self.addEventListener&&"function"==typeof self.close},t.runningInNodeChildProcess=function(){return t.runningInNodeJS()&&"function"==typeof $c.send},t.runningInNullOrigin=function(){return"object"==typeof window&&"object"==typeof window.location&&"object"==typeof document&&"http:"!==document.location.protocol&&"https:"!==document.location.protocol},t.webWorkersAvailable=function(){return!("function"!=typeof Worker||t.runningInNullOrigin()||t.runningInNodeJS()||navigator&&navigator.userAgent&&navigator.userAgent.indexOf("Android 4.3")>=0)},t.log=function(t,e){void 0===e&&(e=!1),"object"==typeof console&&(console.log(t),e&&"object"==typeof document&&(document.body.innerHTML+=t+"<br/>"))},t.createErrorMessage=function(e,n){if(void 0===n&&(n="Unhandled exception"),null==e)return n;if(n+=": ","object"==typeof e.content){if(t.runningInNodeJS())return n+e.content.stack;var r=JSON.stringify(e.content);return"{}"!==r?n+r:n+e.content}return"string"==typeof e.content?n+e.content:n+e},t.printExceptionAndStackTraceToConsole=function(e,n){void 0===n&&(n="Unhandled exception"),t.log(t.createErrorMessage(e,n))},t.getGlobalObject=function(){return"object"==typeof ht?ht:"object"==typeof window?window:"object"==typeof self?self:{}},t.toString=Object.prototype.toString,t.commonJSAvailable()&&(Em.exports=t)}(km||(km={})),function(t){if("function"==typeof Uint8Array&&0!==new Uint8Array(1).subarray(1).byteLength){var e=function(t,e){var n=function(t,e,n){return t<e?e:t>n?n:t};t|=0,e|=0,arguments.length<1&&(t=0),arguments.length<2&&(e=this.length),t<0&&(t=this.length+t),e<0&&(e=this.length+e),t=n(t,0,this.length);var r=(e=n(e,0,this.length))-t;return r<0&&(r=0),new this.constructor(this.buffer,this.byteOffset+t*this.BYTES_PER_ELEMENT,r)},n=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"],r=void 0;if("object"==typeof window?r=window:"object"==typeof self&&(r=self),void 0!==r)for(var i=0;i<n.length;i++)r[n[i]]&&(r[n[i]].prototype.subarray=e)}}(),function(t){var e=function(){function e(){}return e.compressAsync=function(e,n,r){var i=new t.Timer,o=new t.Compressor;if(!r)throw new TypeError("compressAsync: No callback argument given");if("string"==typeof e)e=t.encodeUTF8(e);else if(null==e||!(e instanceof Uint8Array))return void r(void 0,new TypeError("compressAsync: Invalid input argument, only 'string' and 'Uint8Array' are supported"));var s=t.ArrayTools.splitByteArray(e,n.blockSize),a=[],u=function(e){if(e<s.length){var c=void 0;try{c=o.compressBlock(s[e])}catch(t){return void r(void 0,t)}a.push(c),i.getElapsedTime()<=20?u(e+1):(t.enqueueImmediate((function(){return u(e+1)})),i.restart())}else{var l=t.ArrayTools.concatUint8Arrays(a);t.enqueueImmediate((function(){var e;try{e=t.CompressionCommon.encodeCompressedBytes(l,n.outputEncoding)}catch(t){return void r(void 0,t)}t.enqueueImmediate((function(){return r(e)}))}))}};t.enqueueImmediate((function(){return u(0)}))},e.createCompressionStream=function(){var e=new t.Compressor,n=new(fp().Transform)({decodeStrings:!0,highWaterMark:65536});return n._transform=function(r,i,o){var s;try{s=t.BufferTools.uint8ArrayToBuffer(e.compressBlock(t.BufferTools.bufferToUint8Array(r)))}catch(t){return void n.emit("error",t)}n.push(s),o()},n},e}();t.AsyncCompressor=e}(km||(km={})),function(t){var e=function(){function e(){}return e.decompressAsync=function(e,n,r){if(!r)throw new TypeError("decompressAsync: No callback argument given");var i=new t.Timer;try{e=t.CompressionCommon.decodeCompressedBytes(e,n.inputEncoding)}catch(t){return void r(void 0,t)}var o=new t.Decompressor,s=t.ArrayTools.splitByteArray(e,n.blockSize),a=[],u=function(e){if(e<s.length){var c=void 0;try{c=o.decompressBlock(s[e])}catch(t){return void r(void 0,t)}a.push(c),i.getElapsedTime()<=20?u(e+1):(t.enqueueImmediate((function(){return u(e+1)})),i.restart())}else{var l=t.ArrayTools.concatUint8Arrays(a);t.enqueueImmediate((function(){var e;try{e=t.CompressionCommon.encodeDecompressedBytes(l,n.outputEncoding)}catch(t){return void r(void 0,t)}t.enqueueImmediate((function(){return r(e)}))}))}};t.enqueueImmediate((function(){return u(0)}))},e.createDecompressionStream=function(){var e=new t.Decompressor,n=new(fp().Transform)({decodeStrings:!0,highWaterMark:65536});return n._transform=function(r,i,o){var s;try{s=t.BufferTools.uint8ArrayToBuffer(e.decompressBlock(t.BufferTools.bufferToUint8Array(r)))}catch(t){return void n.emit("error",t)}n.push(s),o()},n},e}();t.AsyncDecompressor=e}(km||(km={})),function(t){var e;!function(e){e.compressAsync=function(t,n,r){if("ByteArray"!=n.inputEncoding||t instanceof Uint8Array){var i={token:Math.random().toString(),type:"compress",data:t,inputEncoding:n.inputEncoding,outputEncoding:n.outputEncoding},o=function(t){var n=t.data;n&&n.token==i.token&&(e.globalWorker.removeEventListener("message",o),"error"==n.type?r(void 0,new Error(n.error)):r(n.data))};e.globalWorker.addEventListener("message",o),e.globalWorker.postMessage(i,[])}else r(void 0,new TypeError("compressAsync: input is not a Uint8Array"))},e.decompressAsync=function(t,n,r){var i={token:Math.random().toString(),type:"decompress",data:t,inputEncoding:n.inputEncoding,outputEncoding:n.outputEncoding},o=function(t){var n=t.data;n&&n.token==i.token&&(e.globalWorker.removeEventListener("message",o),"error"==n.type?r(void 0,new Error(n.error)):r(n.data))};e.globalWorker.addEventListener("message",o),e.globalWorker.postMessage(i,[])},e.installWebWorkerIfNeeded=function(){"object"==typeof self&&void 0===self.document&&null!=self.addEventListener&&(self.addEventListener("message",(function(e){var n=e.data;if("compress"==n.type){var r=void 0;try{r=t.compress(n.data,{outputEncoding:n.outputEncoding})}catch(e){return void self.postMessage({token:n.token,type:"error",error:t.createErrorMessage(e)},[])}(i={token:n.token,type:"compressionResult",data:r,encoding:n.outputEncoding}).data instanceof Uint8Array&&-1===navigator.appVersion.indexOf("MSIE 10")?self.postMessage(i,[i.data.buffer]):self.postMessage(i,[])}else if("decompress"==n.type){var i,o=void 0;try{o=t.decompress(n.data,{inputEncoding:n.inputEncoding,outputEncoding:n.outputEncoding})}catch(e){return void self.postMessage({token:n.token,type:"error",error:t.createErrorMessage(e)},[])}(i={token:n.token,type:"decompressionResult",data:o,encoding:n.outputEncoding}).data instanceof Uint8Array&&-1===navigator.appVersion.indexOf("MSIE 10")?self.postMessage(i,[i.data.buffer]):self.postMessage(i,[])}})),self.addEventListener("error",(function(e){t.log(t.createErrorMessage(e.error,"Unexpected LZUTF8 WebWorker exception"))})))},e.createGlobalWorkerIfNeeded=function(){if(e.globalWorker)return!0;if(!t.webWorkersAvailable())return!1;if(!e.scriptURI&&"object"==typeof document){var n=document.getElementById("lzutf8");null!=n&&(e.scriptURI=n.getAttribute("src")||void 0)}return!!e.scriptURI&&(e.globalWorker=new Worker(e.scriptURI),!0)},e.terminate=function(){e.globalWorker&&(e.globalWorker.terminate(),e.globalWorker=void 0)}}(e=t.WebWorker||(t.WebWorker={})),e.installWebWorkerIfNeeded()}(km||(km={})),function(t){var e=function(){function t(t,e,n){this.container=t,this.startPosition=e,this.length=n}return t.prototype.get=function(t){return this.container[this.startPosition+t]},t.prototype.getInReversedOrder=function(t){return this.container[this.startPosition+this.length-1-t]},t.prototype.set=function(t,e){this.container[this.startPosition+t]=e},t}();t.ArraySegment=e}(km||(km={})),function(t){var e;(e=t.ArrayTools||(t.ArrayTools={})).copyElements=function(t,e,n,r,i){for(;i--;)n[r++]=t[e++]},e.zeroElements=function(t,e,n){for(;n--;)t[e++]=0},e.countNonzeroValuesInArray=function(t){for(var e=0,n=0;n<t.length;n++)t[n]&&e++;return e},e.truncateStartingElements=function(t,e){if(t.length<=e)throw new RangeError("truncateStartingElements: Requested length should be smaller than array length");for(var n=t.length-e,r=0;r<e;r++)t[r]=t[n+r];t.length=e},e.doubleByteArrayCapacity=function(t){var e=new Uint8Array(2*t.length);return e.set(t),e},e.concatUint8Arrays=function(t){for(var e=0,n=0,r=t;n<r.length;n++)e+=(u=r[n]).length;for(var i=new Uint8Array(e),o=0,s=0,a=t;s<a.length;s++){var u=a[s];i.set(u,o),o+=u.length}return i},e.splitByteArray=function(t,e){for(var n=[],r=0;r<t.length;){var i=Math.min(e,t.length-r);n.push(t.subarray(r,r+i)),r+=i}return n}}(km||(km={})),function(t){var e;(e=t.BufferTools||(t.BufferTools={})).convertToUint8ArrayIfNeeded=function(t){return hc(t)?e.bufferToUint8Array(t):t},e.uint8ArrayToBuffer=function(t){if(Cu.prototype instanceof Uint8Array){var e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return Object.setPrototypeOf(e,Cu.prototype),e}for(var n=t.length,r=new Cu(n),i=0;i<n;i++)r[i]=t[i];return r},e.bufferToUint8Array=function(t){if(Cu.prototype instanceof Uint8Array)return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);for(var e=t.length,n=new Uint8Array(e),r=0;r<e;r++)n[r]=t[r];return n}}(km||(km={})),function(t){var e;(e=t.CompressionCommon||(t.CompressionCommon={})).getCroppedBuffer=function(t,e,n,r){void 0===r&&(r=0);var i=new Uint8Array(n+r);return i.set(t.subarray(e,e+n)),i},e.getCroppedAndAppendedByteArray=function(e,n,r,i){return t.ArrayTools.concatUint8Arrays([e.subarray(n,n+r),i])},e.detectCompressionSourceEncoding=function(t){if(null==t)throw new TypeError("detectCompressionSourceEncoding: input is null or undefined");if("string"==typeof t)return"String";if(t instanceof Uint8Array||hc(t))return"ByteArray";throw new TypeError("detectCompressionSourceEncoding: input must be of type 'string', 'Uint8Array' or 'Buffer'")},e.encodeCompressedBytes=function(e,n){switch(n){case"ByteArray":return e;case"Buffer":return t.BufferTools.uint8ArrayToBuffer(e);case"Base64":return t.encodeBase64(e);case"BinaryString":return t.encodeBinaryString(e);case"StorageBinaryString":return t.encodeStorageBinaryString(e);default:throw new TypeError("encodeCompressedBytes: invalid output encoding requested")}},e.decodeCompressedBytes=function(e,n){if(null==n)throw new TypeError("decodeCompressedData: Input is null or undefined");switch(n){case"ByteArray":case"Buffer":var r=t.BufferTools.convertToUint8ArrayIfNeeded(e);if(!(r instanceof Uint8Array))throw new TypeError("decodeCompressedData: 'ByteArray' or 'Buffer' input type was specified but input is not a Uint8Array or Buffer");return r;case"Base64":if("string"!=typeof e)throw new TypeError("decodeCompressedData: 'Base64' input type was specified but input is not a string");return t.decodeBase64(e);case"BinaryString":if("string"!=typeof e)throw new TypeError("decodeCompressedData: 'BinaryString' input type was specified but input is not a string");return t.decodeBinaryString(e);case"StorageBinaryString":if("string"!=typeof e)throw new TypeError("decodeCompressedData: 'StorageBinaryString' input type was specified but input is not a string");return t.decodeStorageBinaryString(e);default:throw new TypeError("decodeCompressedData: invalid input encoding requested: '"+n+"'")}},e.encodeDecompressedBytes=function(e,n){switch(n){case"String":return t.decodeUTF8(e);case"ByteArray":return e;case"Buffer":return t.BufferTools.uint8ArrayToBuffer(e);default:throw new TypeError("encodeDecompressedBytes: invalid output encoding requested")}}}(km||(km={})),function(t){var e;!function(e){var n,r=[];e.enqueueImmediate=function(t){r.push(t),1===r.length&&n()},e.initializeScheduler=function(){var e=function(){for(var e=0,n=r;e<n.length;e++){var i=n[e];try{i.call(void 0)}catch(e){t.printExceptionAndStackTraceToConsole(e,"enqueueImmediate exception")}}r.length=0};if(t.runningInNodeJS()&&(n=function(){return setImmediate((function(){return e()}))}),"object"==typeof window&&"function"==typeof window.addEventListener&&"function"==typeof window.postMessage){var i,o="enqueueImmediate-"+Math.random().toString();window.addEventListener("message",(function(t){t.data===o&&e()})),i=t.runningInNullOrigin()?"*":window.location.href,n=function(){return window.postMessage(o,i)}}else if("function"==typeof MessageChannel&&"function"==typeof MessagePort){var s=new MessageChannel;s.port1.onmessage=function(){return e()},n=function(){return s.port2.postMessage(0)}}else n=function(){return setTimeout((function(){return e()}),0)}},e.initializeScheduler()}(e=t.EventLoop||(t.EventLoop={})),t.enqueueImmediate=function(t){return e.enqueueImmediate(t)}}(km||(km={})),function(t){var e;(e=t.ObjectTools||(t.ObjectTools={})).override=function(t,n){return e.extend(t,n)},e.extend=function(t,e){if(null==t)throw new TypeError("obj is null or undefined");if("object"!=typeof t)throw new TypeError("obj is not an object");if(null==e&&(e={}),"object"!=typeof e)throw new TypeError("newProperties is not an object");if(null!=e)for(var n in e)t[n]=e[n];return t}}(km||(km={})),function(t){t.getRandomIntegerInRange=function(t,e){return t+Math.floor(Math.random()*(e-t))},t.getRandomUTF16StringOfLength=function(e){for(var n="",r=0;r<e;r++){var i=void 0;do{i=t.getRandomIntegerInRange(0,1114112)}while(i>=55296&&i<=57343);n+=t.Encoding.CodePoint.decodeToString(i)}return n}}(km||(km={})),function(t){var e=function(){function t(t){void 0===t&&(t=1024),this.outputBufferCapacity=t,this.outputPosition=0,this.outputString="",this.outputBuffer=new Uint16Array(this.outputBufferCapacity)}return t.prototype.appendCharCode=function(t){this.outputBuffer[this.outputPosition++]=t,this.outputPosition===this.outputBufferCapacity&&this.flushBufferToOutputString()},t.prototype.appendCharCodes=function(t){for(var e=0,n=t.length;e<n;e++)this.appendCharCode(t[e])},t.prototype.appendString=function(t){for(var e=0,n=t.length;e<n;e++)this.appendCharCode(t.charCodeAt(e))},t.prototype.appendCodePoint=function(t){if(t<=65535)this.appendCharCode(t);else{if(!(t<=1114111))throw new Error("appendCodePoint: A code point of "+t+" cannot be encoded in UTF-16");this.appendCharCode(55296+(t-65536>>>10)),this.appendCharCode(56320+(t-65536&1023))}},t.prototype.getOutputString=function(){return this.flushBufferToOutputString(),this.outputString},t.prototype.flushBufferToOutputString=function(){this.outputPosition===this.outputBufferCapacity?this.outputString+=String.fromCharCode.apply(null,this.outputBuffer):this.outputString+=String.fromCharCode.apply(null,this.outputBuffer.subarray(0,this.outputPosition)),this.outputPosition=0},t}();t.StringBuilder=e}(km||(km={})),function(t){var e=function(){function e(){this.restart()}return e.prototype.restart=function(){this.startTime=e.getTimestamp()},e.prototype.getElapsedTime=function(){return e.getTimestamp()-this.startTime},e.prototype.getElapsedTimeAndRestart=function(){var t=this.getElapsedTime();return this.restart(),t},e.prototype.logAndRestart=function(e,n){void 0===n&&(n=!0);var r=this.getElapsedTime(),i=e+": "+r.toFixed(3)+"ms";return t.log(i,n),this.restart(),r},e.getTimestamp=function(){return this.timestampFunc||this.createGlobalTimestampFunction(),this.timestampFunc()},e.getMicrosecondTimestamp=function(){return Math.floor(1e3*e.getTimestamp())},e.createGlobalTimestampFunction=function(){if("object"==typeof $c&&"function"==typeof $c.hrtime){var t=0;this.timestampFunc=function(){var e=$c.hrtime(),n=1e3*e[0]+e[1]/1e6;return t+n},t=Date.now()-this.timestampFunc()}else if("object"==typeof chrome&&chrome.Interval){var e=Date.now(),n=new chrome.Interval;n.start(),this.timestampFunc=function(){return e+n.microseconds()/1e3}}else if("object"==typeof performance&&performance.now){var r=Date.now()-performance.now();this.timestampFunc=function(){return r+performance.now()}}else Date.now?this.timestampFunc=function(){return Date.now()}:this.timestampFunc=function(){return(new Date).getTime()}},e}();t.Timer=e}(km||(km={})),function(t){var e=function(){function e(e){void 0===e&&(e=!0),this.MinimumSequenceLength=4,this.MaximumSequenceLength=31,this.MaximumMatchDistance=32767,this.PrefixHashTableSize=65537,this.inputBufferStreamOffset=1,e&&"function"==typeof Uint32Array?this.prefixHashTable=new t.CompressorCustomHashTable(this.PrefixHashTableSize):this.prefixHashTable=new t.CompressorSimpleHashTable(this.PrefixHashTableSize)}return e.prototype.compressBlock=function(e){if(null==e)throw new TypeError("compressBlock: undefined or null input received");return"string"==typeof e&&(e=t.encodeUTF8(e)),e=t.BufferTools.convertToUint8ArrayIfNeeded(e),this.compressUtf8Block(e)},e.prototype.compressUtf8Block=function(t){if(!t||0==t.length)return new Uint8Array(0);var e=this.cropAndAddNewBytesToInputBuffer(t),n=this.inputBuffer,r=this.inputBuffer.length;this.outputBuffer=new Uint8Array(t.length),this.outputBufferPosition=0;for(var i=0,o=e;o<r;o++){var s=n[o],a=o<i;if(o>r-this.MinimumSequenceLength)a||this.outputRawByte(s);else{var u=this.getBucketIndexForPrefix(o);if(!a){var c=this.findLongestMatch(o,u);null!=c&&(this.outputPointerBytes(c.length,c.distance),i=o+c.length,a=!0)}a||this.outputRawByte(s);var l=this.inputBufferStreamOffset+o;this.prefixHashTable.addValueToBucket(u,l)}}return this.outputBuffer.subarray(0,this.outputBufferPosition)},e.prototype.findLongestMatch=function(t,e){var n=this.prefixHashTable.getArraySegmentForBucketIndex(e,this.reusableArraySegmentObject);if(null==n)return null;for(var r,i=this.inputBuffer,o=0,s=0;s<n.length;s++){var a=n.getInReversedOrder(s)-this.inputBufferStreamOffset,u=t-a,c=void 0;if(c=void 0===r?this.MinimumSequenceLength-1:r<128&&u>=128?o+(o>>>1):o,u>this.MaximumMatchDistance||c>=this.MaximumSequenceLength||t+c>=i.length)break;if(i[a+c]===i[t+c])for(var l=0;;l++){if(t+l===i.length||i[a+l]!==i[t+l]){l>c&&(r=u,o=l);break}if(l===this.MaximumSequenceLength)return{distance:u,length:this.MaximumSequenceLength}}}return void 0!==r?{distance:r,length:o}:null},e.prototype.getBucketIndexForPrefix=function(t){return(7880599*this.inputBuffer[t]+39601*this.inputBuffer[t+1]+199*this.inputBuffer[t+2]+this.inputBuffer[t+3])%this.PrefixHashTableSize},e.prototype.outputPointerBytes=function(t,e){e<128?(this.outputRawByte(192|t),this.outputRawByte(e)):(this.outputRawByte(224|t),this.outputRawByte(e>>>8),this.outputRawByte(255&e))},e.prototype.outputRawByte=function(t){this.outputBuffer[this.outputBufferPosition++]=t},e.prototype.cropAndAddNewBytesToInputBuffer=function(e){if(void 0===this.inputBuffer)return this.inputBuffer=e,0;var n=Math.min(this.inputBuffer.length,this.MaximumMatchDistance),r=this.inputBuffer.length-n;return this.inputBuffer=t.CompressionCommon.getCroppedAndAppendedByteArray(this.inputBuffer,r,n,e),this.inputBufferStreamOffset+=r,n},e}();t.Compressor=e}(km||(km={})),function(t){var e=function(){function e(t){this.minimumBucketCapacity=4,this.maximumBucketCapacity=64,this.bucketLocators=new Uint32Array(2*t),this.storage=new Uint32Array(2*t),this.storageIndex=1}return e.prototype.addValueToBucket=function(e,n){e<<=1,this.storageIndex>=this.storage.length>>>1&&this.compact();var r,i=this.bucketLocators[e];if(0===i)i=this.storageIndex,r=1,this.storage[this.storageIndex]=n,this.storageIndex+=this.minimumBucketCapacity;else{(r=this.bucketLocators[e+1])===this.maximumBucketCapacity-1&&(r=this.truncateBucketToNewerElements(i,r,this.maximumBucketCapacity/2));var o=i+r;0===this.storage[o]?(this.storage[o]=n,o===this.storageIndex&&(this.storageIndex+=r)):(t.ArrayTools.copyElements(this.storage,i,this.storage,this.storageIndex,r),i=this.storageIndex,this.storageIndex+=r,this.storage[this.storageIndex++]=n,this.storageIndex+=r),r++}this.bucketLocators[e]=i,this.bucketLocators[e+1]=r},e.prototype.truncateBucketToNewerElements=function(e,n,r){var i=e+n-r;return t.ArrayTools.copyElements(this.storage,i,this.storage,e,r),t.ArrayTools.zeroElements(this.storage,e+r,n-r),r},e.prototype.compact=function(){var e=this.bucketLocators,n=this.storage;this.bucketLocators=new Uint32Array(this.bucketLocators.length),this.storageIndex=1;for(var r=0;r<e.length;r+=2){var i=e[r+1];0!==i&&(this.bucketLocators[r]=this.storageIndex,this.bucketLocators[r+1]=i,this.storageIndex+=Math.max(Math.min(2*i,this.maximumBucketCapacity),this.minimumBucketCapacity))}for(this.storage=new Uint32Array(8*this.storageIndex),r=0;r<e.length;r+=2){var o=e[r];if(0!==o){var s=this.bucketLocators[r],a=this.bucketLocators[r+1];t.ArrayTools.copyElements(n,o,this.storage,s,a)}}},e.prototype.getArraySegmentForBucketIndex=function(e,n){e<<=1;var r=this.bucketLocators[e];return 0===r?null:(void 0===n&&(n=new t.ArraySegment(this.storage,r,this.bucketLocators[e+1])),n)},e.prototype.getUsedBucketCount=function(){return Math.floor(t.ArrayTools.countNonzeroValuesInArray(this.bucketLocators)/2)},e.prototype.getTotalElementCount=function(){for(var t=0,e=0;e<this.bucketLocators.length;e+=2)t+=this.bucketLocators[e+1];return t},e}();t.CompressorCustomHashTable=e}(km||(km={})),function(t){var e=function(){function e(t){this.maximumBucketCapacity=64,this.buckets=new Array(t)}return e.prototype.addValueToBucket=function(e,n){var r=this.buckets[e];void 0===r?this.buckets[e]=[n]:(r.length===this.maximumBucketCapacity-1&&t.ArrayTools.truncateStartingElements(r,this.maximumBucketCapacity/2),r.push(n))},e.prototype.getArraySegmentForBucketIndex=function(e,n){var r=this.buckets[e];return void 0===r?null:(void 0===n&&(n=new t.ArraySegment(r,0,r.length)),n)},e.prototype.getUsedBucketCount=function(){return t.ArrayTools.countNonzeroValuesInArray(this.buckets)},e.prototype.getTotalElementCount=function(){for(var t=0,e=0;e<this.buckets.length;e++)void 0!==this.buckets[e]&&(t+=this.buckets[e].length);return t},e}();t.CompressorSimpleHashTable=e}(km||(km={})),function(t){var e=function(){function e(){this.MaximumMatchDistance=32767,this.outputPosition=0}return e.prototype.decompressBlockToString=function(e){return e=t.BufferTools.convertToUint8ArrayIfNeeded(e),t.decodeUTF8(this.decompressBlock(e))},e.prototype.decompressBlock=function(e){this.inputBufferRemainder&&(e=t.ArrayTools.concatUint8Arrays([this.inputBufferRemainder,e]),this.inputBufferRemainder=void 0);for(var n=this.cropOutputBufferToWindowAndInitialize(Math.max(4*e.length,1024)),r=0,i=e.length;r<i;r++){var o=e[r];if(o>>>6==3){var s=o>>>5;if(r==i-1||r==i-2&&7==s){this.inputBufferRemainder=e.subarray(r);break}if(e[r+1]>>>7==1)this.outputByte(o);else{var a=31&o,u=void 0;6==s?(u=e[r+1],r+=1):(u=e[r+1]<<8|e[r+2],r+=2);for(var c=this.outputPosition-u,l=0;l<a;l++)this.outputByte(this.outputBuffer[c+l])}}else this.outputByte(o)}return this.rollBackIfOutputBufferEndsWithATruncatedMultibyteSequence(),t.CompressionCommon.getCroppedBuffer(this.outputBuffer,n,this.outputPosition-n)},e.prototype.outputByte=function(e){this.outputPosition===this.outputBuffer.length&&(this.outputBuffer=t.ArrayTools.doubleByteArrayCapacity(this.outputBuffer)),this.outputBuffer[this.outputPosition++]=e},e.prototype.cropOutputBufferToWindowAndInitialize=function(e){if(!this.outputBuffer)return this.outputBuffer=new Uint8Array(e),0;var n=Math.min(this.outputPosition,this.MaximumMatchDistance);if(this.outputBuffer=t.CompressionCommon.getCroppedBuffer(this.outputBuffer,this.outputPosition-n,n,e),this.outputPosition=n,this.outputBufferRemainder){for(var r=0;r<this.outputBufferRemainder.length;r++)this.outputByte(this.outputBufferRemainder[r]);this.outputBufferRemainder=void 0}return n},e.prototype.rollBackIfOutputBufferEndsWithATruncatedMultibyteSequence=function(){for(var t=1;t<=4&&this.outputPosition-t>=0;t++){var e=this.outputBuffer[this.outputPosition-t];if(t<4&&e>>>3==30||t<3&&e>>>4==14||t<2&&e>>>5==6)return this.outputBufferRemainder=this.outputBuffer.subarray(this.outputPosition-t,this.outputPosition),void(this.outputPosition-=t)}},e}();t.Decompressor=e}(km||(km={})),function(t){var e,n,r,i;e=t.Encoding||(t.Encoding={}),n=e.Base64||(e.Base64={}),r=new Uint8Array([65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47]),i=new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,62,255,255,255,63,52,53,54,55,56,57,58,59,60,61,255,255,255,0,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,255,255,255,255]),n.encode=function(e){return e&&0!=e.length?t.runningInNodeJS()?t.BufferTools.uint8ArrayToBuffer(e).toString("base64"):n.encodeWithJS(e):""},n.decode=function(e){return e?t.runningInNodeJS()?t.BufferTools.bufferToUint8Array(Cu.from(e,"base64")):n.decodeWithJS(e):new Uint8Array(0)},n.encodeWithJS=function(e,n){if(void 0===n&&(n=!0),!e||0==e.length)return"";for(var i,o=r,s=new t.StringBuilder,a=0,u=e.length;a<u;a+=3)a<=u-3?(i=e[a]<<16|e[a+1]<<8|e[a+2],s.appendCharCode(o[i>>>18&63]),s.appendCharCode(o[i>>>12&63]),s.appendCharCode(o[i>>>6&63]),s.appendCharCode(o[63&i]),i=0):a===u-2?(i=e[a]<<16|e[a+1]<<8,s.appendCharCode(o[i>>>18&63]),s.appendCharCode(o[i>>>12&63]),s.appendCharCode(o[i>>>6&63]),n&&s.appendCharCode(61)):a===u-1&&(i=e[a]<<16,s.appendCharCode(o[i>>>18&63]),s.appendCharCode(o[i>>>12&63]),n&&(s.appendCharCode(61),s.appendCharCode(61)));return s.getOutputString()},n.decodeWithJS=function(t,e){if(!t||0==t.length)return new Uint8Array(0);var n=t.length%4;if(1===n)throw new Error("Invalid Base64 string: length % 4 == 1");2===n?t+="==":3===n&&(t+="="),e||(e=new Uint8Array(t.length));for(var r=0,o=t.length,s=0;s<o;s+=4){var a=i[t.charCodeAt(s)]<<18|i[t.charCodeAt(s+1)]<<12|i[t.charCodeAt(s+2)]<<6|i[t.charCodeAt(s+3)];e[r++]=a>>>16&255,e[r++]=a>>>8&255,e[r++]=255&a}return 61==t.charCodeAt(o-1)&&r--,61==t.charCodeAt(o-2)&&r--,e.subarray(0,r)}}(km||(km={})),function(t){var e,n;e=t.Encoding||(t.Encoding={}),(n=e.BinaryString||(e.BinaryString={})).encode=function(e){if(null==e)throw new TypeError("BinaryString.encode: undefined or null input received");if(0===e.length)return"";for(var n=e.length,r=new t.StringBuilder,i=0,o=1,s=0;s<n;s+=2){var a=void 0;a=s==n-1?e[s]<<8:e[s]<<8|e[s+1],r.appendCharCode(i<<16-o|a>>>o),i=a&(1<<o)-1,15===o?(r.appendCharCode(i),i=0,o=1):o+=1,s>=n-2&&r.appendCharCode(i<<16-o)}return r.appendCharCode(32768|n%2),r.getOutputString()},n.decode=function(t){if("string"!=typeof t)throw new TypeError("BinaryString.decode: invalid input type");if(""==t)return new Uint8Array(0);for(var e=new Uint8Array(3*t.length),n=0,r=function(t){e[n++]=t>>>8,e[n++]=255&t},i=0,o=0,s=0;s<t.length;s++){var a=t.charCodeAt(s);a>=32768?(32769==a&&n--,o=0):(0==o?i=a:(r(i<<o|a>>>15-o),i=a&(1<<15-o)-1),15==o?o=0:o+=1)}return e.subarray(0,n)}}(km||(km={})),function(t){var e,n;e=t.Encoding||(t.Encoding={}),(n=e.CodePoint||(e.CodePoint={})).encodeFromString=function(t,e){var n=t.charCodeAt(e);if(n<55296||n>56319)return n;var r=t.charCodeAt(e+1);if(r>=56320&&r<=57343)return r-56320+(n-55296<<10)+65536;throw new Error("getUnicodeCodePoint: Received a lead surrogate character, char code "+n+", followed by "+r+", which is not a trailing surrogate character code.")},n.decodeToString=function(t){if(t<=65535)return String.fromCharCode(t);if(t<=1114111)return String.fromCharCode(55296+(t-65536>>>10),56320+(t-65536&1023));throw new Error("getStringFromUnicodeCodePoint: A code point of "+t+" cannot be encoded in UTF-16")}}(km||(km={})),function(t){var e,n,r;e=t.Encoding||(t.Encoding={}),n=e.DecimalString||(e.DecimalString={}),r=["000","001","002","003","004","005","006","007","008","009","010","011","012","013","014","015","016","017","018","019","020","021","022","023","024","025","026","027","028","029","030","031","032","033","034","035","036","037","038","039","040","041","042","043","044","045","046","047","048","049","050","051","052","053","054","055","056","057","058","059","060","061","062","063","064","065","066","067","068","069","070","071","072","073","074","075","076","077","078","079","080","081","082","083","084","085","086","087","088","089","090","091","092","093","094","095","096","097","098","099","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255"],n.encode=function(t){for(var e=[],n=0;n<t.length;n++)e.push(r[t[n]]);return e.join(" ")}}(km||(km={})),function(t){var e,n;e=t.Encoding||(t.Encoding={}),(n=e.StorageBinaryString||(e.StorageBinaryString={})).encode=function(t){return e.BinaryString.encode(t).replace(/\0/g,"")},n.decode=function(t){return e.BinaryString.decode(t.replace(/\u8002/g,"\0"))}}(km||(km={})),function(t){var e,n,r,i;e=t.Encoding||(t.Encoding={}),(n=e.UTF8||(e.UTF8={})).encode=function(e){return e&&0!=e.length?t.runningInNodeJS()?t.BufferTools.bufferToUint8Array(Cu.from(e,"utf8")):n.createNativeTextEncoderAndDecoderIfAvailable()?r.encode(e):n.encodeWithJS(e):new Uint8Array(0)},n.decode=function(e){return e&&0!=e.length?t.runningInNodeJS()?t.BufferTools.uint8ArrayToBuffer(e).toString("utf8"):n.createNativeTextEncoderAndDecoderIfAvailable()?i.decode(e):n.decodeWithJS(e):""},n.encodeWithJS=function(t,n){if(!t||0==t.length)return new Uint8Array(0);n||(n=new Uint8Array(4*t.length));for(var r=0,i=0;i<t.length;i++){var o=e.CodePoint.encodeFromString(t,i);if(o<=127)n[r++]=o;else if(o<=2047)n[r++]=192|o>>>6,n[r++]=128|63&o;else if(o<=65535)n[r++]=224|o>>>12,n[r++]=128|o>>>6&63,n[r++]=128|63&o;else{if(!(o<=1114111))throw new Error("Invalid UTF-16 string: Encountered a character unsupported by UTF-8/16 (RFC 3629)");n[r++]=240|o>>>18,n[r++]=128|o>>>12&63,n[r++]=128|o>>>6&63,n[r++]=128|63&o,i++}}return n.subarray(0,r)},n.decodeWithJS=function(e,n,r){if(void 0===n&&(n=0),!e||0==e.length)return"";void 0===r&&(r=e.length);for(var i,o,s=new t.StringBuilder,a=n,u=r;a<u;){if((o=e[a])>>>7==0)i=o,a+=1;else if(o>>>5==6){if(a+1>=r)throw new Error("Invalid UTF-8 stream: Truncated codepoint sequence encountered at position "+a);i=(31&o)<<6|63&e[a+1],a+=2}else if(o>>>4==14){if(a+2>=r)throw new Error("Invalid UTF-8 stream: Truncated codepoint sequence encountered at position "+a);i=(15&o)<<12|(63&e[a+1])<<6|63&e[a+2],a+=3}else{if(o>>>3!=30)throw new Error("Invalid UTF-8 stream: An invalid lead byte value encountered at position "+a);if(a+3>=r)throw new Error("Invalid UTF-8 stream: Truncated codepoint sequence encountered at position "+a);i=(7&o)<<18|(63&e[a+1])<<12|(63&e[a+2])<<6|63&e[a+3],a+=4}s.appendCodePoint(i)}return s.getOutputString()},n.createNativeTextEncoderAndDecoderIfAvailable=function(){return!!r||"function"==typeof TextEncoder&&(r=new TextEncoder("utf-8"),i=new TextDecoder("utf-8"),!0)}}(km||(km={})),function(t){t.compress=function(e,n){if(void 0===n&&(n={}),null==e)throw new TypeError("compress: undefined or null input received");var r=t.CompressionCommon.detectCompressionSourceEncoding(e);n=t.ObjectTools.override({inputEncoding:r,outputEncoding:"ByteArray"},n);var i=(new t.Compressor).compressBlock(e);return t.CompressionCommon.encodeCompressedBytes(i,n.outputEncoding)},t.decompress=function(e,n){if(void 0===n&&(n={}),null==e)throw new TypeError("decompress: undefined or null input received");n=t.ObjectTools.override({inputEncoding:"ByteArray",outputEncoding:"String"},n);var r=t.CompressionCommon.decodeCompressedBytes(e,n.inputEncoding),i=(new t.Decompressor).decompressBlock(r);return t.CompressionCommon.encodeDecompressedBytes(i,n.outputEncoding)},t.compressAsync=function(e,n,r){var i;null==r&&(r=function(){});try{i=t.CompressionCommon.detectCompressionSourceEncoding(e)}catch(t){return void r(void 0,t)}n=t.ObjectTools.override({inputEncoding:i,outputEncoding:"ByteArray",useWebWorker:!0,blockSize:65536},n),t.enqueueImmediate((function(){n.useWebWorker&&t.WebWorker.createGlobalWorkerIfNeeded()?t.WebWorker.compressAsync(e,n,r):t.AsyncCompressor.compressAsync(e,n,r)}))},t.decompressAsync=function(e,n,r){if(null==r&&(r=function(){}),null!=e){n=t.ObjectTools.override({inputEncoding:"ByteArray",outputEncoding:"String",useWebWorker:!0,blockSize:65536},n);var i=t.BufferTools.convertToUint8ArrayIfNeeded(e);t.EventLoop.enqueueImmediate((function(){n.useWebWorker&&t.WebWorker.createGlobalWorkerIfNeeded()?t.WebWorker.decompressAsync(i,n,r):t.AsyncDecompressor.decompressAsync(e,n,r)}))}else r(void 0,new TypeError("decompressAsync: undefined or null input received"))},t.createCompressionStream=function(){return t.AsyncCompressor.createCompressionStream()},t.createDecompressionStream=function(){return t.AsyncDecompressor.createDecompressionStream()},t.encodeUTF8=function(e){return t.Encoding.UTF8.encode(e)},t.decodeUTF8=function(e){return t.Encoding.UTF8.decode(e)},t.encodeBase64=function(e){return t.Encoding.Base64.encode(e)},t.decodeBase64=function(e){return t.Encoding.Base64.decode(e)},t.encodeBinaryString=function(e){return t.Encoding.BinaryString.encode(e)},t.decodeBinaryString=function(e){return t.Encoding.BinaryString.decode(e)},t.encodeStorageBinaryString=function(e){return t.Encoding.StorageBinaryString.encode(e)},t.decodeStorageBinaryString=function(e){return t.Encoding.StorageBinaryString.decode(e)}}(km||(km={}));var xm=Am.exports;const{pipe:Bm,curry:Cm,sort:Tm,difference:Im,__:Mm}=lu,{recursiveReplace:Rm}=am,Um=xm,Om=Cm(Um.decompress)(Mm,{inputEncoding:"Buffer",outputEncoding:"String"}),Lm=Bm(Cu.from,Om);var Pm={compress:t=>Um.compress(t,{outputEncoding:"Buffer"}),decompress:Lm,zwcHuffMan:t=>{const e=[t[0]+t[1],t[0]+t[2],t[0]+t[3],t[1]+t[2],t[1]+t[3],t[2]+t[3]];return{shrink:n=>{const r=((t,e)=>{const n=e.reduce(((t,e)=>(t[e]={},t)),{}),r=t.length;for(let e=0;e<r;e++){let i=1;for(;e<r&&t[e]===t[e+1];)i++,e++;if(i>=2){let r=i;for(;r>=2;)n[t[e]][r]=(n[t[e]][r]||0)+Math.floor(i/r)*(r-1),r--}}const i=[];for(const t in n)for(const e in n[t])i.push([t+e,n[t][e]]);let o=Tm(((t,e)=>e[1]-t[1]),i).filter((t=>"2"===t[0][1])).slice(0,2).map((t=>t[0][0]));return 2!==o.length&&(o=o.concat(Im(e,o).slice(0,2-o.length))),o.slice().sort()})(n,t.slice(0,4));return((n,r)=>t[e.indexOf(n+r)])(...r)+Rm(n,r.map((t=>t+t)),[t[4],t[5]])},expand:n=>{const r=n[0],i=n.slice(1),o=(s=r,e[t.indexOf(s)].split(""));var s;return Rm(i,[t[4],t[5]],o.map((t=>t+t)))}}}};const{pipe:jm,intersection:Dm,indexOf:Nm,curry:Wm,__:Fm,slice:zm,split:qm,join:Hm,map:Gm}=lu,{zeroPad:Vm,nTobin:Ym,stepMap:$m,binToByte:Jm}=am;var Xm={zwcOperations:t=>{const e=jm(Nm(Fm,t),Ym,Vm(2)),n=(e,n,r)=>(e&&n?t[0]:n?t[1]:t[2])+$m(((e,n)=>(e=>t[parseInt(e,2)])(r[n]+r[n+1])))(2,new Array(r.length).fill()).join("");return{detach:e=>{const n=e.split(" ").reduce(((e,n)=>{const r=n.split("");if(0!==Dm(t,r).length){const e=r.findIndex(((e,n)=>!~t.indexOf(e)));return n.slice(0,e)}return e}),"");if(!n)throw new Error("Invisible stream not detected! Please copy and paste the StegCloak text sent by the sender.");return n},concealToData:n=>{const{encrypt:r,integrity:i}=(e=>{const n=t.indexOf(e[0]);return 0===n?{encrypt:!0,integrity:!0}:1===n?{encrypt:!0,integrity:!1}:2===n?{encrypt:!1,integrity:!1}:void 0})(n);return{encrypt:r,integrity:i,data:jm(zm(1,1/0),qm(""),Gm(e),Hm(""),Jm)(n)}},toConcealHmac:Wm(n)(!0)(!0),toConceal:Wm(n)(!1)(!0),noCrypt:Wm(n)(!1)(!1)}},embed:(t,e)=>{const n=t.split(" "),r=Math.floor(Math.random()*Math.floor(n.length/2));return n.slice(0,r+1).concat([e+n[r+1]]).concat(n.slice(r+2,n.length)).join(" ")}};const Km=lu,{encrypt:Qm,decrypt:Zm}=Sm,{compress:tb,decompress:eb,zwcHuffMan:nb}=Pm,{zwcOperations:rb,embed:ib}=Xm,ob=["","","","","",""],{toConceal:sb,toConcealHmac:ab,concealToData:ub,noCrypt:cb,detach:lb}=rb(ob),{shrink:hb,expand:fb}=nb(ob),{byteToBin:db,compliment:pb}=am;var gb=class{constructor(t=!0,e=!1){this.encrypt=t,this.integrity=e}static get zwc(){return ob}hide(t,e,n="This is a confidential text"){if(1===n.split(" ").length)throw new Error("Minimum two words required");const r=this.integrity,i=this.encrypt,o=Km.pipe(tb,pb)(t),s=i?Qm({password:e,data:o,integrity:r}):o,a=Km.pipe(db,r&&i?ab:i?sb:cb,hb)(s);return ib(n,a)}reveal(t,e){const{data:n,integrity:r,encrypt:i}=Km.pipe(lb,fb,ub)(t),o=i?Zm({password:e,data:n,integrity:r}):n;return Km.pipe(pb,eb)(o)}},yb=ft(gb);class vb{constructor(t){this.roomId=t,this.roomInfoReady=new Promise(((t,e)=>{this.resolveRoomInfo=t})),this.getRoomInfo()}getRoomInfo(){var t;return rt(this,void 0,void 0,(function*(){let e=yield fetch("https://www.gimkit.com/api/matchmaker/find-info-from-code",{method:"POST",body:JSON.stringify({code:this.roomId}),headers:{"Content-Type":"application/json"}}),n=yield e.json();if(404===n.code)throw new Error("Game not found");this.roomInfo=n,null===(t=this.resolveRoomInfo)||void 0===t||t.call(this)}))}spawn(t=Math.random().toString(36).substring(7)){return rt(this,void 0,void 0,(function*(){yield this.roomInfoReady;let e=yield fetch("https://www.gimkit.com/join"),n=yield e.text();const r=(new DOMParser).parseFromString(n,"text/html").querySelector("meta[property='int:jid']").getAttribute("content").split("").reverse().join("");let i=new yb(!0,!1).hide(r,"BSKA","Gimkit Web Client V3.1"),o=yield fetch("https://www.gimkit.com/api/matchmaker/join",{headers:{"Content-Type":"application/json"},body:JSON.stringify({clientType:i,name:t,roomId:this.roomInfo.roomId}),method:"POST"}),s=yield o.json();if("original"==s.source){const t=`wss${s.serverUrl.substr(5)}/blueboat/?id=&EIO=3&transport=websocket`;let e=new WebSocket(t);return e.addEventListener("open",(()=>{let t=y.encode(["blueboat_JOIN_ROOM",{roomId:s.roomId,options:{intent:s.intentId}}]);e.send(t);let n=setInterval((()=>{e.send("2")}),25e3);e.addEventListener("close",(()=>{clearInterval(n)}))})),e}const a=`${s.serverUrl}/matchmake/joinById/${s.roomId}`;let u=yield fetch(a,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({intentId:s.intentId})}),c=yield u.json();const l=`wss${s.serverUrl.substr(5)}/${c.room.processId}/${c.room.roomId}?sessionId=${c.sessionId}`;return new WebSocket(l)}))}}const mb={menus:[{name:"General Cheats",groups:[{name:"Account Spawner (beta)",elements:[{type:"text",options:{text:"Spawn an account in your game with any name."}},{type:"button",options:{text:"Disconnect All",runFunction:"disconnect"}}]}]}]};class bb{constructor(){this.name="Account Spawner",this.hudAddition=mb,this.accountName="My Epic Bot",this.funcs=new Map([["disconnect",()=>{this.removeAll()}]]),this.connections=[]}init(t){var e,n,r,i;this.cheat=t;let o=null===(n=null===(e=t.hud.menu("General Cheats"))||void 0===e?void 0:e.group("Account Spawner (beta)"))||void 0===n?void 0:n.addElement("textinput",{text:"Account Name"});null==o||o.addEventListener("input",(t=>{this.accountName=t.detail}));let s=null===(i=null===(r=t.hud.menu("General Cheats"))||void 0===r?void 0:r.group("Account Spawner (beta)"))||void 0===i?void 0:i.addElement("button",{text:"Spawn Account"});null==s||s.addEventListener("click",(()=>{this.spawnAccount()}))}spawnAccount(){return rt(this,void 0,void 0,(function*(){this.cheat.gameId&&(this.room||(this.room=new vb(this.cheat.gameId)),this.connections.push(yield this.room.spawn(this.accountName)))}))}removeAll(){for(let t of this.connections)t.close();this.connections=[]}}const wb={menus:[{name:"Cheats for gamemodes",groups:[{name:"The Floor is Lava",elements:[{type:"toggle",options:{textEnabled:"Stop Auto Building",textDisabled:"Start Auto Building",default:!1,runFunction:"setAutoBuilding",keybind:!0,keybindId:"autoBuilding"}},{type:"toggle",options:{textEnabled:"Stop Hiding Popups",textDisabled:"Start Hiding Popups",default:!1,runFunction:"setHidingPopups",keybind:!0,keybindId:"hidingPopups"}}]}]}]};class _b{constructor(){this.name="Floor is Lava",this.hudAddition=wb,this.money=0,this.autoPurchasing=!1,this.hidingPopups=!1,this.funcs=new Map([["setAutoBuilding",t=>{this.autoPurchasing=t,this.autoPurchasing&&this.checkAutoBuy()}],["setHidingPopups",t=>{this.hidingPopups=t,t&&document.querySelectorAll(".Toastify__toast").forEach((t=>t.remove()))}]]),this.structures=[["spaceElevator",5e7],["mountain",5e6],["skyscaper",5e5],["shoppingMall",5e4],["house",5e3],["wall",500],["brick",50],["plank",5]]}init(t){this.cheat=t,this.cheat.socketHandler.addEventListener("recieveMessage",(t=>{var e;"blueboat"==this.cheat.socketHandler.transportType&&"BALANCE"==(null===(e=t.detail.data)||void 0===e?void 0:e.type)&&(this.money=t.detail.data.value,this.checkAutoBuy())}));let e=new MutationObserver((t=>{if(this.hidingPopups)for(let e of t)for(let t of e.addedNodes)t instanceof HTMLElement&&t.matches(".Toastify__toast")&&t.remove()}));window.addEventListener("load",(()=>{e.observe(document.body,{childList:!0,subtree:!0})}))}checkAutoBuy(){if(this.autoPurchasing)for(let t of this.structures)if(this.money>=t[1]){this.buyStructure(t[0]);break}}buyStructure(t){this.cheat.socketHandler.sendData("LAVA_PURCHASE_PIECE",{type:t})}}class Eb extends EventTarget{constructor(){super(),this.keybindManager=new m,this.funcs=new Map,this.scripts=[],this.gameId="",window.cheat=this,this.socketHandler=new v(this),this.socketHandler.addEventListener("socket",(t=>{kb.log("Socket connected",t)})),this.socketHandler.getSocket(),this.hud=new j(this),this.scripts=[new N,new nt,new F,new G,new Y,new $,new lt,new bb,new K,new Z,new tt,new ut,new ot,new _b],this.initScripts(),this.setupCodeExtraction(),this.waitForLoad()}waitForLoad(){let t=setInterval((()=>{var e,n,r,i;let o=null===(e=null===unsafeWindow||void 0===unsafeWindow?void 0:unsafeWindow.stores)||void 0===e?void 0:e.loading;(null==o?void 0:o.percentageAssetsLoaded)>=100&&(null==o?void 0:o.completedInitialLoad)&&(null==o?void 0:o.loadedInitialDevices)&&(null==o?void 0:o.loadedInitialTerrain)&&"__NO_TEAM_ID"!=(null===(i=null===(r=null===(n=null===unsafeWindow||void 0===unsafeWindow?void 0:unsafeWindow.stores)||void 0===n?void 0:n.phaser)||void 0===r?void 0:r.mainCharacter)||void 0===i?void 0:i.teamId)&&(clearInterval(t),this.log("Game Loaded"),this.dispatchEvent(new CustomEvent("gameLoaded")))}),1e3/60)}initScripts(){for(let t of this.scripts){if(t.funcs)for(let[e,n]of t.funcs)this.funcs.set(e,n);t.hudAddition&&this.hud.loadFromObject(t.hudAddition),t.init&&t.init(this)}}antifreeze(){let t=Object.freeze;Object.freeze=e=>{var n;return"WebSocket"==(null===(n=e.constructor)||void 0===n?void 0:n.name)||"WebSocket"==e.name?e:t(e)};var e=WebSocket.prototype.send;Object.defineProperty(WebSocket.prototype,"send",{configurable:!1,enumerable:!1,get:function(){return e},set:function(t){t!==e&&console.log("Attempted to modify WebSocket.prototype.send")}})}log(...t){console.log("[GC]",...t)}setupCodeExtraction(){let t=XMLHttpRequest.prototype.send,e=this;XMLHttpRequest.prototype.send=function(...n){this.addEventListener("load",(()=>{this.responseURL.endsWith("/find-info-from-code")&&(e.gameId=JSON.parse(n[0]).code,e.log("Game ID:",e.gameId))}),{once:!0}),t.apply(this,n)}}getScript(t){for(let e of this.scripts)if(e.name==t)return e;return null}}const kb=new Eb;kb.log("Loaded Gimkit Cheat version: 0.3.8"),kb.antifreeze(),Object.isFrozen(WebSocket)&&alert("WebSocket object is still frozen. Please try refreshing the page. If this persists, open an issue on GitHub.")}();
